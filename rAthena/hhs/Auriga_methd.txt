geffen_in.gat,141,140,3	script	モルゲンシュタイン	121,{
	mes "[化学者モルゲンシュタイン]";
	mes "ヒヒヒヒ……ようこそ。";
	mes "ヒヒヒヒ……ウヒヒヒヒッ……";
	next;
	switch (select("今やっている研究について聞く","研究品を作ってくれと頼む","やめる")) {
	case 1:
		mes "[化学者モルゲンシュタイン]";
		mes "ヒヒヒヒ……どこかで私の研究について";
		mes "聞いてきたみたいだな……";
		mes "そう……ま、全部知ってるだろうから";
		mes "隠さずに話してやる……いや……";
		mes "隠すこともないだろ……ヒヒヒヒヒ……";
		next;
		mes "[化学者モルゲンシュタイン]";
		mes "実は……私の研究はもう完成している…";
		mes "この私の天才的頭脳にできないことは";
		mes "ない……ヒヒヒ……";
		mes "時間が問題であるだけだ……";
		mes "時間……ヒヒヒッ……";
		next;
		mes "[化学者モルゲンシュタイン]";
		mes "……その研究について知りたいと";
		mes "言ったな……それはとっても簡単な";
		mes "もんさ……水に溶けない物を";
		mes "溶かす方法を発見しようとしただけさ。";
		next;
		mes "[化学者モルゲンシュタイン]";
		mes "興味津々じゃないか？";
		mes "あの堅い岩と鉄の固まりを";
		mes "力のない液体に溶かす方法!!!";
		next;
		mes "[化学者モルゲンシュタイン]";
		mes "何もかもがどろどろ～～～";
		mes "どろどろになるだろう!!ヒヒ!!!";
		mes "……ヒヒヒヒッ!!……どろどろ!!!";
		mes "ヒヒヒヒッヒヒ!!!!";
		next;
		mes "[化学者モルゲンシュタイン]";
		mes "へ……へ……はぁ……はぁ……";
		mes "と、とにかく……まだ全てを";
		mes "溶かすことはできないが、";
		mes "いくつか発見したことがある。";
		next;
		mes "[化学者モルゲンシュタイン]";
		mes "この方法で君が想像できるより、";
		mes "ずっと多くのものが作り出せるだろう";
		mes "……君が願うなら!!";
		next;
		mes "[化学者モルゲンシュタイン]";
		mes "……ああ……身体中の循環が活性化し";
		mes "顔が赤くなるこの感じ……考えるだけで";
		mes "頭の中に愉快な液体が分泌され、";
		mes "快楽の嬉しさに満ちるこの感じ……";
		mes "ああああ……";
		close;
	case 2:
		mes "[化学者モルゲンシュタイン]";
		mes "ヒヒヒヒッ……";
		mes "やっぱり君も興味があったんだ。";
		next;
		mes "[化学者モルゲンシュタイン]";
		mes "そう……そうだ……世の中誰だって";
		mes "興味を持たざるを得ないだろ……";
		mes "愉快で、興奮すること……フフフフ";
		next;
		mes "[化学者モルゲンシュタイン]";
		mes "さあ……何を作り出したいかい??";
		mes "……うん？ヒヒヒヒ";
		next;
		if(select("中和剤","混合剤")==1) {
			set .@need,971;
			set .@price,3000;
			set .@gain,973;
		}
		else {
			set .@need,972;
			set .@price,4000;
			set .@gain,974;
		}
		mes "[化学者モルゲンシュタイン]";
		mes "お……" +getitemname(.@gain)+ "を作りたいと言ったかい";
		mes "……フ フ フ フ……では、";
		mes "その遊戯のために準備する物を";
		mes "教えてやる。";
		next;
		mes "[化学者モルゲンシュタイン]";
		mes "……どれ……お……お………";
		mes "ああ……はあ……";
		next;
		mes "[化学者モルゲンシュタイン]";
		mes "お……思い出した……そう……";
		mes "アルコール……と……" +getitemname(.@need);
		mes "……そしてそれを保管できる空きビン…";
		next;
		mes "[化学者モルゲンシュタイン]";
		mes "この三つの物さえあれば作れる……";
		mes "そして、私に天才的な頭脳と技術に";
		mes "対して感謝を頼みたい……ヒヒヒヒッ";
		next;
		mes "[化学者モルゲンシュタイン]";
		mes "そんなに負担のかかるもんじゃない……";
		mes "大したものが欲しいわけではない……";
		mes "……フ フ フ フ";
		mes "よ～く聴け……" +.@price+ " zenyさえ";
		mes "出せばいい……ヒヒヒヒ";
		next;
		mes "[化学者モルゲンシュタイン]";
		mes "お……お……ひょっとして高いと";
		mes "思ってるわけじゃないだろ？";
		mes "……私には感じられる……";
		mes "君には私のような冒険と創造の欲望が";
		mes "あることを！";
		mes "……ヒヒヒヒヒヒヒヒヒヒヒッ";
		next;
		mes "[化学者モルゲンシュタイン]";
		mes "さあ……始めるか？";
		next;
		if(select("作る","やめる")==2) {
			mes "[化学者モルゲンシュタイン]";
			mes "フ……フフフフフ……";
			close;
		}
		if(countitem(970)<1 || countitem(.@need)<1 || countitem(713)<1 || Zeny<.@price) {
			mes "[化学者モルゲンシュタイン]";
			mes "フフフフ……足りない……";
			mes "ハア……ハア……早く……早く……";
			mes "材料を集めて来たまえ!!";
			mes "遊戯はその後に……フフフフフ";
			close;
		}
		mes "[化学者モルゲンシュタイン]";
		mes "おおお……ヒヒヒヒヒヒ……";
		mes "そう……こうして……そう……";
		mes "もっと……ヒヒヒヒヒ";
		mes "……アア……アハ……ハ……アハ……";
		mes "おお……おお！";
		mes "……おおおおおっ!!!!!!!!!";
		next;
		delitem 970,1;
		delitem .@need,1;
		delitem 713,1;
		set Zeny,Zeny-.@price;
		getitem .@gain,1;
		mes "[化学者モルゲンシュタイン]";
		mes "……はあ……";
		close;
	case 3:
		mes "[化学者モルゲンシュタイン]";
		mes "ヒヒ……ヒヒヒヒ……";
		close;
	}
}

morocc_in.gat,146,99,3	script	ザバドリハン	58,{
	mes "[染料製作者ザバドリハン]";
	mes "やぁ……今日は本当に暑いね。";
	mes "こんな天気こそ染料作りにピッタリさ！";
	next;
	switch (select("話をする","染料をつくる","やめる")) {
	case 1:
		mes "[染料製作者ザバドリハン]";
		mes "君に話すことは特にないけど……";
		mes "そうだね、私の過去の話でよかったら";
		mes "聴かせるよ。";
		mes "少し長くてつまんないかも知れないけど";
		mes "聴いてみるかい？";
		next;
		if(select("聴く","聴かない")==2) {
			mes "[染料製作者ザバドリハン]";
			mes "あはは……やれやれ……";
			mes "私みたいな染料職人の話を";
			mes "聞いてくれるはずないか。";
			mes "ハハハハッ……";
			close;
		}
		mes "[染料製作者ザバドリハン]";
		mes "物心がつく前から……";
		mes "私の父は染料を作っていた。";
		mes "数えられないほど長い時間、";
		mes "父はずっと染料を作っていた。";
		next;
		mes "[染料製作者ザバドリハン]";
		mes "そう……母が病気で死んだ時までも";
		mes "……染料作りをやめなかった。";
		mes "その時は、そんな父が憎かった……";
		next;
		mes "[染料製作者ザバドリハン]";
		mes "そんな父が嫌で染料作りも嫌いになって";
		mes "若い頃は家を出て、何でもやって";
		mes "みたりしたけれど……";
		next;
		mes "[染料製作者ザバドリハン]";
		mes "でも……私は今、再び家に戻って";
		mes "染料作りの家業を継いでいる。";
		mes "血は誤魔化せなかったみたいさ……";
		mes "この仕事を始めて、もう……";
		mes "15年経ったな。";
		next;
		mes "[染料製作者ザバドリハン]";
		mes "この頃になって感じてるのは……";
		mes "今は父が理解できるってことさ。";
		mes "父がどうして全てを捨てたまま、";
		mes "染料作りに夢中になったかを……";
		next;
		mes "[染料製作者ザバドリハン]";
		mes "それは多分、何回も繰り返した作業で";
		mes "重なって染まっていく、あの色……";
		mes "何十回何千回、夢の中で見たような";
		mes "あの幻の色を出すためだったんだろう…";
		next;
		mes "[染料製作者ザバドリハン]";
		mes "フッ……";
		mes "どうしてそれが分かるのかって？";
		mes "それは……今の私がそうだからさ。";
		mes "何年前からだったか……";
		mes "色の言うことが分かるようになった";
		mes "あの瞬間から……";
		next;
		mes "[染料製作者ザバドリハン]";
		mes "見てろ！";
		mes "私は父が成し遂げられなかった";
		mes "あの色を必ず実現させて見せるさ！";
		close;
	case 2:
		mes "[染料製作者ザバドリハン]";
		mes "よし！君さえよかったら、作ろう。";
		mes "私が必ず君の欲しい色を";
		mes "出してやると、約束しよう。";
		next;
		mes "[染料製作者ザバドリハン]";
		mes "で、どんな色の染料が作りたいかい？";
		mes "作ろうとする色によって手数料が";
		mes "違うよ。";
		next;
		mes "[染料製作者ザバドリハン]";
		mes "なぜかって？";
		mes "この世には簡単に作れる色と、";
		mes "そうじゃない色があるんだ。";
		mes "手数料が高いなんて思わないでおくれ。";
		mes "この染料は私の魂が込められている、";
		mes "特別な物なんだからね！";
		next;
		switch (select("赤色の染料","黄色の染料","靑色の染料","録色の染料","紅色の染料","紫色の染料","白色の染料","黑色の染料","やめる")) {
			case 1:
				mes "[染料製作者ザバドリハン]";
				mes "うーむ……赤色の染料を作るためには";
				mes "赤ハーブ 30個 と 中和剤、";
				mes "そして空きビン 1個が必要だ。";
				mes "手数料は 3000 zenyになる。";
				setarray .@need,507,973,713;
				setarray .@amount,30,1,1;
				set .@price,3000;
				set .@gain,975;
				break;
			case 2:
				mes "[染料製作者ザバドリハン]";
				mes "うーむ……黄色の染料を作るためには";
				mes "黄ハーブ 30個 と 中和剤、";
				mes "そして空きビン 1個が必要だ。";
				mes "手数料は 3000 zenyになる。";
				setarray .@need,508,973,713;
				setarray .@amount,30,1,1;
				set .@price,3000;
				set .@gain,976;
				break;
			case 3:
				mes "[染料製作者ザバドリハン]";
				mes "うーむ……青色の染料を作るためには";
				mes "青ハーブ 20個 と 中和剤、";
				mes "そして空きビン 1個が必要だ。";
				mes "手数料は 3500 zenyになる。";
				setarray .@need,510,973,713;
				setarray .@amount,20,1,1;
				set .@price,3500;
				set .@gain,978;
				break;
			case 4:
				mes "[染料製作者ザバドリハン]";
				mes "うーむ……緑色の染料を作るためには";
				mes "青ハーブ 5個 と 緑ハーブ 20個";
				mes "黄ハーブ 20個　中和剤 と 混合剤、";
				mes "そして空きビン 1個が必要だ。";
				mes "材料が多いから、間違いないように。";
				mes "手数料は 5000 zenyになる。";
				setarray .@need,510,973,713,511,508,974;
				setarray .@amount,5,1,1,20,20,1;
				set .@price,5000;
				set .@gain,979;
				break;
			case 5:
				mes "[染料製作者ザバドリハン]";
				mes "うーむ……紅色の染料を作るためには";
				mes "赤ハーブ 20個 と 黄ハーブ 20個";
				mes "中和剤 と 混合剤、";
				mes "そして空きビン 1個が必要だ。";
				mes "手数料は 5000 zenyになる。";
				setarray .@need,507,973,713,974,508;
				setarray .@amount,20,1,1,1,20;
				set .@price,5000;
				set .@gain,980;
				break;
			case 6:
				mes "[染料製作者ザバドリハン]";
				mes "うーむ……紫色の染料を作るためには";
				mes "青ハーブ 10個と赤ハーブ 30個";
				mes "中和剤 と 混合剤、";
				mes "そして空きビン 1個が必要だ。";
				mes "手数料は 5000 zenyになる。";
				setarray .@need,507,973,713,974,510;
				setarray .@amount,20,1,1,1,10;
				set .@price,5000;
				set .@gain,981;
				break;
			case 7:
				mes "[染料製作者ザバドリハン]";
				mes "うーむ……白色の染料を作るためには";
				mes "白ハーブ 30個 と 中和剤";
				mes "そして空きビン 1個が必要だ。";
				mes "手数料は 3000 zenyになる。";
				setarray .@need,509,973,713;
				setarray .@amount,30,1,1;
				set .@price,3000;
				set .@gain,982;
				break;
			case 8:
				mes "[染料製作者ザバドリハン]";
				mes "うーむ……黒色の染料を作るためには";
				mes "赤、黄、緑のハーブが 30個ずつ";
				mes "青ハーブ 5個 と 中和剤、混合剤";
				mes "そして空きビン 1個が必要だ。";
				mes "作成が難しく、長い時間が必要だから";
				mes "手数料は 7000 zenyになる。";
				setarray .@need,507,973,713,510,508,974,511;
				setarray .@amount,30,1,1,5,30,1,30;
				set .@price,7000;
				set .@gain,983;
				break;
			case 9:
				mes "[染料製作者ザバドリハン]";
				mes "何？今さら気が変わった？";
				mes "そんな……";
				close;
		}
		next;
		mes "[染料製作者ザバドリハン]";
		mes "さあ！準備できていると思うが……";
		mes "作業を始めるかい？";
		next;
		if(select("染料をつくる","やめる")==2) {
			mes "[染料製作者ザバドリハン]";
			mes "何？今さら気が変わった？";
			mes "そんな……";
			close;
		}
		//各アイテムに対して所持数のチェックとZeny判定
		for(set .@i,0; .@i<getarraysize(.@need); set .@i,.@i+1) {
			if(countitem(.@need[.@i]) < .@amount[.@i] || Zeny<.@price) {
				mes "[染料製作者ザバドリハン]";
				mes "ふーむ、足りないね……";
				mes "その材料では、満足な色が出せないな。";
				mes "もっと材料を集めて来てくれ。";
				close;
			}
		}
		for(set .@i,0; .@i<getarraysize(.@need); set .@i,.@i+1) {
			delitem .@need[.@i],.@amount[.@i];
		}
		set Zeny,Zeny-.@price;
		getitem .@gain,1;
		mes "[染料製作者ザバドリハン]";
		mes "ふーむ……ま、これなら良く";
		mes "できたほうさ。";
		mes "とっても濃い色に仕上がったよ。";
		mes "もちろん、私はこれ以上に魅惑的な色を";
		mes "作り出すために努力するさ……";
		next;
		mes "[染料製作者ザバドリハン]";
		mes "では、染料がまた必要になったら";
		mes "いつでも来なさい。";
		close;
	case 3:
		mes "[染料製作者ザバドリハン]";
		mes "自慢じゃないが、私は染色薬を作る";
		mes "技術をもっているのさ。";
		mes "もし染料が必要なら、私に";
		mes "頼んでくれればいいさ。";
		mes "悪くない値段で作ってあげるよ。";
		close;
	}
}

alberta.gat,33,141,0	script	放浪美容師	87,{
	mes "[チャーリー　ビシェム]";
	mes "ヘイ！";
	mes "こんなところまでお前もモノ好きね！";
	mes "我こそは「真の美とは何か！」";
	mes "それがわかる者なのだ！";
	next;
	switch (select("何してる人ですか？","真の美を私にもください","……")) {
	case 1:
		mes "[チャーリー　ビシェム]";
		mes "ヘイ！";
		mes "私はズバリ美容師だ。";
		mes "世界を旅して人々に美をプレゼント";
		mes "することを生きがいとしている！";
		mes "ところで、この街にヘアーデザイナー";
		mes "を自称している小娘が来たらしいな。";
		next;
		mes "[チャーリー　ビシェム]";
		mes "ちょっと様子を見てみたら、";
		mes "客は自分の好きな髪型を頼んでいた。";
		mes "しか～し！";
		mes "それではいかんのだよ！";
		mes "頼まれればたとえ似合わない髪形でも";
		mes "注文通りにしてしまっている。";
		next;
		mes "[チャーリー　ビシェム]";
		mes "しかも髪を切る技術が全然未熟だね！";
		mes "あれでは美容師とは言えない。";
		mes "髪は切れば良いってもんじゃない。";
		mes "まったく気に入らんね。";
		next;
		mes "[チャーリー　ビシェム]";
		mes "もしお前も私から美をプレゼント";
		mes "してもらいたければ、いつでも";
		mes "言ってくれたまえ。";
		mes "特別に美しく仕上げてやるぞ。";
		mes "あんなあほらしい美容師に";
		mes "任せてはいられん。";
		close;
	case 2:
		if(BaseLevel < 60) {
			mes "[チャーリー　ビシェム]";
			mes "ヘイ！";
			mes "私の芸術的なセンスに言わせれば";
			mes "お前に一番よく似合う髪形は";
			mes "今のそのスタイルだ。";
			mes "私の言うことに間違いはない。";
			close;
		}
		if(Zeny<199800) {
			mes "[チャーリー　ビシェム]";
			mes "ヘイ！";
			mes "他の物は何も要らない。";
			mes "とにかくゼニーだ！";
			mes "何やらあの小娘がこざかしい";
			mes "ことをしているみたいだが……";
			mes "あ、いやこっちのことだ。";
			next;
			mes "[チャーリー　ビシェム]";
			mes "199,800ゼニーで";
			mes "誰にでも美を分けてやる。";
			mes "光栄に思え！";
			close;
		}
		mes "[チャーリー　ビシェム]";
		mes "よし、手数料として";
		mes "199,800ゼニーをもらう。";
		mes "あの偽者美容師にだまされるより";
		mes "はるかに良いだろう。";
		next;
		if(select("お願いします","やっぱりやめます")==2) {
			mes "[チャーリー　ビシェム]";
			mes "フン！好きにしろ！";
			mes "真の美しさは職人の手から";
			mes "生まれるのだという真実を";
			mes "いつか知ることになる……";
			close;
		}
		mes "[チャーリー　ビシェム]";
		mes "ヘイ！";
		mes "動くんじゃ～ないぞ！";
		next;
		nude;
		mes "[チャーリー　ビシェム]";
		mes "フオオオオ！";
		mes "ハイーーッ！";
		next;
		mes "[チャーリー　ビシェム]";
		mes "フオリャ！";
		mes "トゥアー！";
		mes "デイヤァ！";
		next;
		mes "[チャーリー　ビシェム]";
		mes "完成!!　立派だ、立派!!";
		mes "誰にも付いて来れない";
		mes "このスタイル！";
		mes "ワハハハハハハ!!";
		setlook 1,rand(1,19);
		setlook 6,rand(9);
		set Zeny,Zeny-199800;
		close;
	case 3:
		mes "[チャーリー　ビシェム]";
		mes "「真の美とは何か」がわからん小娘に";
		mes "ヘアースタイルを変えてもらいに";
		mes "行く者たち……";
		mes "あまりにもかわいそう……";
		mes "かわいそうだぁぁぁ！";
		mes "ゴフッゲフッ……";
		close;
	}
}
lhz_in02.gat,91,155,4	script	見習い美容師	862,{
	emotion 23;
	mes "[見習い美容師]";
	mes "うんしょ、よいしょ……";
	next;
	mes "[見習い美容師]";
	mes "あ、あの……いらっしゃい！";
	mes "どういったご用件でしょう？";
	mes "え、頭？　頭が痛いの？";
	next;
	mes "[見習い美容師]";
	mes "あ、ヘアスタイルについてかな？";
	next;
	switch(select("あなたは？","ヘアスタイルを変えたい","プリンス・シャミについて")) {
	case 1:
		mes "[見習い美容師]";
		mes "え？　私？";
		mes "歳は秘密ですよ！";
		next;
		mes "[見習い美容師]";
		mes "え、歳は聞いてないって？";
		mes "うんと、恋人は実は……";
		mes "う～ん、これも内緒!!";
		next;
		mes "[見習い美容師]";
		mes "キャー！　こんなことしてたら";
		mes "先生に怒られちゃう！";
		mes "振りでもいいから仕事しなくっちゃ!!";
		close;
	case 2:
		if(BaseLevel < 60) {
			mes "[見習い美容師]";
			mes "ええ？";
			mes "だ、ダメですよぅ……";
			next;
			mes "[見習い美容師]";
			mes "大変なことになっちゃうよ？";
			close;
		}
		if(Zeny < 250000) {
			mes "[見習い美容師]";
			mes "フフフ、私はまだ見習いだけど、";
			mes "ちゃ～んと勉強してるんだからね。";
			mes "材料費250,000Zenyを";
			mes "持ってきたら、ヘアスタイルと、";
			mes "染め付けもサービスしちゃうよ。";
			next;
			mes "[見習い美容師]";
			mes "先生は完璧主義者で、";
			mes "私に全然演習させてくれないけど、";
			mes "全然問題ナッシング!!";
			mes "私の実力を発揮して、";
			mes "あなたを見違えるようにしてあげます!!";
			close;
		}
		mes "[見習い美容師]";
		mes "いよいよ実習だ～!!　ヤッホ～！";
		mes "ヘアスタイルの変更と、";
		mes "染め付けもサービスしちゃうね。";
		mes "材料費250,000Zenyが";
		mes "かかるけど、いいかな？";
		mes "それじゃ、いくよ～？";
		next;
		if(select("する","しない")==2) {
			mes "[見習い美容師]";
			mes "ええ～何で～？";
			close;
		}
		mes "[見習い美容師]";
		mes "よぉぉぉぉっし!!";
		mes "んじゃいくよ!!";
		next;
		mes "[見習い美容師]";
		mes "さぁ、実習実習！";
		mes "私を信じてちょうだい！";
		next;
		nude;
		mes "[見習い美容師]";
		mes "とぉぉぉぉぉりゃぁぁぁぁぁぁ!!";
		next;
		mes "[見習い美容師]";
		mes "てい！　やぁ！　はぁ！";
		next;
		mes "[見習い美容師]";
		mes "うわぁっとっと、やばっ……";
		mes "ええぃ、こうだ！";
		next;
		mes "[見習い美容師]";
		mes "それぃぃぃ！";
		next;
		mes "[見習い美容師]";
		mes "きぇぇぇぇぇい!!!!";
		next;
		mes "[見習い美容師]";
		mes "ハァハァ……";
		next;
		setlook 1,rand(1,78);
		setlook 6,rand(9);
		set Zeny,Zeny-250000;
		mes "[見習い美容師]";
		mes "で、できたわっ!!";
		mes "え？　希望したヘアスタイルと";
		mes "違うですって？";
		mes "そんな～気のせいでしょ！";
		next;
		emotion 30;
		mes "[見習い美容師]";
		mes "ああ、実習できてよかった。";
		mes "またよろしくね!!";
		close;
	case 3:
		mes "[見習い美容師]";
		mes "ええと、恋人はいないみたいですよ？";
		mes "何故そんなことを……？";
		mes "はっ!!　まさかあなた……";
		mes "先生を狙ってるの!?";
		mes "うわぁ……";
		close;
	}
}
-	script	IceBuyer	85,{
	mes "[アイスクリーム商人]";
	if(strnpcinfo(2) == "moc") {
		mes "さぁ、モロクが大変な";
		mes "今だからこそ";
		mes "冷たいアイスクリーム！";
		mes "^3355FF100 Zeny^000000で";
		mes "身も心も爽やかにリフレッシュ！";
		mes "明日への活力にいかがですか！";
	}
	else if(strnpcinfo(2) == "moc_") {
		mes "さぁ、思わず食べたくなる";
		mes "冷たいアイスクリーム！";
		mes "^3355FF100 Zeny^000000で";
		mes "身も心も爽やかに！";
	}
	else if(strnpcinfo(2) == "moc_2") {
		mes "さぁ、思わず食べたくなる";
		mes "冷たいアイスクリーム！";
		mes "^3355FF100 Zeny^000000で";
		mes "身も心も爽やかに！";
	}
	else {
		mes "冷たくて甘～い";
		mes "アイスクリーム！";
		mes "^3355FF100 Zeny^000000で";
		mes "身も心も爽やかに！";
	}
	next;
	switch(select("アイスクリームをください！","アイスクリームについて","取引をやめる")) {
	case 1:
		mes "[アイスクリーム商人]";
		if(strnpcinfo(2) == "moc") {
			mes "ありがとうございます!!";
			mes "このキャンプに移転したのを";
			mes "きっかけに製造数を増やしたので";
			mes "当店では一度に^0000FF500個^000000まで";
			mes "お買い求めいただけます！";
			set .@max,500;
		}
		else if(strnpcinfo(2) == "moc_") {
			mes "冷たくて甘いアイスクリームは";
			mes "こんな砂漠では本当に大事な";
			mes "補給源。一度に50個まで";
			mes "お買い求めいただけます。";
			set .@max,50;
		}
		else if(strnpcinfo(2) == "moc_2") {
			mes "冷たくて甘いアイスクリームは";
			mes "こんな砂漠では本当に大事な";
			mes "補給源。一度に500個まで";
			mes "お買い求めいただけます。";
			set .@max,500;
		}
		else {
			mes "アイスクリームは";
			mes "おやつにぴったり！";
			mes "一度に50個まで";
			mes "お買い求めいただけます。";
			set .@max,50;
		}
		while(1) {
			next;
			input .@num;
			if(.@num > .@max) {
				mes "[アイスクリーム商人]";
				mes "え？";
				mes "ちょっと多すぎです。";
				mes "一度に販売できるのは";
				mes .@max+ "個までです。";
				mes "あまり食べ過ぎると";
				mes "お腹を壊しますよ～。";
				continue;
			}
			break;
		}
		if(.@num <= 0) {
			mes "[アイスクリーム商人]";
			mes "あら？";
			mes "お腹の調子が良くないのですか？";
			close;
		}
		if(Zeny<.@num*100) {
			mes "[アイスクリーム商人]";
			mes "お客さん、お金が足りないです…";
			mes "一つ ^3355FF100 Zeny^000000ですよ！";
			close;
		}
		if(checkweight(536,.@num)==0) {
			mes "[アイスクリーム商人]";
			mes "お客さん、ちょっと荷物が";
			mes "多すぎますね。";
			mes "アイスクリームを落としてしまいます。";
			mes "持ち物を減らしてから来て下さい～。";
			close;
		}
		set Zeny,Zeny-.@num*100;
		getitem 536,.@num;
		mes "[アイスクリーム商人]";
		mes "はい、" +.@num+ "個ね。";
		mes "ありがとうございましたー。";
		close;
	case 2:
		mes "[アイスクリーム商人]";
		mes "「アイスクリーム」はですね…";
		mes "牛乳･乳製品の脂肪と";
		mes "無脂乳固形分を主原料に、";
		mes "砂糖･香料･安定剤･乳化剤";
		mes "色素などを加えて混合し、";
		next;
		mes "[アイスクリーム商人]";
		mes "泡立てて凍結させた食べ物です。";
		mes "細かく言うと、";
		mes "乳固形分15%以上";
		mes "うち乳脂肪8%以上";
		mes "のものですね。";
		next;
		mes "[アイスクリーム商人]";
		mes "エネルギーと栄養も豊富で";
		mes "とても美味しいんですが、";
		mes "だからと言って食べ過ぎると";
		mes "お腹を壊しますよ！";
		close;
	case 3:
		mes "[アイスクリーム商人]";
		mes "今この機会を逃すと";
		mes "もう味わうことが";
		mes "できなくなるかもしれませんよ？";
		mes "さぁ、さぁ、いかがですか～？";
		close;
	}
}
moc_ruins.gat,81,155,4	duplicate(IceBuyer)	アイスクリーム商人#moc	85
alberta.gat,107,73,4	duplicate(IceBuyer)	アイスクリーム商人#alb	85
moc_fild16.gat,88,304,4	duplicate(IceBuyer)	アイスクリーム商人#moc_	85
morocc.gat,166,97,4	duplicate(IceBuyer)	アイスクリーム商人#moc_2	85

yuno_fild07.gat,208,175,0	script	juperoswarp0401	139,2,2,{ warp "jupe_cave.gat",143,52; end; }
jupe_cave.gat,147,52,0	script	juperoswarp0501	139,2,2,{ warp "yuno_fild07.gat",212,175; end; }
//jupe_cave.gat,29,52,0	warp	juperoswarp4001	3,3,juperos_01.gat,54,246
//juperos_01.gat,51,249,0	warp	juperoswarp4002	3,3,jupe_cave.gat,36,51
juperos_01.gat,100,91,0	script	juperoswarp4003	139,2,2,{
	initnpctimer;
	mes "^797979["+strcharinfo(0)+"]^000000";
	mes "暖かい光に包まれている。";
	mes "まるで、体が宙に";
	mes "浮かんでいるかのようだ……。";
	mes "ああ……。";
	next;
	if(select("もう少しの間、この光に包まれていたい……","あっ！　そんなこと考えてる場合じゃない！")==1) {
		misceffect 348;
		mes "^797979["+strcharinfo(0)+"]^000000";
		mes "ああ……。";
		mes "体が軽くなっていく気がする……。";
		next;
		warp "juperos_02.gat",128,278;
		end;
	}
	mes "^797979["+strcharinfo(0)+"]^000000";
	mes "この光はどこから来ているんだ?!";
	mes "すぐに、ここから離れなきゃ……。";
	next;
	warp "juperos_01.gat",96,91;
	end;
OnTimer10000:
	areawarp "juperos_01.gat",98,89,102,93,"juperos_02",128,278;
	stopnpctimer;
	end;
}
juperos_02.gat,33,59,0	script	juperoswarp4004	45,2,2,{
	switch(rand(4)) {
	case 0: warp "juperos_01.gat",79,72; end;
	case 1: warp "juperos_01.gat",79,112; end;
	case 2: warp "juperos_01.gat",120,72; end;
	case 3: warp "juperos_01.gat",120,112; end;
	}
}
juperos_02.gat,130,149,0	script	juperoswarp4005	139,2,2,{ warp "jupe_gate.gat",50,167; end; }
jupe_gate.gat,50,171,0	script	juperoswarp4006	139,4,0,{
	initnpctimer;
	mes "^797979["+strcharinfo(0)+"]^000000";
	mes "上の層に戻ることができる";
	mes "ワープのようだ。";
	next;
	if(select("ワープに身を任せる","ワープから離れる")==1) {
		specialeffect 348;
		mes "^797979["+strcharinfo(0)+"]^000000";
		mes "体が軽くなったような感じがする……。";
		next;
		warp "juperos_02.gat",130,142;
		end;
	}
	mes "^797979["+strcharinfo(0)+"]^000000";
	mes "まだ上の層には戻らない！";
	next;
	warp "jupe_gate.gat",50,168;
	end;
OnTimer10000:
	areawarp "jupe_gate.gat",46,171,53,171,"juperos_02",130,142;
	stopnpctimer;
	end;
}
jupe_gate.gat,28,145,0	warp	juperoswarp4007	1,1,jupe_area1.gat,101,222
jupe_area1.gat,103,222,0	warp	juperoswarp4008	1,1,jupe_gate.gat,30,145
jupe_gate.gat,71,145,0	warp	juperoswarp4009	1,1,jupe_area2.gat,63,222
jupe_area2.gat,60,222,0	warp	juperoswarp4010	1,1,jupe_gate.gat,69,145
jupe_gate.gat,49,55,0	warp	juperoswarp4011	1,1,jupe_ele_r.gat,49,29
jupe_ele_r.gat,49,27,0	warp	juperoswarp4012	1,1,jupe_gate.gat,49,53
jupe_ele.gat,41,33,0	warp	juperoswarp4013	4,4,jupe_core.gat,150,286

//============================================================
// ゲート制御装置
//------------------------------------------------------------
juperos_02.gat,0,0,0	script	ゲート制御装置#juperos	-1,{
OnInit:
	hideonnpc "juperoswarp4005";
	set .jupe_gate,3;
	monster "juperos_02.gat",24,275,"第1ゲート制御装置",1674,1,"ゲート制御装置#juperos::OnKilled";
	monster "juperos_02.gat",240,29,"第2ゲート制御装置",1674,1,"ゲート制御装置#juperos::OnKilled";
	monster "juperos_02.gat",282,183,"第3ゲート制御装置",1674,1,"ゲート制御装置#juperos::OnKilled";
	end;
OnKilled:
	set .jupe_gate,.jupe_gate-1;
	switch(.jupe_gate) {
	case 2: announce "誰かね？　ここへ来たのは……。",9,0xFF0000; break;
	case 1: announce "残念だが、ここはかつてのジュピロスではないがな……。",9,0xFF0000; break;
	default:
		announce "時間を与えよう！　我に会いたければ、探し出すがよい！",9,0xFF0000;
		specialeffect2 563;
		soundeffectall "earth_quake.wav",0;
		sleep 5000;
		announce "ウィイイーーンッ！　ウィイイーーンッ！",9,0xE55AA4;
		soundeffectall "jupe_warning.wav",0;
		sleep 2000;
		announce "訪問者に告げます。",9,0xE55AA4;
		sleep 2000;
		announce "少しの間、次の区域への立ち入りを許可します。ゲートへお入りください。",9,0xE55AA4;
		hideoffnpc "juperoswarp4005";
		specialeffect 561;
		set .t,26;
		initnpctimer;
	}
	end;
OnTimer23000:
	set .t,.t-1;
	misceffect 561;
	if(.t == 2) {
		sleep 4000;
		announce "訪問者に告げます。まもなく、次の区域へ通じるゲートが閉じます。",9,0xE55AA4;
		sleep 5000;
		announce "ゲートが閉じるまで、あと約1分です。",9,0xE55AA4;
	}
	if(.t == 0) {
		sleep 2000;
		hideonnpc "juperoswarp4005";
		announce "ゲートが閉じました。",9,0xE55AA4;
		sleep 3000;
		announce "制御装置は再稼動準備に入ります。",9,0xE55AA4;
		end;
	}
	initnpctimer;
	end;
OnTimer602000:
	stopnpctimer;
	donpcevent "ゲート制御装置#juperos::OnInit";
	end;
}

//============================================================
// 保安区域
//------------------------------------------------------------
jupe_area1.gat,0,0,0	script	jupe_area1	-1,{
OnSummon1:
	set .flag,1;
	initnpctimer;
	sleep 1000;
	announce "ここまで辿り着いた者らよ……。",9,0xFF0000;
	sleep 2000;
	announce "我はお前らを阻もうと考えてはおらぬ。",9,0xFF0000;
	soundeffectall "jupe_warning.wav",0,"jupe_area1";
	sleep 2000;
	announce "しかし、この閉鎖された地に敢えて来たからには",9,0xFF0000;
	set .mob,8;
	monster "jupe_area1.gat",30,263,"保安要員",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",30,262,"保安要員",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",30,261,"保安要員",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",30,260,"保安要員",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",30,259,"保安要員",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",30,258,"保安要員",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",30,257,"保安要員",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",30,256,"保安要員",1669,1,"jupe_area1::OnKilled";
	sleep 2000;
	announce "覚悟はできているだろうな？",9,0xFF0000;
	sleep 1000;
	soundeffectall "jupe_warning.wav",0;
	end;
OnSummon2:
	announce "さて、今度はどうかな？",9,0xFF0000;
	soundeffectall "jupe_warning.wav",0;
	sleep 2000;
	announce "もう一度……",9,0xFF0000;
	sleep 2000;
	announce "実力を見せるがよい！",9,0xFF0000;
	soundeffectall "jupe_warning.wav",0;
	set .mob,8;
	monster "jupe_area1.gat",30,238,"保安要員",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",31,238,"保安要員",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",32,238,"保安要員",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",33,238,"保安要員",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",34,238,"保安要員",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",35,238,"保安要員",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",36,238,"保安要員",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",37,238,"保安要員",1669,1,"jupe_area1::OnKilled";
	end;
OnSummon3:
	set .flag,4;
	initnpctimer;
	sleep 2000;
	announce "まだまだまだ……。",9,0xFF0000;
	sleep 2000;
	announce "さあ、来るがよい、我の所まで！",9,0xFF0000;
	set .mob,8;
	monster "jupe_area1.gat",30,176,"上級警備兵",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",31,176,"上級警備兵",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",32,176,"上級警備兵",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",33,176,"上級警備兵",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",34,176,"上級警備兵",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",35,176,"上級警備兵",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",36,176,"上級警備兵",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",37,176,"上級警備兵",1675,1,"jupe_area1::OnKilled";
	sleep 2000;
	announce "我が誰なのか、知りたいかね？",9,0xFF0000;
	sleep 2000;
	announce "では、こいつらに勝ったら教えてやろう！",9,0xFF0000;
	end;
OnSummon4:
	announce "我は、この地下研究所の所長、",9,0xFF0000;
	sleep 2000;
	announce "いや、所長だった……",9,0xFF0000;
	sleep 2000;
	announce "ヴェスパー・ニュトーン。人は、物狂いヴェスパーと呼んだがな。",9,0xFF0000;
	set .mob,13;
	monster "jupe_area1.gat",30,152,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",31,152,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",32,152,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",33,152,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",34,152,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",35,152,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",36,152,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",37,152,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",30,150,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",31,150,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",32,150,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",33,150,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",34,150,"ガードマン",1669,1,"jupe_area1::OnKilled";
	end;
OnSummon5:
	set .flag,7;
	initnpctimer;
	sleep 2000;
	announce "我は、ここへの立ち入りを阻むために",9,0xFF0000;
	sleep 2000;
	announce "警備システムを作ったのではない。",9,0xFF0000;
	set .mob,8;
	monster "jupe_area1.gat",30,89,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",31,89,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",32,89,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",33,89,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",34,89,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",35,89,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",36,89,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",37,89,"ガードマン",1669,1,"jupe_area1::OnKilled";
	sleep 2000;
	announce "では、何のためにかと……？　フッ、余興だよ。",9,0xFF0000;
	sleep 2000;
	announce "永遠に死ぬことができぬ、我のためにな!!",9,0xFF0000;
	end;
OnSummon6:
	announce "ここまで何しに来たんだ？",9,0xFF0000;
	sleep 2000;
	announce "この下に何かあると思っているのかね？",9,0xFF0000;
	sleep 2000;
	announce "言っておくが、この下は地獄だぞ！",9,0xFF0000;
	set .mob,15;
	monster "jupe_area1.gat",42,64,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",43,64,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",44,64,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",45,64,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",46,64,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",47,64,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",48,64,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",49,64,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",42,62,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",43,62,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",44,62,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",45,62,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",46,62,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",47,62,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",48,62,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",49,62,"ガードマン",1675,1,"jupe_area1::OnKilled";
	end;
OnSummon7:
	set .flag,10;
	initnpctimer;
	sleep 2000;
	announce "我に勝つ者を探していた。",9,0xFF0000;
	sleep 2000;
	announce "この言葉を聞いている者が、その者なのだろうか？",9,0xFF0000;
	set .mob,8;
	monster "jupe_area1.gat",92,154,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",96,154,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",100,154,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",104,154,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",92,161,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",96,161,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",100,161,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",104,161,"ガードマン",1675,1,"jupe_area1::OnKilled";
	sleep 2000;
	announce "……変わり果てた我が肉体は、",9,0xFF0000;
	sleep 2000;
	announce "この下のどこかにあるであろう。",9,0xFF0000;
	end;
OnSummon8:
	announce "我は死ぬことができぬ！",9,0xFF0000;
	sleep 2000;
	announce "ならば我は、ここで強き者を待とう。",9,0xFF0000;
	sleep 2000;
	announce "永遠に、未来永劫にな！",9,0xFF0000;
	set .mob,10;
	monster "jupe_area1.gat",104,161,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",108,161,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",111,161,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",112,161,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",115,161,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",104,154,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",108,154,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",111,154,"ガードマン",1669,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",112,154,"ガードマン",1675,1,"jupe_area1::OnKilled";
	monster "jupe_area1.gat",115,154,"ガードマン",1669,1,"jupe_area1::OnKilled";
	end;
OnKilled:
	set .mob,.mob-1;
	if(.mob == 0) {
		sleep 2000;
		switch(.flag) {
		case 1: donpcevent "jupe_area1::OnSummon2"; break;
		case 2: announce "チック、チック、チック……。",9,0xFF0000; break;
		case 4: donpcevent "jupe_area1::OnSummon4"; break;
		case 5: announce "……まだまだだ。",9,0xFF0000; break;
		case 7: donpcevent "jupe_area1::OnSummon6"; break;
		case 8: announce "それでもというのなら、行くがよい！",9,0xFF0000; break;
		case 10: donpcevent "jupe_area1::OnSummon8"; break;
		case 11: announce "楽しめたかね？",9,0xFF0000; break;
		}
		set .flag,.flag+1;
	}
	end;
OnTimer600000:
	if(rand(2))
		announce "逃げたのか……。",9,0xFF0000;
	else
		announce "ケッ……腰抜けめ……。",9,0xFF0000;
	sleep 2000;
	stopnpctimer;
	areawarp "jupe_area1",0,0,70,300,"jupe_gate.gat",49,138;
	areawarp "jupe_area1",70,0,164,200,"jupe_gate.gat",49,138;
	killmonster "jupe_area1","All";
	set .mob,0;
	set .flag,0;
	end;
}

jupe_area1.gat,88,224,0	script	#jupe_area1-1	844,{
	set .@id,substr(strnpcinfo(2),11,11);
	cutin .@id+"",2;
	if(getvariableofnpc(.flag,"jupe_area1") != (.@id-1)*3) {
		mes "-ある模様が描かれた穴がある。";
		mes "何かを入れることができそうだ-";
		mes "-向こう側へ渡るための装置のようだ-";
		close2;
		cutin .@id+"",255;
		end;
	}
	mes "-どこかで見たような穴がある。";
	mes "何かを入れることができそうだ-";
	mes "-向こう側へ渡るための";
	mes "装置かもしれない……-";
	next;
	if(select("紋章の欠片をはめてみる","何もしない")==1) {
		if(countitem(7355+.@id)) {
			cutin .@id+"-1",2;
			misceffect 159;
			mes "-持っていた紋章の欠片が";
			mes "ぴったりはまった-";
			next;
			mes "-紋章の欠片をはめた穴が動き、";
			mes "地面から小さな震動を感じた-";
			mes "-向こう側へ行くための";
			mes "ワープが作動したようだ-";
			mes "-紋章の欠片を回収した-";
			hideonnpc "#"+strnpcinfo(2);;
			hideoffnpc "juperoswarp" + .@id + "#jupe_area1";
			specialeffect 561,AREA,"juperoswarp" + .@id + "#jupe_area1";
			soundeffect "jupe_warp.wav",0;
			initnpctimer;
		}
		else {
			mes "-穴に入るような物を";
			mes "持っていない-";
		}
	}
	else {
		mes "[" +strcharinfo(0)+ "]";
		mes "こんなものに構っている暇はない……。";
	}
	close2;
	cutin .@id+"",255;
	end;
OnTimer22000:
	stopnpctimer;
	hideonnpc "juperoswarp" +substr(strnpcinfo(2),11,11)+ "#jupe_area1";
	hideoffnpc "#"+strnpcinfo(2);
	end;
}
jupe_area1.gat,25,238,0	duplicate(#jupe_area1-1)	#jupe_area1-2	844
jupe_area1.gat,36,146,0	duplicate(#jupe_area1-1)	#jupe_area1-3	844
jupe_area1.gat,50,49,0	duplicate(#jupe_area1-1)	#jupe_area1-4	844

jupe_area1.gat,112,162,0	script	レバー#jupe_area1	844,{
	mes "[わからない装置]";
	mes "レバーがある。";
	if(getvariableofnpc(.flag,"jupe_area1") != 12)
		close;
	mes "引くことができそうだ。";
	next;
	if(select("レバーを引く","やめる")==1) {
		hideonnpc "レバー#jupe_area1";
		hideoffnpc "juperoswarp5#jupe_area1";
		soundeffect "jupe_warp.wav",0;
		initnpctimer;
		close;
	}
	mes "[" +strcharinfo(0)+ "]";
	mes "こんなものに構っている暇はない……。";
	close;
OnTimer22000:
	stopnpctimer;
	hideonnpc "juperoswarp5#jupe_area1";
	hideoffnpc "レバー#jupe_area1";
	end;
}

jupe_area1.gat,83,221,0	script	juperoswarp1#jupe_area1	139,2,2,{
	set .@n,substr(strnpcinfo(1),11,11);
	switch(.@n) {
	case 1: warp "jupe_area1.gat",47,259; break;
	case 2: warp "jupe_area1.gat",21,191; break;
	case 3: warp "jupe_area1.gat",33,105; break;
	case 4: warp "jupe_area1.gat",83,157; break;
	}
	if(getvariableofnpc(.flag,"jupe_area1") == (.@n-1)*3)
		donpcevent "jupe_area1::OnSummon"+(.@n*2-1)+"";
	end;
OnInit:
	hideonnpc "juperoswarp1#jupe_area1";
	end;
}
jupe_area1.gat,21,225,0	script	juperoswarp2#jupe_area1	139,2,2,{
	set .@n,substr(strnpcinfo(1),11,11);
	switch(.@n) {
	case 1: warp "jupe_area1.gat",47,259; break;
	case 2: warp "jupe_area1.gat",21,191; break;
	case 3: warp "jupe_area1.gat",33,105; break;
	case 4: warp "jupe_area1.gat",83,157; break;
	}
	if(getvariableofnpc(.flag,"jupe_area1") == (.@n-1)*3)
		donpcevent "jupe_area1::OnSummon"+(.@n*2-1)+"";
	end;
OnInit:
	hideonnpc "juperoswarp2#jupe_area1";
	end;
}
jupe_area1.gat,33,137,0	script	juperoswarp3#jupe_area1	139,2,2,{
	set .@n,substr(strnpcinfo(1),11,11);
	switch(.@n) {
	case 1: warp "jupe_area1.gat",47,259; break;
	case 2: warp "jupe_area1.gat",21,191; break;
	case 3: warp "jupe_area1.gat",33,105; break;
	case 4: warp "jupe_area1.gat",83,157; break;
	}
	if(getvariableofnpc(.flag,"jupe_area1") == (.@n-1)*3)
		donpcevent "jupe_area1::OnSummon"+(.@n*2-1)+"";
	end;
OnInit:
	hideonnpc "juperoswarp3#jupe_area1";
	end;
}
jupe_area1.gat,57,53,0	script	juperoswarp4#jupe_area1	139,2,2,{
	set .@n,substr(strnpcinfo(1),11,11);
	switch(.@n) {
	case 1: warp "jupe_area1.gat",47,259; break;
	case 2: warp "jupe_area1.gat",21,191; break;
	case 3: warp "jupe_area1.gat",33,105; break;
	case 4: warp "jupe_area1.gat",83,157; break;
	}
	if(getvariableofnpc(.flag,"jupe_area1") == (.@n-1)*3)
		donpcevent "jupe_area1::OnSummon"+(.@n*2-1)+"";
	end;
OnInit:
	hideonnpc "juperoswarp4#jupe_area1";
	end;
}
jupe_area1.gat,117,157,0	script	juperoswarp5#jupe_area1	139,2,2,{
	warp "jupe_gate.gat",28,29;
	end;
OnInit:
	hideonnpc "juperoswarp5#jupe_area1";
	end;
}

//============================================================
// エレベーター
//------------------------------------------------------------
jupe_ele_r.gat,51,98,0	script	スイッチ進行中#jupe_ele	844,{
	mes "-この機械は、";
	mes "誰かが使用しているようだ-";
	close;
OnInit:
	hideonnpc "スイッチ進行中#jupe_ele";
	end;
OnKilled:
	set .mob,.mob-1;
	if(.mob == 0) {
		stopnpctimer "スイッチ#jupe_ele";
		sleep 5000;
		announce "幻影を破りし者らよ、更に奥へ進んでみないか？",9,0x66FF00;
		soundeffectall "earth_quake.wav",0;
		sleep 4000;
		disablenpc "juperoswarp4013";
		areawarp "jupe_ele_r.gat",0,0,100,160,"jupe_ele.gat",42,47;
		donpcevent "jupe_ele::OnSummon1";
		initnpctimer "jupe_ele";
		end;
	}
	end;
}

jupe_ele_r.gat,51,98,0	script	スイッチ#jupe_ele	844,{
	cutin "5",2;
	mes "-何かを作動させることが";
	mes "できそうなレバーと、";
	mes "用途不明な4個の穴がある-";
	next;
	if(select("レバーを引いてみる","触らない")==2) {
		mes "-得体の知れない物には";
		mes "触らない方がいい……-";
		close2;
		cutin "5",255;
		end;
	}
	mes "-^797979カチャ、カチャ^000000-";
	next;
	mes "-^797979レバーを引いてみたが、";
	mes "何も反応がない^000000-";
	mes "-レバーの横にある穴に";
	mes "何かを入れると作動するようだ-";
	if(countitem(7356) < 1 && countitem(7357) < 1 && countitem(7358) < 1 && countitem(7359) < 1) {
		close2;
		cutin "5",255;
		end;
	}
	next;
	menu "紋章の欠片をはめてみる",-;
	if(countitem(7356) < 1 || countitem(7357) < 1 || countitem(7358) < 1 || countitem(7359) < 1) {
		mes "-紋章の欠片が足りないようだ-";
		mes "-どうやら、全ての紋章の欠片を";
		mes "一緒にはめなければならないようだ-";
		close2;
		cutin "5",255;
		end;
	}
	initnpctimer;
	hideonnpc "スイッチ#jupe_ele";
	hideoffnpc "スイッチ進行中#jupe_ele";
	misceffect 72;
	delitem 7356,1;
	delitem 7357,1;
	delitem 7358,1;
	delitem 7359,1;
	cutin "5-1",2;
	mes "-この部屋を覆っていたたくさんの";
	mes "紋章の欠片が降ってきた-";
	mes "-これでは、もう回収することが";
	mes "できない-";
	close2;
	cutin "5",255;
	end;
OnTimer2000:
	announce "……後世の子孫たちよ……。",9,0x66FF00;
	sleep 3000;
	announce "何故、この都市が地に埋もれたか、知りたいか……？",9,0x66FF00;
	sleep 4000;
	announce "ならば、進むがよい。",9,0x66FF00;
	sleep 3000;
	announce "お前らが望むものを見せてあげよう。",9,0x66FF00;
	sleep 7000;
	announce "但し、全ての幻影と……",9,0xFF9900;
	sleep 3000;
	announce "全ての偽りを乗り越えればな……。",9,0xFF0000;
	sleep 3000;
	announce "20分の時を与えよう",9,0xFF0000;
	sleep 1000;
	set getvariableofnpc(.mob,"スイッチ進行中#jupe_ele"),9;
	monster "jupe_ele_r.gat",44,99,"警備兵",1669,1,"スイッチ進行中#jupe_ele::OnKilled";
	sleep 200;
	monster "jupe_ele_r.gat",55,99,"警備兵",1675,1,"スイッチ進行中#jupe_ele::OnKilled";
	sleep 200;
	monster "jupe_ele_r.gat",45,84,"警備兵",1683,1,"スイッチ進行中#jupe_ele::OnKilled";
	sleep 200;
	monster "jupe_ele_r.gat",54,84,"警備兵",1675,1,"スイッチ進行中#jupe_ele::OnKilled";
	sleep 200;
	monster "jupe_ele_r.gat",45,99,"警備兵",1669,1,"スイッチ進行中#jupe_ele::OnKilled";
	sleep 200;
	monster "jupe_ele_r.gat",54,99,"警備兵",1683,1,"スイッチ進行中#jupe_ele::OnKilled";
	sleep 200;
	monster "jupe_ele_r.gat",48,84,"警備兵",1669,1,"スイッチ進行中#jupe_ele::OnKilled";
	sleep 200;
	monster "jupe_ele_r.gat",52,84,"警備兵",1683,1,"スイッチ進行中#jupe_ele::OnKilled";
	sleep 200;
	monster "jupe_ele_r.gat",50,84,"警備隊長",1684,1,"スイッチ進行中#jupe_ele::OnKilled";
	announce "我はしばしの間、幻影と共にいよう。",9,0xFF0000;
	end;
OnTimer144000:
	stopnpctimer;
	announce "期待外れだったか……。",9,0x66FF00;
	sleep 2000;
	areawarp "jupe_ele_r.gat",0,0,100,160,"jupe_gate.gat",49,138;
	killmonster "jupe_ele_r","All";
	hideonnpc "スイッチ進行中#jupe_ele";
	hideoffnpc "スイッチ#jupe_ele";
	end;
}

jupe_ele.gat,0,0,0	script	jupe_ele	-1,{
OnSummon1:
	sleep 2000;
	announce "ここまで辿り着いたお前らの根性に、敬意を表する。",9,0xFF0000;
	sleep 3000;
	announce "さて……このあらゆるものは落とし穴なのか、もしくは侵入者をあぶり出すためのまやかしなのか、",9,0xFF0000;
	sleep 3000;
	announce "試してみるかね……。",9,0xFF0000;
	sleep 4000;
	set .mob,8;
	monster "jupe_ele.gat",48,44,"警備兵",1675,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",45,42,"警備兵",1669,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",38,42,"警備兵",1675,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",35,44,"警備兵",1669,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",35,51,"警備兵",1675,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",38,53,"警備兵",1669,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",45,53,"警備兵",1675,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",48,51,"警備兵",1669,1,"jupe_ele::OnKilled";
	end;
OnSummon2:
	sleep 2000;
	announce "ここは元々、お前らが思うような",9,0xFF0000;
	sleep 3000;
	announce "成熟し繁栄を極めた文化都市ではなかった。",9,0xFF0000;
	sleep 3000;
	announce "人間の真の恐ろしさを全て融合させ……",9,0xFF0000;
	sleep 3000;
	announce "遥かに人間の想像を超えた場所。",9,0xFF0000;
	sleep 1000;
	set .mob,8;
	monster "jupe_ele.gat",48,44,"警備兵",1683,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",45,42,"警備兵",1669,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",38,42,"警備兵",1683,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",35,44,"警備兵",1669,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",35,51,"警備兵",1683,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",38,53,"警備兵",1669,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",45,53,"警備兵",1683,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",48,51,"警備兵",1669,1,"jupe_ele::OnKilled";
	end;
OnSummon3:
	sleep 2000;
	announce "お前らの目に、ここにあるものはどう見えている？",9,0xFF0000;
	sleep 3000;
	announce "それは、本当に見えているのか？",9,0xFF0000;
	sleep 3000;
	announce "それとも……そう見えると信じているだけではないのか？",9,0xFF0000;
	sleep 4000;
	set .mob,8;
	monster "jupe_ele.gat",48,44,"警備兵",1675,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",45,42,"警備兵",1669,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",38,42,"警備兵",1683,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",35,44,"警備兵",1675,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",35,51,"警備兵",1669,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",38,53,"警備兵",1683,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",45,53,"警備兵",1675,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",48,51,"警備兵",1669,1,"jupe_ele::OnKilled";
	end;
OnSummon4:
	sleep 2000;
	announce "忘れるでないぞ……いつかお前らの首をしめるのは……",9,0xFF0000;
	sleep 3000;
	announce "紛れもなく、お前ら自身だぞ。",9,0xFF0000;
	sleep 3000;
	set .mob,8;
	monster "jupe_ele.gat",48,44,"警備兵",1684,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",45,42,"警備兵",1669,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",38,42,"警備兵",1684,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",35,44,"警備兵",1669,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",35,51,"警備兵",1675,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",38,53,"警備兵",1669,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",45,53,"警備兵",1683,1,"jupe_ele::OnKilled";
	monster "jupe_ele.gat",48,51,"警備兵",1675,1,"jupe_ele::OnKilled";
	end;
OnClear:
	sleep 2000;
	announce "我は何も言ってはおらぬ。",9,0x66FF00;
	sleep 3000;
	announce "これをお前らが聞く頃には、恐らく……我らの都市はこの世から消えているであろう。",9,0x66FF00;
	sleep 3000;
	announce "全てのことが間違いであった。我らは、ここにいてはならぬ存在であった。",9,0x66FF00;
	sleep 3000;
	announce "人間は、ここにいてもよいのだろうか？",9,0x66FF00;
	sleep 1000;
	announce "……願うならば、更に奥へ進むがよい。",9,0x66FF00;
	enablenpc "juperoswarp4013";
	end;
OnKilled:
	set .mob,.mob-1;
	if(.mob == 0) {
		sleep 2000;
		switch(.flag) {
		case 0: donpcevent "jupe_ele::OnSummon2"; break;
		case 1: donpcevent "jupe_ele::OnSummon3"; break;
		case 2: donpcevent "jupe_ele::OnSummon4"; break;
		case 3: donpcevent "jupe_ele::OnClear"; break;
		}
		set .flag,.flag+1;
	}
	end;
OnTimer144000:
	stopnpctimer;
	announce "期待外れだったか……。",9,0x66FF00;
	sleep 2000;
	areawarp "jupe_ele.gat",0,0,100,124,"jupe_gate.gat",49,138;
	killmonster "jupe_ele","All";
	set .flag,0;
	hideonnpc "スイッチ進行中#jupe_ele";
	hideoffnpc "スイッチ#jupe_ele";
	end;
}

//----------------------------------
// モンスタージュース/歌う花/野生花
//----------------------------------

alberta_in.gat,173,76,4	script	モンスターテイマー#alb	125,{
	mes "[イワド]";
	mes "時はいまや";
	mes "モンスターテイミングの時代！";
	mes "君もかわいいモンスターとの";
	mes "意思疎通のため、モンスターたちの";
	mes "嗜好品を集めなければならない";
	mes "必要性を感じませんか？";
	next;
	switch (select("^3355FF「モンスターテイミング」^000000に関して","^3355FF「モンスタージュース」^000000注文","^3355FF「歌う花」^000000注文","^3355FF「野生花」^000000注文","会話をやめる")) {
	case 1:
		mes "[イワド]";
		mes "好きなモンスターとの";
		mes "コミュニケーションのためなら、";
		mes "必ず用意しなければならない";
		mes "様々なモンスター嗜好品！";
		mes "我らモンスターテイマーギルドが、";
		mes "お手頃な条件でご提供します！";
		next;
		mes "[イワド]";
		mes "非常にクールなアイテムたちを";
		mes "気軽に手に入れることができる";
		mes "すてきなシステム！";
		mes "モンスタージュース！";
		mes "歌う花！";
		mes "そして野生花！";
		next;
		mes "[イワド]";
		mes "モンスタージュースは^3355FF「家畜の血」^000000";
		mes "１つと^3355FF「リンゴ」^000000２つで交換可能で、";
		mes "歌う花は^3355FF「歌う草」^000000１つ、";
		mes "そして野生花は^3355FF「装飾用花」^000000１つと";
		mes "^3355FF「クローバー」^000000１つで交換可能です。";
		mes "幻のアイテムに挑戦してみませんか？";
		close;
	case 2:
		mes "[イワド]";
		mes "人間が飲むという次元を";
		mes "はるかに超越したアイテム！";
		mes "その名も^3355FFモンスタージュース^000000!!";
		mes "酸っぱくて苦々しいこの味は、";
		mes "モンスターたちの趣向に";
		mes "ぴったり合った嗜好品……。";
		next;
		setarray .@need,702,512;
		setarray .@amount,1,2;
		set .@gain,626;
		break;
	case 3:
		mes "[イワド]";
		mes "人間が聞くという次元を";
		mes "はるかに超越したアイテム！";
		mes "その名も^3355FF歌う花^000000!!";
		mes "咲き乱れては香ばしいこの花は、";
		mes "モンスターたちの趣向に";
		mes "ぴったり合った嗜好品……";
		next;
		set .@need,707;
		set .@amount,1;
		set .@gain,629;
		break;
	case 4:
		mes "[イワド]";
		mes "人間が眺めるという次元を";
		mes "はるかに超越したアイテム！";
		mes "その名も^3355FF野生花^000000!!";
		mes "理解しがたいこのデザインは、";
		mes "モンスターたちの趣向に";
		mes "ぴったり合った嗜好品……";
		next;
		setarray .@need,2207,705;
		setarray .@amount,1,1;
		set .@gain,10009;
		break;
	case 5:
		mes "[イワド]";
		mes "どんなモンスターをそばに置くか、";
		mes "まだ決める事ができていないよう";
		mes "ですね。人生のパートナーに";
		mes "なるかもしれないので";
		mes "おろそかに決めないこと……。";
		next;
		mes "[イワド]";
		mes "ゆっくり考えてみて決心が";
		mes "ついてたら、また訪ねて";
		mes "きてください。";
		close;
	}
	if(.@need[1] > 0){
		if(countitem(.@need[0])<.@amount[0] || countitem(.@need[1])<.@amount[1]){
			mes "[イワド]";
			switch(@menu) {
				case 2:
					mes "モンスタージュースが好きな";
					mes "モンスターを育てるあなたに……";
					mes "モンスタージュースの";
					mes "作り方をひとつ！";
					mes "^3355FF家畜の血１つ！リンゴ２つ！^000000";
					break;
				case 3:
					mes "歌う花が好きなモンスターを";
					mes "育てるあなたに……";
					mes "歌う花の作り方をひとつ！";
					mes "^3355FF歌う草を１つ！^000000";
					break;
				case 4:
					mes "野生花が好きなモンスターを";
					mes "育てるあなたに……";
					mes "野生花の作り方をひとつ！";
					mes "^3355FF装飾用花とクローバーを１つずつ！^000000";
					break;
			}
			mes "私に持ってきてくだされば、";
			next;
			mes "[イワド]";
			mes "モンスターテイマーのプライドに";
			mes "かけて！その場ですぐに作って";
			mes "差しあげます！";
			close;
		}
	}else if(countitem(.@need[0])<.@amount[0]) {
		mes "[イワド]";
		switch(@menu) {
			case 2:
				mes "モンスタージュースが好きな";
				mes "モンスターを育てるあなたに……";
				mes "モンスタージュースの";
				mes "作り方をひとつ！";
				mes "^3355FF家畜の血１つ！リンゴ２つ！^000000";
				break;
			case 3:
				mes "歌う花が好きなモンスターを";
				mes "育てるあなたに……";
				mes "歌う花の作り方をひとつ！";
				mes "^3355FF歌う草を１つ！^000000";
				break;
			case 4:
				mes "野生花が好きなモンスターを";
				mes "育てるあなたに……";
				mes "野生花の作り方をひとつ！";
				mes "^3355FF装飾用花とクローバーを１つずつ！^000000";
				break;
		}
		mes "私に持ってきてくだされば、";
		next;
		mes "[イワド]";
		mes "モンスターテイマーのプライドに";
		mes "かけて！その場ですぐに作って";
		mes "差しあげます！";
		close;
	}
	mes "[イワド]";
	mes "おお！" +getitemname(.@gain)+ "を作ることができる材料を";
	mes "すべて持っていらっしゃいますね。";
	mes "すばらしい！";
	mes "モンスターテイマーのプライドにかけて";
	mes "すぐに作って差し上げます。";
	next;
	mes "[イワド]";
	switch(@menu) {
		case 2:
			mes "リンゴ２つと家畜の血～";
			next;
			mes "^3355FF- ゴリゴリ ザブザブ ガシャガシャ -^000000";
			break;
		case 3:
			mes "歌う草～";
			next;
			mes "^3355FF- サクサク ザクザク グリグリ -^000000";
			break;
		case 4:
			mes "装飾用花クローバーこねてこねて～";
			next;
			mes "^3355FF- ビリビリ ゴリゴリ コネコネ -^000000";
			break;
	}
	next;
	delitem .@need[0],.@amount[0];
	if(.@need[1] > 0)
		delitem .@need[1],.@amount[1];
	getitem .@gain,1;
	mes "[イワド]";
	mes "はい、できあがりました！";
	mes "あなたの育てるかわいいモンスターを";
	mes "大事にしてあげてください。";
	mes getitemname(.@gain)+ "！";
	close;
}

//----------------------------------
// 悪魔召喚書/宛てがない手紙/組織の掟
//----------------------------------

izlude_in.gat,129,64,4	script	モンスターテイマー#izl	125,{
	mes "[ショウゴ]";
	mes "モンスターテイミングに必要な";
	mes "嗜好品を取りそろえるのに";
	mes "専念していますかッ？";
	mes "かわいいペットモンスターたちの";
	mes "嗜好品を準備してあげましょうっ！";
	next;
	switch (select("^3355FF「モンスターテイミング」^000000に関して","^3355FF「悪魔召喚書」^000000注文","^3355FF「宛てがない手紙」^000000注文","^3355FF「組織の掟」^000000注文","会話をやめる")) {
	case 1:
		mes "[ショウゴ]";
		mes "好きなモンスターとの";
		mes "コミュニケーションのためなら、";
		mes "必ず用意しなければならない";
		mes "様々なモンスター嗜好品！";
		mes "我らモンスターテイマーギルドが";
		mes "お手頃な条件でご提供しますっ！";
		next;
		mes "[ショウゴ]";
		mes "非常にクゥールなアイテムたちをっ";
		mes "気軽に手に入れることができる";
		mes "すてきなシステムッ！";
		mes "悪魔召喚書っ！";
		mes "宛てがない手紙っ！";
		mes "組織の掟っ！";
		next;
		mes "[ショウゴ]";
		mes "悪魔召喚書は^3355FF「古い魔法書」^000000１つと";
		mes "^3355FF「亡者の牙」^000000２つで交換可能で";
		mes "宛てがない手紙は";
		mes "^3355FF「古いポートレート」^000000１つ；";
		next;
		mes "[ショウゴ]";
		mes "そして組織の掟は^3355FF「忠節の証」^000000１つと";
		mes "^3355FF「サソリの尻尾」^000000１つで交換可能です。";
		mes "幻のアイテムに";
		mes "挑戦してみませんか?!";
		close;
	case 2:
		mes "[ショウゴ]";
		mes "人間が読み解くという次元を";
		mes "はるかに超越したアイテムッ！";
		mes "その名も^3355FF悪魔召喚書^000000!!";
		mes "難しくて理解不能なモンスターたちを";
		mes "呼び出す神秘的な力を持った";
		mes "このアイテムッ！";
		next;
		if(countitem(1006)<1 || countitem(958)<2) {
			mes "[ショウゴ]";
			mes "悪魔召喚書で召喚できるモンスターを";
			mes "育てるあなたにっ……";
			mes "悪魔召喚書の作り方をひとつ！";
			mes "^3355FF古い魔法書１つと亡者の牙２つ^000000";
			mes "私に持ってきてくだされば、";
			next;
			mes "[ショウゴ]";
			mes "モンスターテイマーのプライドに";
			mes "かけてっ！その場ですぐに作って";
			mes "差し上げますねっ！";
			close;
		}
		setarray .@need,1006,958;
		setarray .@amount,1,2;
		set .@gain,642;
		break;
	case 3:
		mes "[ショウゴ]";
		mes "人間が感じるという次元を";
		mes "はるかに超越したアイテムッ……";
		mes "その名も^3355FF宛てがない手紙^000000!!";
		mes "誰が誰に送るのか";
		mes "受け取った方も送った方もわからない";
		mes "このアイテムッ。";
		next;
		if(countitem(7014)<1) {
			mes "[ショウゴ]";
			mes "宛てがない手紙が好きなモンスターを";
			mes "育てるあなたに……";
			mes "宛てがない手紙の作り方をひとつっ！";
			mes "^3355FF古いポートレート１つ！^000000";
			mes "私に持ってきてくだされば、";
			next;
			mes "[ショウゴ]";
			mes "モンスターテイマーのプライドに";
			mes "かけてっ！その場ですぐに作って";
			mes "差し上げますねっ！";
			close;
		}
		setarray .@need,7014,0;
		setarray .@amount,1,0;
		set .@gain,636;
		break;
	case 4:
		mes "[ショウゴ]";
		mes "人間が味わうという次元を";
		mes "はるかに超越したアイテムッ！";
		mes "その名も^3355FF組織の掟^000000!!";
		mes "組織を重んじるモンスターたちの";
		mes "趣向にピッタリあった嗜好品っ……。";
		next;
		if(countitem(1004)<1 || countitem(904)<1) {
			mes "[ショウゴ]";
			mes "組織の掟が好きなモンスターを";
			mes "育てるあなたに……";
			mes "組織の掟の作り方をひとつっ！";
			mes "^3355FF忠節の証っ！^000000";
			mes "^3355FFサソリの尻尾１つずつっ！^000000";
			mes "私に持ってきてくだされば、";
			next;
			mes "[ショウゴ]";
			mes "モンスターテイマーのプライドに";
			mes "かけてっ！その場ですぐに作って";
			mes "差し上げますねっ！";
			close;
		}
		setarray .@need,1004,904;
		setarray .@amount,1,1;
		set .@gain,635;
		break;
	case 5:
		mes "[ショウゴ]";
		mes "どんなモンスターをそばに置くか";
		mes "まだ決める事ができていないよう";
		mes "ですねっ。人生のパートナーに";
		mes "なるかもしれないのでおろそかに";
		mes "決めないことっ……。";
		next;
		mes "ゆっくり考えてみて";
		mes "決心がついてたら、";
		mes "また訪ねて来てくださいっ。";
		close;
	}
	mes "[ショウゴ]";
	mes "おお！" +getitemname(.@gain)+ "を作ることができる材料を";
	mes "すべて持っていらっしゃいますねッ。";
	mes "すばらしいッ！";
	mes "モンスターテイマーのプライドにかけて";
	mes "すぐに作って差し上げますッ。";
	next;
	mes "[ショウゴ]";
	switch(@menu) {
		case 2:
			mes "亡者の牙２つと古い魔法書～ッ";
			next;
			mes "^3355FF- パッパラパラッ グツグツッ -^000000";
			break;
		case 3:
			mes "古いポートレート～";
			next;
			mes "^3355FF- コトコト ジックリジックリ -^000000";
			break;
		case 4:
			mes "サソリの尻尾……そして";
			mes "忠節の証まぜてまぜて～ッ";
			next;
			mes "^3355FF- がらがら がらがら ぐっちゃ ぐっちゃ -^000000";
			break;
	}
	next;
	delitem .@need[0],.@amount[0];
	if(.@need[1]>0 && .@amount[1]>0)
		delitem .@need[1],.@amount[1];
	getitem .@gain,1;
	mes "[ショウゴ]";
	mes "はい、できあがりましたッ！";
	mes "あなたの育てるかわいいモンスターを";
	mes "大事にしてあげてくださいッ。";
	mes getitemname(.@gain)+ "ッ！";
	close;
}

//----------------------------------
// 動物の頭蓋兜/モンスター酸素マスク/シルクリボン
// 星のヘアーピン/小さな卵殻/ロッカー眼鏡
//----------------------------------

aldeba_in.gat,168,175,4	script	モンスターテイマー#ald	125,{
	mes "[ユウ]";
	mes "なにをお探しでしょうか！";
	mes "ミッドガルド大陸でモンスター";
	mes "嗜好品を作らせたら、並ぶものが";
	mes "いないと言われるこの私が、";
	mes "かわいいペットモンスターのために";
	mes "なんでも作って差し上げます！";
	next;
	switch (select("^3355FF「モンスターテイミング」^000000に関して","^3355FF「動物の頭蓋兜」^000000注文","^3355FF「モンスター酸素マスク」^000000注文",
				"^3355FF「シルクリボン」^000000注文","^3355FF「星のヘアーピン」^000000注文","^3355FF「小さな卵殻」^000000注文",
				"^3355FF「ロッカー眼鏡」^000000注文","会話をやめる")) {
	case 1:
		mes "[ユウ]";
		mes "好きなモンスターとの";
		mes "コミュニケーションのためなら";
		mes "必ず用意しなければならない";
		mes "様々なモンスター嗜好品！";
		mes "我らモンスターテイマーギルドが";
		mes "お手頃な条件でご提供します！";
		next;
		mes "[ユウ]";
		mes "非常にクールなアイテムたちを";
		mes "気軽に手に入れることができる";
		mes "すてきなシステム！";
		mes "動物の頭蓋兜！";
		mes "モンスター酸素マスク！";
		mes "シルクリボン！";
		next;
		mes "[ユウ]";
		mes "星のヘアーピン！";
		mes "小さな卵殻!!";
		mes "ロッカー眼鏡!!!";
		next;
		mes "[ユウ]";
		mes "動物の頭蓋兜^3355FF「ボーンヘルム」^000000１つ、";
		mes "モンスター酸素マスクは";
		mes "^3355FF「酸素マスク」^000000１つ、";
		mes "シルクリボンは^3355FF「リボン」^000000１つ、";
		next;
		mes "[ユウ]";
		mes "星のヘアーピンは^3355FF「スターダスト」^000000１つ";
		mes "小さな卵殻は^3355FF「装飾用卵殻」^000000１つ、";
		mes "ロッカー眼鏡は^3355FF「ジャルゴン」^000000２つと";
		mes "^3355FF「リボン」^000000そして^3355FF「400 Zeny」^000000";
		mes "で交換可能です。";
		next;
		mes "[ユウ]";
		mes "いっぱい手に入れて";
		mes "綺麗なペットを飼いましょう！";
		mes "気合いを入れてゴーゴーゴー!!";
		close;
	case 2:
		set .@need,5017;
		set .@gain,10001;
		mes "[ユウ]";
		mes "人間が被るという次元を";
		mes "はるかに超越したアイテム！";
		mes "その名も^3355FF動物の頭蓋兜^000000!!";
		mes "ぞっとするほど気味が悪いが、";
		next;
		mes "[ユウ]";
		mes "ある種のモンスターは、よく";
		mes "わからないまま被りたくなってしまう";
		mes "神秘的な力を持ったこのアイテム！";
		break;
	case 3:
		set .@need,5004;
		set .@gain,10002;
		mes "[ユウ]";
		mes "人間が着けるいう次元を";
		mes "はるかに超越した……";
		mes "その名も^3355FFモンスター酸素マスク^000000!!";
		mes "顔に着けているとモンスターなのか";
		mes "人間なのか、判別するのも大変な";
		mes "このアイテム！";
		break;
	case 4:
		set .@need,2208;
		set .@gain,10007;
		mes "[ユウ]";
		mes "平凡な人間が見るという次元を";
		mes "はるかに超越したアイテム！";
		mes "その名も^3355FFシルクリボン^000000!!";
		mes "理解できないデザイン！まさに";
		mes "モンスターたちの趣向にぴったり";
		mes "あった嗜好品……。";
		break;
	case 5:
		set .@need,2294;
		set .@gain,10011;
		mes "[ユウ]";
		mes "人間が頭に飾るという次元をはるかに";
		mes "超越したアイテム！その名も";
		mes "^3355FF星のヘアーピン^000000!!";
		next;
		mes "[ユウ]";
		mes "非常にとがっているが、ある種の";
		mes "モンスターは、よくわからないまま";
		mes "頭に飾りたくなってしまう";
		mes "神秘的な力を持ったこのアイテム！";
		break;
	case 6:
		set .@need,5015;
		set .@gain,10012;
		mes "[ユウ]";
		mes "人間が被るという次元を";
		mes "はるかに超越した……";
		mes "その名も^3355FF小さな卵殻^000000!!";
		mes "奇妙な香りが漂いながらも、";
		mes "なめらかな光を放つこのアイテム！";
		break;
	case 7:
		set .@gain,10014;
		mes "[ユウ]";
		mes "平凡な人間がかけるという次元を";
		mes "はるかに超越したアイテム！";
		mes "その名も^3355FFロッカー眼鏡^000000!!";
		mes "理解できないデザイン！まさに";
		mes "モンスターたちの趣向に";
		mes "ぴったりあった嗜好品……。";
		break;	//これだけ別処理する
	case 8:
		mes "[ユウ]";
		mes "どんなモンスターをそばに置くか、";
		mes "まだ決める事ができていないよう";
		mes "ですね。人生のパートナーに";
		mes "なるかもしれないので";
		mes "おろそかに決めないこと……。";
		next;
		mes "[ユウ]";
		mes "ゆっくり考えてみて";
		mes "決心がついてたら、";
		mes "また訪ねて来てください。";
		close;
	}
	next;
	if( (@menu<7 && countitem(.@need)<1) || (@menu==7 && (countitem(912)<2 || countitem(2208)<1 || Zeny<400)) ) {
		mes "[ユウ]";
		mes getitemname(.@gain)+ "が好きなモンスターを";
		mes "育てるあなたに……";
		mes getitemname(.@gain)+ "の作り方をひとつ！";
		if(@menu<7) {
			mes "^3355FF" +getitemname(.@need)+ "１つ !^000000";
		}
		else {
			mes "^3355FFジャルゴン２つ！^000000^3355FFリボン１つ！^000000";
			mes "そして、たったの ^3355FF400 Zeny！^000000";
		}
		mes "私にもってきてくだされば、";
		next;
		mes "[ユウ]";
		mes "モンスターテイマーのプライドに";
		mes "かけて！その場ですぐに作って";
		mes "差しあげます！";
		close;
	}
	mes "[ユウ]";
	mes "おお！" +getitemname(.@gain)+ "を作ることができる材料を";
	mes "すべて持っていらっしゃいますね。";
	mes "すばらしい！";
	mes "モンスターテイマーのプライドにかけて";
	mes "すぐに作って差し上げます。";
	next;
	mes "[ユウ]";
	switch(@menu) {
		case 2:
			mes "ボーンヘルムもんでもんで……";
			next;
			mes "^3355FF- モニュ モニュ -^000000";
			break;
		case 3:
			mes "酸素マスク～こっそり投げこんで～";
			next;
			mes "^3355FF- コソコソ ドンガラガッシャーン -^000000";
			break;
		case 4:
			mes "リボン～ほどいてほどいて～";
			next;
			mes "^3355FF- シュルシュル ザクザク ギュッ -^000000";
			break;
		case 5:
			mes "スターダストおとして……";
			next;
			mes "^3355FF- ズンチャカ ズンチャカ -^000000";
			break;
		case 6:
			mes "装飾用卵殻とばしていれて～";
			next;
			mes "^3355FF- ビュン ビュン ガラガラ -^000000";
			break;
		case 7:
			mes "ジャルゴンリボンこなごなにして～";
			next;
			mes "^3355FF- ガリガリ サクサク ビシッ -^000000";
			break;
	}
	next;
	if(@menu<7)
		delitem .@need,1;
	else {
		delitem 912,2;
		delitem 2208,1;
		set Zeny,Zeny-400;
	}
	getitem .@gain,1;
	mes "[ユウ]";
	mes "はい、できあがりました！";
	mes "あなたの育てるかわいいモンスターを";
	mes "大事にしてあげてください。";
	mes getitemname(.@gain)+ "！";
	close;
}

//----------------------------------
// コモド ボンゴンテイムアイテム交換
//----------------------------------
comodo.gat,112,182,0	script	お婆さん	103,{
	if(countitem(1558)<1) {
		mes "[お婆さん]";
		mes "うう……";
		mes "私の可哀想な孫娘……";
		mes "何故連れて行かねばならんのじゃ……";
		close;
	}
	mes "[お婆さん]";
	mes "もし……そこの方、";
	mes "私の可哀想な孫娘を見なかったかぇ？";
	mes "この老いた婆のかわいい孫娘を";
	mes "神霊様はなぜ連れていかれたのじゃ……";
	next;
	mes "[お婆さん]";
	mes "いつだったかさえもう覚えていないほど";
	mes "昔の話じゃが、この婆がフェイヨンに";
	mes "住んでいた頃一人の孫娘が居たんじゃ。";
	mes "お下げを結ってあげるといつも";
	mes "喜んでいたわい……";
	next;
	mes "[お婆さん]";
	mes "村長様のお屋敷で働いていても";
	mes "少しも嫌そうではなく、そればかりか";
	mes "村長様のところのお子様と";
	mes "いつも楽しく遊んでいたわ……";
	next;
	mes "[お婆さん]";
	mes "ところが、何故か神霊様の祟りを受け、";
	mes "村長様のお子様が重い病にかかって";
	mes "しまったのじゃ。";
	mes "祭祀を催して洞窟に生贄を捧げなければ";
	mes "ならなくなったのじゃが……";
	mes "なぜ私の孫娘を……";
	next;
	mes "[お婆さん]";
	mes "いつしかお子様の病は治っていった……";
	mes "でも、私はそこに居るとしきりに孫娘の";
	mes "ことが思い出されてたまらなく、";
	mes "とうとうこんな遠い村まで";
	mes "来てしまった……";
	next;
	if(select("元気出してください……","もしやこの日記帳は？")==1) {
		mes "[お婆さん]";
		mes "今も夢を見るんじゃ……";
		mes "忘れようとしてもな……";
		close;
	}
	if(countitem(901)<1) {
		mes "[お婆さん]";
		mes "なんじゃ？その日記帳は……";
		mes "婆は物忘れがひどくての……";
		mes "よう覚えとらん……";
		next;
		mes "[お婆さん]";
		mes "うう……もう一度だけお下げを";
		mes "結ってあげることができたら……";
		close;
	}
	mes "[お婆さん]";
	mes "おお……";
	mes "それは紛れも無く";
	mes "私の孫娘のもの……";
	mes "もし良かったら譲ってくれんかの…";
	next;
	mes "[お婆さん]";
	mes "孫娘が持っていた物は何も私の";
	mes "手元に残っていないのじゃ……";
	next;
	if(select("すみませんが……","差し上げます")==1) {
		mes "[お婆さん]";
		mes "今も夢を見るんじゃ……";
		mes "忘れようとしてもな……";
		close;
	}
	if(countitem(1558)<1 || countitem(901)<1) {	//少女の日記、ピッグテールリボン
		mes "[お婆さん]";
		mes "なんじゃ？……";
		mes "孫娘の持っていた物は……";
		mes "婆は物忘れがひどくての……";
		close;
	}
	delitem 1558,1;
	delitem 901,1;
	getitem 659,1;
	mes "[お婆さん]";
	mes "ありがとう……";
	mes "代わりにこれをあんたに渡そう";
	mes "ああ……";
	mes "孫娘よ…";
	close;
}

payon_in03.gat,188,146,4	script	マルクハンセン	86,{
	mes "[商人マルクハンセン]";
	mes "いらっしゃい！";
	mes "あなたも果物を加工しに来ましたか？";
	next;
	switch (select("フルーツジュースをつくる","話をする","やめる")) {
	case 1:
		mes "[商人マルクハンセン]";
		mes "どんなフルーツジュースを作りますか？";
		next;
		switch (select("リンゴジュース","バナナジュース","ニンジンジュース","ブドウジュース","やめる")) {
			case 1:
				setarray .@need,512,713;
				set .@gain,531;
				break;
			case 2:
				setarray .@need,513,713;
				set .@gain,532;
				break;
			case 3:
				setarray .@need,515,713;
				set .@gain,534;
				break;
			case 4:
				setarray .@need,514,713;
				set .@gain,533;
				break;
			case 5:
				mes "[商人マルクハンセン]";
				mes "ふーむ、嫌ならしようがない……";
				close;
		}
		setarray .@amount,1,1;	//個数はどのジュースでも共通
		set .@size,getarraysize(.@need);
		//.@max配列に各アイテムにおける最大数を入れる
		for(set .@i,0; .@i<.@size; set .@i,.@i+1) {
			set .@max[.@i],countitem(getelementofarray(.@need,.@i)) / getelementofarray(.@amount,.@i);
		}
		set .@max[.@i],Zeny / 3;	//末尾にZenyによる最大数を入れる
		for(set .@i,0; .@i<.@size; set .@i,.@i+1) {
			if(.@max[0] > .@max[1])			//要素0と1の値を比較し、大きい方をdeleteして詰める
				deletearray .@max[0],1;
			else
				deletearray .@max[1],1;
		}
		if(.@max==0) {
			mes "[商人マルクハンセン]";
			mes "材料が足りないようですね。";
			mes getitemname(.@gain)+ "を作るには";
			mes getitemname(.@need[0])+ "1個と 空きビン1個";
			mes "が必要です。";
			mes "また手数料 3 zeny かかります。";
			mes "私がよ～く絞って、";
			mes "食べやすくしてあげましょう。";
			close;
		}
		mes "[商人 マルクハンセン]";
		mes "いくつほどほしいのでしょうか？";
		next;
		switch (select("できるだけ全部","数を決める","やめる")) {
			case 1:
				set .@num,.@max;
				break;
			case 2:
				mes "[商人マルクハンセン]";
				mes "100個以下で決めて下さい。";
				mes "いらないのなら0でお願いします。";
				mes "君が持っているアイテムでは";
				mes "最大 " +.@max+ " 個まで出来ますね。";
				while(1) {
					next;
					input .@num;
					if(.@num>100 || .@num<0) {
						mes "[商人マルクハンセン]";
						mes "100個以上は無理です。";
						continue;
					}
					break;
				}
				if(.@num==0) {
					mes "[商人マルクハンセン]";
					mes "じゃ、また……";
					close;
				}
				if(.@num > .@max) {
					mes "[商人マルクハンセン]";
					mes "材料が足りないようですね。";
					mes "材料を早く集めてきてください……";
					close;
				}
				break;
			case 3:
				mes "[商人マルクハンセン]";
				mes "じゃまた……";
				close;
		}
		delitem .@need[0],.@num;
		delitem .@need[1],.@num;
		set Zeny,Zeny-.@num*3;
		getitem .@gain,.@num;
		mes "[商人マルクハンセン]";
		mes "さ！約束したジュースです。";
		mes "美味しそうでしょ。";
		mes "では、また是非来てください。";
		close;
	case 2:
		mes "# フルーツジュース #";
		mes "りんごジュース";
		mes "^3355FFりんご1個、空きビン1個、3 zeny^000000";
		mes "バナナジュース";
		mes "^3355FFバナナ1個、空きビン1個、3 zeny^000000";
		next;
		mes "# フルーツジュース #";
		mes "ニンジンジュース";
		mes "^3355FFニンジン1個、空きビン1個、3 zeny^000000";
		mes "ブドウジュース";
		mes "^3355FFブドウ1個、空きビン1個、3 zeny^000000";
		close;
	case 3:
		mes "[商人マルクハンセン]";
		mes "人を訪ねてきたのなら、";
		mes "用件を話したらどうですか？";
		close;
	}
}

alberta_in.gat,16,28,4	script	薬師おじいさん	61,{
	mes "[製薬師おじいさん]";
	mes "おぉ…お客さんか…？";
	mes "何の用かね？";
	next;
	switch (select("ポーションを作る","話を聞く","組み合わせを聞く","何でもありません")) {
	case 1:
		mes "[製薬師おじいさん]";
		mes "材料は用意して来たかね？";
		mes "どれが欲しいかね？";
		next;
		switch (select("赤ポーション","紅ポーション","黄ポーション","白ポーション","青ポーション","緑ポーション","やっぱりやめる")) {
			case 1:
				setarray .@need,507,713;
				setarray .@amount,2,1;
				set .@price,3;
				set .@gain,501;
				break;
			case 2:
				setarray .@need,507,508,713;
				setarray .@amount,1,1,1;
				set .@price,5;
				set .@gain,502;
				break;
			case 3:
				setarray .@need,508,713;
				setarray .@amount,2,1;
				set .@price,10;
				set .@gain,503;
				break;
			case 4:
				setarray .@need,509,713;
				setarray .@amount,2,1;
				set .@price,20;
				set .@gain,504;
				break;
			case 5:
				setarray .@need,510,713;
				setarray .@amount,2,1;
				set .@price,30;
				set .@gain,505;
				break;
			case 6:
				setarray .@need,511,713;
				setarray .@amount,2,1;
				set .@price,3;
				set .@gain,506;
				break;
			case 7:
				close;
		}
		if(Zeny<.@price) {	//1個も作れないくらい金がない場合
			mes "[製薬師おじいさん]";
			mes "この悪ガキ！";
			mes "金もないくせに作れとな？";
			mes "帰れ！帰れ！";
			close;
		}
		set .@size,getarraysize(.@need);
		//.@max配列に各アイテムにおける最大数を入れる
		for(set .@i,0; .@i<.@size; set .@i,.@i+1) {
			set .@max[.@i],countitem(getelementofarray(.@need,.@i)) / getelementofarray(.@amount,.@i);
		}
		set .@max[.@i],Zeny / .@price;	//末尾にZenyによる最大数を入れる
		for(set .@i,0; .@i<.@size; set .@i,.@i+1) {
			if(.@max[0] > .@max[1])			//要素0と1の値を比較し、大きい方をdeleteして詰める
				deletearray .@max[0],1;
			else
				deletearray .@max[1],1;
		}
		if(.@max==0) {
			mes "[製薬師おじいさん]";
			mes "この悪ガキ！";
			mes "材料もないくせにに作れとな？";
			mes "帰れ！帰れ！";
			close;
		}
		mes "[製薬師おじいさん]";
		mes "どのくらい欲しい？";
		next;
		switch (select("出来る限り","数を決めます","やっぱりやめます")) {
			case 1:
				set .@num,.@max;
				break;
			case 2:
				mes "[製薬師おじいさん]";
				mes "ならば、100個以下にして";
				mes "くれるかな。やめるんだったら";
				mes "0にしてくれるかな。";
				mes "君が持っている材料では";
				mes .@max+" 個ぐらい作れそうだの。";
				while(1) {
					next;
					input .@num;
					if(.@num>100 || .@num<0) {
						mes "[製薬師おじいさん]";
						mes "君、耳が悪いのかの？";
						mes "100個以下にしてくれと";
						mes "言っただろう！";
						continue;
					}
					break;
				}
				if(.@num==0) {
					mes "[製薬師おじいさん]";
					mes "はっきり決めんかい！";
					close;
				}
				if(.@num > .@max) {
					mes "[製薬師おじいさん]";
					mes "材料もないくせに作れとな？";
					close;
				}
				break;
			case 3:
				mes "[製薬師おじいさん]";
				mes "なに？用がないなら";
				mes "話しかけるでない！";
				close;
		}
		if(.@gain==502) {	//紅だけは2種類のハーブが必要
			delitem 507,.@num;
			delitem 508,.@num;
		}
		else {
			delitem .@need[0],.@num*2;
		}
		delitem 713,.@num;
		set Zeny,Zeny-.@price*.@num;
		getitem .@gain,.@num;
		mes "[製薬師おじいさん]";
		mes "うむ、完成したぞ！";
		mes "ほれ、受け取ってくれるかな。";
		mes "気を付けろ！薬は使いすぎると";
		mes "体によくないからの！";
		close;
	case 2:
		mes "[製薬師おじいさん]";
		mes "薬は人間の回復能力を向上させて";
		mes "くれる。人間の回復能力をどこまでも";
		mes "引き出してくれる訳ではないがな……";
		next;
		mes "[製薬師おじいさん]";
		mes "とほほ……年を取ったからなのか、";
		mes "昔のことを良く思い出すな……";
		mes "とにかく、ポーションは薬であるだけ…";
		mes "…それ以上でもそれ以下でもない。";
		close;
	case 3:
		mes "[製薬師おじいさん]";
		mes "やれやれ……若いヤツはシツコイのぅ。";
		mes "よし、そこまで聞きたいのなら、";
		mes "詳しく説明してやるか。";
		next;
		mes "[製薬師おじいさん]";
		mes "ハーブはそのまま使っても効果あるが、";
		mes "わしの優れた知識と、ある秘法で";
		mes "水薬にすれば、その効果はもっと";
		mes "高くなる";
		next;
		mes "[製薬師おじいさん]";
		mes "欲しいというなら作ってあげよう。";
		mes "だが、ただと言うわけにはいかん……";
		mes "若干、手数料をいただくが、";
		mes "わしの小遣い程度だから";
		mes "そんなに高くはない。";
		next;
		mes "[製薬師おじいさん]";
		mes "赤ポーション";
		mes "^0098E5赤ハーブ 2個、空きビン 1個";
		mes "手数料 3 zeny^000000";
		mes "紅ポーション";
		mes "^0098E5赤ハーブ 1個､黄ハーブ 1個､空きビン";	//半角「、」じゃないとずれます。
		mes "1個";
		mes "手数料 5 zeny^000000";
		next;
		mes "[製薬師おじいさん]";
		mes "黄ポーション";
		mes "^0098E5黄ハーブ 2個、空きビン 1個";
		mes "手数料 10 zeny^000000";
		mes "白ポーション";
		mes "^0098E5白ハーブ 2個、空きビン 1個";
		mes "手数料 20 zeny^000000";
		next;
		mes "[製薬師おじいさん]";
		mes "青ポーション";
		mes "^0098E5靑ハーブ 2個、空きビン 1個";
		mes "手数料 30 zeny^000000";
		mes "録ポーション";
		mes "^0098E5録ハーブ 2個、空きビン 1個";
		mes "手数料 3 zeny^000000";
		close;
	case 4:
		mes "[製薬師おじいさん]";
		mes "何だね？";
		mes "言いたいことがあったら";
		mes "はっきり言ったらどうかね！";
		close;
	}
}

prontera.gat,73,140,0	script	牛乳商人	86,{
	mes "[牛乳商人]";
	mes "空甁を持ってきたら、";
	mes "たったの 15 Zenyでミルク1個と";
	mes "交換してあげますよー";
	next;
	switch (select("空きビンを全部交換する","やめる")) {
	case 1:
		if(countitem(713)<1) {
			mes "[牛乳商人]";
			mes "ささ、空きビンを。";
			mes "……ありませんか？";
			close;
		}
		set .@num,countitem(713);
		if(Zeny<.@num*15) {
			mes "[牛乳商人]";
			mes "あれ、お金が足りませんね。";
			mes "15 Zeny足りません……";
			close;
		}
		if(checkweight(519,.@num)==0) {
			mes "[牛乳商人]";
			mes "ちょっと荷物が多いようですね……";
			mes "それではミルクをもちきれないですよ。";
			mes "荷物を減らすか、交換する空きビン";
			mes "の数を減らしてからおこしください。";
			close;
		}
		delitem 713,.@num;
		set Zeny,Zeny-.@num*15;
		getitem 519,.@num;
		close;
	case 2:
		mes "[牛乳商人]";
		mes "またどうぞー。";
		close;
	}
}

payon_in01.gat,5,134,4	script	発明家ゼックス	89,{
	if(Weight*100/MaxWeight >= 90) {
		mes "[発明家ゼックス]";
		mes "なんだかたくさん物を持って";
		mes "いるね。";
		mes "持ち物を減らして来たら";
		mes "いい話、してあげるんだけどな。";
		close;
	}
	mes "[発明家ゼックス]";
	mes "僕は天才発明家のゼックス！";
	mes "実は、歴史に残る大発明をしたんだ。";
	mes "その名^FF0000魔法の矢筒^000000!!";
	next;
	mes "[発明家ゼックス]";
	mes "数年間、来る日も来る日も……";
	mes "雨の日も、雪の日も……";
	mes "研究に研究を重ねてきた結果！";
	mes "なんと魔力を利用して矢を凝縮し、";
	mes "携帯できる^0000FF魔法の矢筒^000000を";
	mes "作ることに成功したんだ！";
	next;
	emotion 21;
	mes "[発明家ゼックス]";
	mes "これこそ、弓矢を使う人たちにとって";
	mes "喉から手が出るほど欲しかった";
	mes "ものに違いない！";
	mes "ふっふ～ん。";
	mes "我こそは偉大な発明家、ゼックス!!!";
	next;
	mes "[発明家ゼックス]";
	mes "さて、欲しい矢筒はあるかい？";
	mes "君の心をわしづかみにすること";
	mes "間違いなし！の品物だ。";
	next;
	switch (select("矢筒","鉄の矢筒","鋼鉄の矢筒","オリデオコンの矢筒","炎の矢筒","銀の矢筒","風の矢筒",
						"岩石の矢筒","水晶の矢筒","影の矢筒","無形の矢筒","錆びた矢筒")) {
		case 1:
			set .@arr,1750;
			set .@quiv,12004;
			break;
		case 2:
			set .@arr,1770;
			set .@quiv,12005;
			break;
		case 3:
			set .@arr,1753;
			set .@quiv,12006;
			break;
		case 4:
			set .@arr,1765;
			set .@quiv,12007;
			break;
		case 5:
			set .@arr,1752;
			set .@quiv,12008;
			break;
		case 6:
			set .@arr,1751;
			set .@quiv,12009;
			break;
		case 7:
			set .@arr,1755;
			set .@quiv,12010;
			break;
		case 8:
			set .@arr,1756;
			set .@quiv,12011;
			break;
		case 9:
			set .@arr,1754;
			set .@quiv,12012;
			break;
		case 10:
			set .@arr,1767;
			set .@quiv,12013;
			break;
		case 11:
			set .@arr,1757;
			set .@quiv,12014;
			break;
		case 12:
			set .@arr,1762;
			set .@quiv,12015;
			break;
	}
	if(countitem(.@arr)<500 || Zeny<500) {
		mes "[発明家ゼックス]";
		mes "これは" +getitemname(.@arr)+ "を";
		mes "500本入れることができる矢筒だよ。";
		mes "僕だけにできる特別な加工をしていて、";
		mes "500本そのまま持つより、これに";
		mes "入れた方が軽くなるという優れもの";
		mes "なんだ。";
		next;
		mes "[発明家ゼックス]";
		mes "どう？ 驚いたでしょ？";
		mes "まるで輝く宝石のような神秘の";
		mes "アイテム！ 僕の宝物さ！";
		mes "矢筒が要るなら" +getitemname(.@arr)+ "500本と";
		mes "500Zenyを持ってきて。";
		mes "矢筒に入れてあげるよ。";
		close;
	}
	mes "[発明家ゼックス]";
	mes "おお、ちゃんと必要な本数を";
	mes "持っているね。";
	mes "これに入れて使ってみるかい？";
	mes "^FF0000500Zeny^000000で";
	mes getitemname(.@arr)+ "500本を";
	mes "この矢筒に入れてあげるよ。";
	next;
	switch (select("組み合わせ可能なだけ入れてもらう","矢筒1個分だけ入れてもらう","やめる")) {
	case 1:
		set .@have,countitem(.@arr);	//矢所持数
		set .@max,.@have/500;		//最大交換数
		set .@price,.@max*500;		//料金
		mes "[発明家ゼックス]";
		mes "所持している" +getitemname(.@arr)+ " :";
		mes "^0000FF" +.@have+ " 本^000000";
		mes "組み合わせ可能な" +getitemname(.@quiv)+ " :";
		mes "^0000FF" +.@max+ " 個^000000";
		mes "組み合わせに必要なZeny :";
		mes "^0000FF" +.@price+ " Zeny^000000";
		next;
		mes "交換しますか？";
		next;
		if(select("交換する","交換しない")==2) {
			mes "[発明家ゼックス]";
			mes "なんだ……";
			mes "せっかくすごい発明をしたのに……";
			close;
		}
		break;
	case 2:
		set .@max,1;
		set .@price,500;
		break;
	case 3:
		mes "[発明家ゼックス]";
		mes "なんだ……";
		mes "せっかくすごい発明をしたのに……";
		close;
	}
	delitem .@arr,.@max*500;
	set Zeny,Zeny-.@price;
	getitem .@quiv,.@max;
	mes "[発明家ゼックス]";
	mes "ほら、これだよ。";
	mes "そこで、^0000FF注意点^000000が一つだけ";
	mes "あるからよく覚えておいてね。";
	mes "^FF0000重量が90%を超えると、この矢筒は";
	mes "使えなくなるから気をつけて。^000000";
	close;
}
function	script	TownInn	{
	next;
	switch (select("位置セーブする","宿泊する - 10000z","やめる")) {
	case 1:
		savepoint getarg(2),getarg(3),getarg(4);
		mes "["+getarg(1)+"]";
		switch(getarg(0)) {
			case 0:
				mes "位置セーブしました。";
				mes "またのご利用をお待ちしております。";
				return;
			case 1:
				mes "はい、セーブできました。";
				mes "ありがとうございました！";
				break;
			case 2:
				mes "はい、こちらでセーブできました。";
				mes "ご利用ありがとうございま～す。";
				break;
			case 3:
				mes "はい、位置セーブを行いました。";
				mes "ご利用、ありがとうございます。";
				next;
				mes "[ホテル職員]";
				mes "それでは、よい一日を。";
				return;
		}
		next;	//1,2だけnextして抜ける
		break;
	case 2:
		if(Zeny<10000) {
			mes "["+getarg(1)+"]";
			switch(getarg(0)) {
			case 0:
				mes "宿泊料は10000zになります。";
				mes "もう一度所持金をご確認ください。";
				return;
			case 1:
				mes "宿泊料は10000zですが……";
				mes "ちょっとお金が足りないみたいですね。";
				return;
			case 2:
				mes "宿泊料は10000zですよ。";
				mes "もう一度、お財布の中を";
				mes "確認していただけます？";
				return;
			case 3:
				mes "宿泊料金は。10000zenyです。";
				mes "所持金を再度ご確認ください。";
				return;
			}
		}
		mes "["+getarg(1)+"]";
		switch(getarg(0)) {
			case 0: mes "ごゆっくりお休みください。"; 	break;
			case 1: mes "ごゆっくりどうぞ～。"; 		break;
			case 2: mes "ぜひ、くつろいでくださいね～。"; 	break;
			case 3: mes "ごゆっくりお休みください。"; 	break;
		}
		close2;
		set Zeny,Zeny-10000;
		warp getarg(2),getarg(5),getarg(6);
		percentheal 100,100;
		end;
	}
	//「やめる」ならfall through
	switch(getarg(0)) {
		case 0:
			break;
		case 1:
		case 2:
			mes "["+getarg(1)+"]";
			mes "またのお越しをお待ちしております～";
			break;
		case 3:
			mes "[ホテル職員]";
			mes "またのお越しをお待ちしております。";
			break;
	}
	return;
}

// プロンテラ
prt_in.gat,244,135,0	script	旅館従業員#prt1	53,{
	mes "[従業員セミ]";
	mes "いらっしゃいませ！";
	mes "旅館「ネンカラス」本館にようこそ～。";
	mes "お客様、何の御用ですか？";
	callfunc "TownInn",1,"従業員セミ","prt_in.gat",238,131,247,104;
	close;
}

prt_in.gat,61,141,4	script	旅館従業員#prt2	94,{
	mes "[従業員アルマ]";
	mes "いらっしゃいませ！";
	mes "旅館「ネンカラス」別館にようこそ～。";
	mes "お客様、何の御用ですか？";
	callfunc "TownInn",2,"従業員アルマ","prt_in.gat",63,136,60,166;
	close;
}

// アインブロック
ein_in01.gat,206,224,3	script	ホテル職員#ein	855,{
	mes "[ホテル職員]";
	mes "ようこそいらっしゃいました。";
	mes "当ホテルは、清潔、親切、";
	mes "笑顔をモットーに、";
	mes "お客様に最高の休息を提供する、";
	mes "アインブロック最高の施設です。";
	callfunc "TownInn",3,"ホテル職員","ein_in01.gat",201,223,272,167;
	close;
}

// アルデバラン
aldeba_in.gat,92,58,2	script	旅館従業員#ald	53,{
	mes "[従業員リリム]";
	mes "いらっしゃいませ。";
	mes "何をお手伝いしましょうか？";
	callfunc "TownInn",0,"従業員リリム","aldeba_in.gat",93,50,92,112;
	close;
}

// (新)フェイヨン
payon_in01.gat,132,62,2	script	旅館従業員#pa	53,{
	mes "[従業員アキ]";
	mes "あ、お客さん";
	mes "こちらはフェイヨン旅館です。";
	mes "何をお手伝いしましょうか？";
	callfunc "TownInn",0,"従業員アキ","payon_in01.gat",135,62,132,11;
	close;
}

// アルベルタ
alberta_in.gat,32,142,2	script	旅館従業員#alb	53,{
	mes "[従業員ジェニー]";
	mes "いらっしゃいませ。";
	mes "こちらは旅館フィッシャーマンです。";
	mes "何をお手伝いしましょうか？";
	callfunc "TownInn",0,"従業員ジェニー","alberta_in.gat",25,142,16,105;
	close;
}

// ゲフェン
geffen_in.gat,70,64,3	script	旅館従業員#gef	53,{
	mes "[従業員セナ]";
	mes "いらっしゃいませ。";
	mes "こちらはゲフェン唯一の";
	mes "旅館イフリートです。";
	mes "何をお手伝いしましょうか？";
	callfunc "TownInn",0,"従業員セナ","geffen_in.gat",70,60,31,31;
	close;
}

//リヒタルゼン
//　functionは使わない
lhz_in02.gat,230,284,4	script	ホテル従業員#lh	86,{
	mes "[ホテル従業員]";
	mes "ようこそ！　世界最高のホテル、";
	mes "ロイヤルドラゴンです。";
	mes "客室数、各種サービスなど、";
	mes "他のホテルとは比べ物になりません！";
	mes "快適な環境でお客様に";
	mes "最高の時間を約束致します。";
	next;
	switch(select("位置をセーブする","ちょっと休む - 10000z","帰る")) {
	case 1:
		savepoint "lhz_in02.gat",232,273;
		mes "[ホテル従業員]";
		mes "セーブしました。";
		mes "ご利用ありがとうございます。";
		close;
	case 2:
		if(Zeny<10000) {
			mes "[ホテル従業員]";
			mes "利用料は 10000z です。";
			close;
		}
		mes "[ホテル従業員]";
		mes "ごゆっくりどうぞ";
		close2;
		sc_start 10,240000,10;	//SC_BLESSING
		set Zeny,Zeny-10000;
		warp "lhz_in02.gat",220,150;
		percentheal 100,100;
		end;
	case 3:
		mes "[ホテル従業員]";
		mes "ありがとうございます。";
		mes "またお越しくださいませ。";
		close;
	}
}

//フィゲル
hu_in01.gat,246,107,3	script	旅館職員#hu	53,{
	mes "[旅館職員]";
	mes "いらっしゃいませ～";
	mes "うちの旅館は";
	mes "旅行客のためにいつもきれいで";
	mes "さわやかな寝具が用意されています。";
	next;
	switch(select("セーブする","宿泊する-10000z","やめる")) {
	case 1:
		savepoint "hu_in01.gat",263,95;
		mes "[旅館職員]";
		mes "はい、こちらでセーブしました。";
		mes "ご利用ありがとうございます。";
		next;
		mes "[旅館職員]";
		mes "それでは、";
		mes "楽しい一日をお過ごしください。";
		close;
	case 2:
		if(Zeny<10000) {
			mes "[旅館職員]";
			mes "旅館利用料は10000Zenyです。";
			mes "所持金が足りないみたいですね。";
			close;
		}
		mes "[旅館職員]";
		mes "どうぞごゆっくり。";
		close2;
		set Zeny,Zeny-10000;
		warp "hu_in01.gat",267,5;
		percentheal 100,100;
		end;
	case 3:
		mes "[旅館職員]";
		mes "またどうぞ～";
		close;
	}
}

//ラヘル
ra_in01.gat,376,69,4	script	ホテル職員#ra	931,{
	mes "[ホテル職員]";
	mes "女神フレイヤ様の御加護が";
	mes "共にあらん事を……";
	mes "フレイヤ様の果てしない愛の様に";
	mes "最高の安らぎを誇る";
	mes "このラヘルホテルへようこそ。";
	next;
	switch(select("セーブする","休む - 10000z","やめる")) {
	case 1:
		savepoint "ra_in01.gat",375,61;
		mes "[ホテル職員]";
		mes "はい、ここにセーブしました。";
		mes "ご利用、ありがとうございます。";
		next;
		mes "[ホテル職員]";
		mes "それでは、";
		mes "楽しい一日をお過ごしください！";
		close;
	case 2:
		if(Zeny<10000) {
			mes "[ホテル職員]";
			mes "ホテルの利用額は 10000z です。";
			mes "持ち合わせが足りないようですね。";
			close;
		}
		mes "[ホテル職員]";
		mes "では、ごゆっくり。";
		close2;
		set Zeny,Zeny-10000;
		warp "ra_in01.gat",358,130;
		percentheal 100,100;
		end;
	case 3:
		mes "[ホテル職員]";
		mes "またのご利用をお待ちしております。";
		close;
	}
}

//ベインス
ve_in.gat,157,219,5	script	旅館の主人	709,{
	mes "[旅館の主人]";
	mes "こんにちは！";
	mes "ベインスで一番涼しい旅館へ";
	mes "ようこそ！";
	next;
	switch(select("セーブする","休む - 10000z","止める")) {
	case 1:
		savepoint "ve_in.gat",157,210;
		mes "[旅館の主人]";
		mes "はい！";
		mes "ここにセーブしました！";
		mes "毎度、ありがとうございます。";
		close;
	case 2:
		if(Zeny<10000) {
			mes "[旅館の主人]";
			mes "旅館の宿泊料は 10000z です。";
			mes "お金が足りない様ですね……。";
			close;
		}
		mes "[旅館の主人]";
		mes "では、ごゆっくりどうぞ。";
		close2;
		set Zeny,Zeny-10000;
		warp "ve_in.gat",184,228;
		percentheal 100,100;
		end;
	case 3:
		mes "[旅館の主人]";
		mes "またのご利用を";
		mes "お待ちしております。";
		mes "ありがとうございました。";
		close;
	}
}

payon,153,96,3	cashshop	スペシャルアイテム販売#1	73,12913:1500,12914:1500,12918:1500,12917:1500,12916:2000,12927:2000,12910:500,12903:2000,12904:2000,12908:2000,12905:2000,12906:2000,12907:2000,12900:1000,12922:3000,12901:1000,12911:5000,12921:2000,12920:2500,13500:1500,13501:1200,12912:1000,28472:500,12622:7000,2204:20000
alberta,90,56,3	cashshop	スペシャルアイテム販売#2	73,12913:1500,12914:1500,12918:1500,12917:1500,12916:2000,12927:2000,12910:500,12903:2000,12904:2000,12908:2000,12905:2000,12906:2000,12907:2000,12900:1000,12922:3000,12901:1000,12911:5000,12921:2000,12920:2500,13500:1500,13501:1200,12912:1000,28472:500,12622:7000,2204:20000
prontera,123,68,3	cashshop	スペシャルアイテム販売#3	73,12913:1500,12914:1500,12918:1500,12917:1500,12916:2000,12927:2000,12910:500,12903:2000,12904:2000,12908:2000,12905:2000,12906:2000,12907:2000,12900:1000,12922:3000,12901:1000,12911:5000,12921:2000,12920:2500,13500:1500,13501:1200,12912:1000,28472:500,12622:7000,2204:20000
geffen,114,104,3	cashshop	スペシャルアイテム販売#4	73,12913:1500,12914:1500,12918:1500,12917:1500,12916:2000,12927:2000,12910:500,12903:2000,12904:2000,12908:2000,12905:2000,12906:2000,12907:2000,12900:1000,12922:3000,12901:1000,12911:5000,12921:2000,12920:2500,13500:1500,13501:1200,12912:1000,28472:500,12622:7000,2204:20000
morocc,169,80,3	cashshop	スペシャルアイテム販売#5	73,12913:1500,12914:1500,12918:1500,12917:1500,12916:2000,12927:2000,12910:500,12903:2000,12904:2000,12908:2000,12905:2000,12906:2000,12907:2000,12900:1000,12922:3000,12901:1000,12911:5000,12921:2000,12920:2500,13500:1500,13501:1200,12912:1000,28472:500,12622:7000,2204:20000
aldebaran,135,123,3	cashshop	スペシャルアイテム販売#6	73,12913:1500,12914:1500,12918:1500,12917:1500,12916:2000,12927:2000,12910:500,12903:2000,12904:2000,12908:2000,12905:2000,12906:2000,12907:2000,12900:1000,12922:3000,12901:1000,12911:5000,12921:2000,12920:2500,13500:1500,13501:1200,12912:1000,28472:500,12622:7000,2204:20000
yuno,167,187,3	cashshop	スペシャルアイテム販売#7	73,12913:1500,12914:1500,12918:1500,12917:1500,12916:2000,12927:2000,12910:500,12903:2000,12904:2000,12908:2000,12905:2000,12906:2000,12907:2000,12900:1000,12922:3000,12901:1000,12911:5000,12921:2000,12920:2500,13500:1500,13501:1200,12912:1000,28472:500,12622:7000,2204:20000
einbroch,242,255,3	cashshop	スペシャルアイテム販売#8	73,12913:1500,12914:1500,12918:1500,12917:1500,12916:2000,12927:2000,12910:500,12903:2000,12904:2000,12908:2000,12905:2000,12906:2000,12907:2000,12900:1000,12922:3000,12901:1000,12911:5000,12921:2000,12920:2500,13500:1500,13501:1200,12912:1000,28472:500,12622:7000,2204:20000
lighthalzen,187,304,3	cashshop	スペシャルアイテム販売#9	73,12913:1500,12914:1500,12918:1500,12917:1500,12916:2000,12927:2000,12910:500,12903:2000,12904:2000,12908:2000,12905:2000,12906:2000,12907:2000,12900:1000,12922:3000,12901:1000,12911:5000,12921:2000,12920:2500,13500:1500,13501:1200,12912:1000,28472:500,12622:7000,2204:20000
hugel,83,150,3	cashshop	スペシャルアイテム販売#a	73,12913:1500,12914:1500,12918:1500,12917:1500,12916:2000,12927:2000,12910:500,12903:2000,12904:2000,12908:2000,12905:2000,12906:2000,12907:2000,12900:1000,12922:3000,12901:1000,12911:5000,12921:2000,12920:2500,13500:1500,13501:1200,12912:1000,28472:500,12622:7000,2204:20000


//====================================================================
// PVPドアマン
//--------------------------------------------------------------------
prt_in.gat,51,140,4	script	PVPドアマン	83,{
	mes "[PVPドアマン]";
	mes "PVP控え室にご案内する";
	mes "PVPドアマンです。";
	mes "移動されますか？";
	next;
	set @menu,select(	"プロンテラ　[" +getmapusers("pvp_y_1-1.gat")+ " / 128]",
				"イズルード　[" +getmapusers("pvp_y_1-2.gat")+ " / 128]",
				"フェイヨン　[" +getmapusers("pvp_y_1-3.gat")+ " / 128]",
				"アルベルタ　[" +getmapusers("pvp_y_1-4.gat")+ " / 128]",
				"モロク　[" 	+getmapusers("pvp_y_1-5.gat")+ " / 128]","取り消し");
	if(@menu==6)
		close;
	if(getmapusers("pvp_y_1-"+@menu+".gat") >= 128) {
		mes "[PVP 試合場 受付]";
		mes "満員です。";
		close;
	}
	warp "pvp_y_1-"+@menu+".gat",0,0;
	end;
}
prt_in.gat,53,140,4	script	GVGドアマン	83,{
	mes "[GVGドアマン]";
	mes "GVG控え室にご案内する";
	mes "GVGドアマンです。";
	mes "移動されますか？";
	next;
	set @menu,select(	"プロンテラ　[" +getmapusers("pvp_y_2-1.gat")+ " / 128]",
				"イズルード　[" +getmapusers("pvp_y_2-2.gat")+ " / 128]",
				"フェイヨン　[" +getmapusers("pvp_y_2-3.gat")+ " / 128]",
				"アルベルタ　[" +getmapusers("pvp_y_2-4.gat")+ " / 128]",
				"モロク　[" 	+getmapusers("pvp_y_2-5.gat")+ " / 128]","取り消し");
	if(@menu==6)
		close;
	if(getmapusers("pvp_y_2-"+@menu+".gat") >= 128) {
		mes "[PVP 試合場 受付]";
		mes "満員です。";
		close;
	}
	warp "pvp_y_2-"+@menu+".gat",0,0;
	end;
}

//=====================================================================
//武具精錬NPCセリフパターン1
//	（プロンテラ・アルベルタ・アインブロック）
//  callfunc "Refine1","NPCName",SuccessEmotion,FalureEmotion;
//--------------------------------------------------------------------

function	script	Refine1	{
	mes "["+getarg(0)+"]";
	mes "俺は武器と防具を精錬する鍛冶屋だ。";
	mes "君が装備しているアイテムの中で";
	mes "好きなものを精錬できるのだ。";
	mes "どの装備アイテムを";
	mes "精錬したいのかい？";
	set .@hiref,0;set .@oile,512;
	next;
	set .@i,select( getequipid(1)!=-1?getequipname(1):"賢い頭",getequipid(2)!=-1?getequipname(2):"ダイナミックボディ",
			getequipid(3)!=-1?getequipname(3):"器用な左手",getequipid(4)!=-1?getequipname(4):"細い右手",
			getequipid(5)!=-1?getequipname(5):"綺麗な鎖骨",getequipid(6)!=-1?getequipname(6):"すらりと伸びた足");
	mes "["+getarg(0)+"]";
	if(getequipisequiped(.@i)==0) {
		switch(.@i) {
		case 1:
			mes "君の足りない脳みそを";
			mes "精錬してあげようか？";
			break;
		case 2:
			mes "俺の熱い体で君の体を";
			mes "精錬してあげるわ！";
			break;
		case 3:
			mes "君の左手をロケットパンチに";
			mes "する腕はないな。";
			break;
		case 4:
			mes "現代科学技術でも君の右手を";
			mes "ドリルにすることは";
			mes "できないね。";
			break;
		case 5:
			mes "ローブを持ってないじゃないか！";
			break;
		case 6:
			mes "君の足の臭いすごいぜ！";
			break;
		}
		return;
	}
	if(getequipisenableref(.@i)==0) {
		mes "このアイテムは精錬不可能だ。";
		return;
	}
	if(getequipisidentify(.@i)==0) {
		mes "これは未鑑定だから精錬できない。";
		return;
	}
	if(getequiprefinerycnt(.@i)>=10) {
		mes "これ以上は精錬できないぞ。";
		return;
	}
	//初回呼び出し時のみ料金とアイテムIDをそれぞれ格納
	if(.price[0]==0) {
		setarray .price,10000,250,1000,10000,20000;
		setarray .itemid,985,1010,1011,984,984;
	}
	set .@wlv,getequipweaponlv(.@i);
	switch(.@wlv) {
	case 0:
		mes "君が選んだ装備を精錬するには";
		mes "^ff9999エルニウム^000000と";
		mes "手数料10000Zenyが必要だな。";
		mes "続けるかい？";
		break;
	case 1:
		mes "レベル1の武器を精錬したいのかい？";
		mes "精錬するため、 ^ff9999プラコン^000000と";
		mes "手数料250Zenyが必要だな。";
		mes "続けるのか？";
		break;
	case 2:
		mes "レベル2の武器を精錬したいのかい？";
		mes "精錬するため、 ^ff9999エンベルタコン^000000と";
		mes "手数料1000Zenyが必要だな。";
		mes "続けるのか？";
		break;
	case 3:
		mes "レベル3の武器を精錬したいのかい？";
		mes "精錬するため、 ^ff9999オリデオコン^000000と";
		mes "手数料10000Zenyが必要だな。";
		mes "続けるのか？";
		break;
	case 4:
		mes "レベル4の武器を精錬したいのかい？";
		mes "精錬するため、 ^ff9999オリデオコン^000000と";
		mes "手数料20000Zenyが必要だな。";
		mes "続けるのか？";
		break;
	}
	next;
	switch(select("はい","いいえ","濃縮精錬する")) {
	case 1:
		break;
	case 2:
		mes "["+getarg(0)+"]";
		mes "君が嫌なら仕方がないだろう…";
		return;
	case 3:
		set .@hiref,1;
		break;
	}
	switch(getequiprefinerycnt(.@i)){
	case 4: set .@oile,((.@wlv==0)?28486:28481); break;
	case 5: set .@oile,((.@wlv==0)?28487:28482); break;
	case 6: set .@oile,((.@wlv==0)?28488:28483); break;
	case 7: set .@oile,((.@wlv==0)?28489:28484); break;
	case 8: set .@oile,((.@wlv==0)?28490:28485); break;
	}
	if(getequippercentrefinery(.@i) < 100) {
		mes "["+getarg(0)+"]";
		if(.@oile != 512 && countitem(.@oile) > 0){
			mes getitemname(.@oile)+"を持っているようだな";
			mes "今回の精錬にそれを使うとしよう";
			next;
			mes "["+getarg(0)+"]";
		}
		if(.@wlv==0) {	//防具のとき
			mes "おおっと！この防具はもうたくさんの";
			mes "精錬をしてきたみたいだな…これ以上";
			mes "精錬したら防具が壊れるかも";
			mes "しれないぞ。防具が壊れたら";
		}
		else {		//武器のとき
			mes "おおっと！この武器はもうたくさんの";
			mes "精錬をしてきたみたいだな…これ以上";
			mes "精錬したら武器が壊れるかも";
			mes "しれないぞ。武器が壊れたら";
		}
		mes "2度と使えなくなる…それでも";
		mes "精錬をする気なのかい？";
		next;
		if(select("はい","いいえ")==2) {
			mes "["+getarg(0)+"]";
			mes "良い選択だな。";
			mes "俺も無理して他人の武器を壊したら";
			mes "気分が悪くなるからさ…";
			return;
		}
	}
	if(.@hiref==1){
		switch(.@wlv) {
		case 0:
			if(countitem(7619)<1 || Zeny<.price[.@wlv]){
				mes "["+getarg(0)+"]";
				mes "それが君が持ってる全部かい？";
				mes "残念だが、材料が足りないんじゃ";
				mes "仕方がないな。";
				mes "俺はただでやってやるほど";
				mes "心が広くないからな。";
				return;
			}
			delitem 7619,1;
			break;
		default:
			if(countitem(7620)<1 || Zeny<.price[.@wlv]){
				mes "["+getarg(0)+"]";
				mes "それが君が持ってる全部かい？";
				mes "残念だが、材料が足りないんじゃ";
				mes "仕方がないな。";
				mes "俺はただでやってやるほど";
				mes "心が広くないからな。";
				return;
			}
			delitem 7620,1;
			break;
		}
	}else if(countitem(.itemid[.@wlv])<1 || Zeny<.price[.@wlv]) {
		mes "["+getarg(0)+"]";
		mes "それが君が持ってる全部かい？";
		mes "残念だが、材料が足りないんじゃ";
		mes "仕方がないな。";
		mes "俺はただでやってやるほど";
		mes "心が広くないからな。";
		return;
	}
	if(.@hiref==0)
		delitem .itemid[.@wlv],1;
	else{
		set .@hiref,50-getequiprefinerycnt(.@i)*5;
	}
	set Zeny,Zeny-.price[.@wlv];
	mes "["+getarg(0)+"]";
	mes "カン！ カン！ カン!!";
	if(.@oile != 512 && countitem(.@oile) > 0){
		delitem .@oile,1;
		if(getequippercentrefinery(.@i)+.@hiref > rand(100)) {
			successrefitem .@i;
			next;
			emotion getarg(1);
			mes "["+getarg(0)+"]";
			mes "さあ、出来上ったよ！";
			mes "久々に良い物ができた。";
			mes "武具が強くなって君も嬉しいだろ？";
		}
		else {
			specialeffect2 155;
			next;
			emotion getarg(2);
			mes "["+getarg(0)+"]";
			mes "クホホホホ…";
			next;
			mes "["+getarg(0)+"]";
			mes "すまん！";
			mes "だが、ほら、オイルのおかげで";
			mes "無事に済んだだろう？";
		}
	}else{
		if(getequippercentrefinery(.@i)+.@hiref > rand(100)) {
			successrefitem .@i;
			next;
			emotion getarg(1);
			mes "["+getarg(0)+"]";
			mes "さあ、出来上ったよ！";
			mes "久々に良い物ができた。";
			mes "武具が強くなって君も嬉しいだろ？";
		}
		else {
			failedrefitem .@i;
			next;
			emotion getarg(2);
			mes "["+getarg(0)+"]";
			mes "クホホホホ…";
			next;
			mes "["+getarg(0)+"]";
			mes "すまん！";
			mes "精錬中に武具が壊れてしまったな…";
			mes "ほ、ほら、俺がやめろって";
			mes "最初に言っただろう？";
		}
	}
	return;
	//closeで終了
}

//=====================================================================
//武具精錬NPCセリフパターン2
//	（フェイヨン・ジュノー）
//  callfunc "Refine2","NPCName",SuccessEmotion,FalureEmotion;
//--------------------------------------------------------------------

function	script	Refine2	{
	mes "["+getarg(0)+"]";
	mes "来たか。まあとにかく";
	mes "精錬したい装備を出せ。";
	next;
	set .@i,select( getequipid(1)!=-1?getequipname(1):"賢い頭",getequipid(2)!=-1?getequipname(2):"ダイナミックボディ",
			getequipid(3)!=-1?getequipname(3):"器用な左手",getequipid(4)!=-1?getequipname(4):"細い右手",
			getequipid(5)!=-1?getequipname(5):"綺麗な鎖骨",getequipid(6)!=-1?getequipname(6):"すらりと伸びた足");
	mes "["+getarg(0)+"]";
	if(getequipisequiped(.@i)==0) {
		switch(.@i) {
		case 1:
			mes "俺は忙しい！お前の冗談に";
			mes "付き合っている時間など無いんだ。";
			mes "頭を突っ込んでどうするつもりだ？";
			break;
		case 2:
			mes "俺は忙しいと言っているだろう！";
			break;
		case 3:
			mes "くだらない冗談はやめてくれ！";
			break;
		case 4:
			mes "お前、精錬する気あるのか？";
			break;
		case 5:
			mes "かえれ！";
			break;
		case 6:
			mes "くだらない悪戯に付き合う";
			mes "暇は無いんだ！";
			break;
		}
		return;
	}
	if(getequipisenableref(.@i)==0) {
		mes "これは精錬できない。";
		mes "他を当たってくれ。";
		return;
	}
	if(getequipisidentify(.@i)==0) {
		mes "わけのわからない物を";
		mes "精錬する趣味は無い…";
		return;
	}
	if(getequiprefinerycnt(.@i)>=10) {
		mes "これ以上手を加えるところが";
		mes "無いぞ！";
		return;
	}
	//初回呼び出し時のみ料金とアイテムIDをそれぞれ格納
	if(.price[0]==0 || .itemid[0]==0) {
		setarray .price,10000,250,1000,10000,20000;
		setarray .itemid,985,1010,1011,984,984;
	}
	set .@wlv,getequipweaponlv(.@i);
	switch(.@wlv) {
	case 0:
		mes "お前が選んだ装備を精錬するには";
		mes "^ff9999エルニウム^000000と";
		mes "手数料10000Zenyが必要だな。";
		mes "ビタ1Zeny負けられない。";
		break;
	case 1:
		mes "レベル1の武器を精錬したいのか？";
		mes "精錬するため、 ^ff9999プラコン^000000と";
		mes "手数料250Zenyが必要だな。";
		mes "ビタ1Zeny負けられない。";
		break;
	case 2:
		mes "レベル2の武器を精錬したいのか？";
		mes "精錬するため、 ^ff9999エンベルタコン^000000と";
		mes "手数料1000Zenyが必要だな。";
		mes "ビタ1Zeny負けられない。";
		break;
	case 3:
		mes "レベル3の武器を精錬したいのか？";
		mes "精錬するため、 ^ff9999オリデオコン^000000と";
		mes "手数料10000Zenyが必要だな。";
		mes "久しぶりに俺の実力を見せてやるか。";
		break;
	case 4:
		mes "レベル4の武器を精錬したいのか？";
		mes "精錬するため、 ^ff9999オリデオコン^000000と";
		mes "手数料20000Zenyが必要だな。";
		mes "レベル4の武器か…興奮するぜ！";
		break;
	}
	next;
	if(select("はい","いいえ")==2) {
		mes "["+getarg(0)+"]";
		mes "遊びじゃないんだよ！";
		return;
	}
	if(getequippercentrefinery(.@i) < 100) {
		mes "["+getarg(0)+"]";
		mes "く…どこからこんな厄介な物を";
		mes "持ってきたんだ…。";
		mes "これ以上の精錬は危険だ。";
		mes "それを承知でやるというのか？";
		next;
		if(select("はい","いいえ")==2) {
			mes "["+getarg(0)+"]";
			mes "つまらん…";
			mes "俺は忙しい、帰ってくれ。";
			return;
		}
	}
	if(countitem(.itemid[.@wlv])<1 || Zeny<.price[.@wlv]) {
		mes "["+getarg(0)+"]";
		mes "1Zenyも負けられないから";
		mes "精錬したければお金を持ってきな。";
		return;
	}
	delitem .itemid[.@wlv],1;
	set Zeny,Zeny-.price[.@wlv];
	mes "["+getarg(0)+"]";
	mes "カン！ カン！ カン!!";
	if(getequippercentrefinery(.@i) > rand(100)) {
		successrefitem .@i;
		next;
		emotion getarg(1);
		mes "["+getarg(0)+"]";
		mes "バッチリだ！";
		mes "また来てくれ。";
	}
	else {
		failedrefitem .@i;
		next;
		emotion getarg(2);
		mes "["+getarg(0)+"]";
		mes "ふ…";
		next;
		mes "["+getarg(0)+"]";
		mes "残念だ…";
		mes "まあ人生こういうこともある。";
		mes "落ち込むなよ…";
	}
	return;
	//closeで終了
}

//=====================================================================
//武具精錬NPCセリフパターン3
//	（モロク）
//  callfunc "Refine3","NPCName",SuccessEmotion,FalureEmotion;
//--------------------------------------------------------------------

function	script	Refine3	{
	mes "["+getarg(0)+"]";
	mes "私は武器と防具を精錬する鍛冶屋。";
	mes "汝が装備しているアイテムの中で";
	mes "好きなものを精錬できる。";
	mes "どの装備アイテムを";
	mes "精錬したいのか？";
	next;
	set .@i,select( getequipid(1)!=-1?getequipname(1):"賢い頭",getequipid(2)!=-1?getequipname(2):"ダイナミックボディ",
			getequipid(3)!=-1?getequipname(3):"器用な左手",getequipid(4)!=-1?getequipname(4):"細い右手",
			getequipid(5)!=-1?getequipname(5):"綺麗な鎖骨",getequipid(6)!=-1?getequipname(6):"すらりと伸びた足");
	mes "["+getarg(0)+"]";
	if(getequipisequiped(.@i)==0) {
		switch(.@i) {
		case 1:
			mes "汝の足りない脳みそを";
			mes "精錬してさしあげようか？";
			break;
		case 2:
			mes "私の熱い体で汝の体を";
			mes "精錬してあげるわ！";
			break;
		case 3:
			mes "汝の左手を改造する技術は無い。";
			break;
		case 4:
			mes "汝の右手をマシンガンに";
			mes "するのは無理だ。";
			break;
		case 5:
			mes "ローブを持っていないな。";
			break;
		case 6:
			mes "臭い…";
			break;
		}
		return;
	}
	if(getequipisenableref(.@i)==0) {
		mes "このアイテムは精錬不可能。";
		return;
	}
	if(getequipisidentify(.@i)==0) {
		mes "これは未鑑定だから精錬できない。";
		return;
	}
	if(getequiprefinerycnt(.@i)>=10) {
		mes "これ以上は精錬できない。";
		return;
	}
	//初回呼び出し時のみ料金とアイテムIDをそれぞれ格納
	if(.price[0]==0 || .itemid[0]==0) {
		setarray .price,10000,250,1000,10000,20000;
		setarray .itemid,985,1010,1011,984,984;
	}
	set .@wlv,getequipweaponlv(.@i);
	switch(.@wlv) {
	case 0:
		mes "汝が選んだ装備を精錬するには";
		mes "^ff9999エルニウム^000000と ";
		mes "手数料10000Zenyが必要だ。";
		mes "続けるか？";
		break;
	case 1:
		mes "レベル1の武器を精錬したいのか？";
		mes "精錬するため、 ^ff9999プラコン^000000と";
		mes "手数料250Zenyが必要だ。";
		mes "続けるか？";
		break;
	case 2:
		mes "レベル2の武器を精錬したいのか？";
		mes "精錬するため、 ^ff9999エンベルタコン^000000と";
		mes "手数料1000Zenyが必要だ。";
		mes "続けるか？";
		break;
	case 3:
		mes "レベル3の武器を精錬したいのか？";
		mes "精錬するため、 ^ff9999オリデオコン^000000と";
		mes "手数料10000Zenyが必要だ。";
		mes "続けるか？";
		break;
	case 4:
		mes "レベル4の武器を精錬したいのか？";
		mes "精錬するため、 ^ff9999オリデオコン^000000と";
		mes "手数料20000Zenyが必要だ。";
		mes "続けるか？";
		break;
	}
	next;
	if(select("はい","いいえ")==2) {
		mes "["+getarg(0)+"]";
		mes "汝がやめるなら仕方がない…";
		return;
	}
	if(getequippercentrefinery(.@i) < 100) {
		mes "["+getarg(0)+"]";
		if(.@wlv==0) {	//防具のとき
			mes "ふむ…この防具はもうたくさんの";
			mes "精錬をしてきたみたいだな…これ以上";
			mes "精錬したら防具が壊れるかも";
			mes "しれない。防具が壊れたら";
		}
		else {		//武器のとき
			mes "ふむ…この武器はもうたくさんの";
			mes "精錬をしてきたみたいだな…これ以上";
			mes "精錬したら武器が壊れるかも";
			mes "しれない。武器が壊れたら";
		}
		mes "2度と使えなくなる…それでも";
		mes "精錬をする気なのか？";
		next;
		if(select("はい","いいえ")==2) {
			mes "["+getarg(0)+"]";
			mes "良い選択だ。";
			mes "私も無理して他人の武器を壊したら";
			mes "気分が悪くなるから…";
			return;
		}
	}
	if(countitem(.itemid[.@wlv])<1 || Zeny<.price[.@wlv]) {
		mes "["+getarg(0)+"]";
		mes "それが汝が持ってる全部か？";
		mes "残念だが、材料が足りないならば";
		mes "仕方がない。";
		mes "私はただでやってさしあげるほど";
		mes "心が広くない。";
		return;
	}
	delitem .itemid[.@wlv],1;
	set Zeny,Zeny-.price[.@wlv];
	mes "["+getarg(0)+"]";
	mes "カン！ カン！ カン!!";
	if(getequippercentrefinery(.@i) > rand(100)) {
		successrefitem .@i;
		next;
		emotion getarg(1);
		mes "["+getarg(0)+"]";
		mes "さあ、出来た！";
		mes "久々に良い物ができたな。";
		mes "武具が強くなって汝も嬉しかろう？";
	}
	else {
		failedrefitem .@i;
		next;
		emotion getarg(2);
		mes "["+getarg(0)+"]";
		mes "………";
		next;
		mes "["+getarg(0)+"]";
		mes "すまない…";
		mes "精錬中に武具が壊れてしまった…";
		mes "しかし、最初に忠告はしたぞ？";
	}
	return;
	//closeで終了
}

// ----- アルベルタ -----
alberta_in.gat,28,58,4	script	フレドリック	85,{
	callfunc "Refine1","フレドリックヘルマンソン",18,4;
	close;
}
// ----- プロンテラ -----
prt_in.gat,63,60,0	script	ホルグレン	85,{
	callfunc "Refine1","ホルグレン",21,23;
	close;
}
// ----- モロク -----
morocc_in.gat,73,38,4	script	アラガム	99,{
	callfunc "Refine3","アラガムサレー",30,16;
	close;
}
// ----- フェイヨン -----
payon.gat,144,173,5	script	アントニオ	88,{
	callfunc "Refine2","アントニオ",0,32;
	close;
}
// ----- ジュノー -----
yuno_in01.gat,171,21,4	script	ディスターブ	85,{
	callfunc "Refine2","ディスターブ",9,0;
	close;
}
// ----- アインブロック -----
ein_in01.gat,24,87,5	script	マンダスマン	826,{
	callfunc "Refine1","マンダスマン",18,4;
	close;
}
//====================================================================
//精錬石販売NPC
//--------------------------------------------------------------------

-	script	BuyStone	-1,{
	mes "["+strnpcinfo(0)+"]";
	mes "鉄や鋼鉄の武器を精錬する時に";
	mes "使える金属を売っています。";
	mes "1レベルの武器精錬に使える";
	mes "^007777プラコン^000000と";
	mes "2レベルの武器精錬に使える";
	mes "^007777エンベルタコン^000000があります。";
	next;
	mes "["+strnpcinfo(0)+"]";
	mes "プラコンは1個200Zeny、";
	mes "エンベルタコンは";
	mes "1個1000Zenyです。";
	next;
	switch (select("プラコン購入","エンベルタコン購入","他の金属はないか聞いてみる")) {
	case 1:
		set .@price,200;
		set .@itemid,1010;
		break;
	case 2:
		set .@price,1000;
		set .@itemid,1011;
		break;
	case 3:
		mes "["+strnpcinfo(0)+"]";
		mes "1レベルと2レベルの武器より";
		mes "レベルが高い武器を精錬するための";
		mes "金属ですね。";
		mes "もうご存知かもしれませんが､";
		mes "オリデオコンとエルニウムは";
		mes "手に入れるのがすごく難しくてね…";
		close;
	}
	mes "["+strnpcinfo(0)+"]";
	mes "いくつ購入しますか？";
	mes "取り引きを中止したければ";
	mes "「0」でお願いします。";
	while(1) {
		next;
		input .@num;
		if(.@num<=0) {
			mes "["+strnpcinfo(0)+"]";
			mes "取引中止ですね。";
			close;
		}
		if(.@num>500) {
			mes "["+strnpcinfo(0)+"]";
			mes "500個以下で決めてください。";
			continue;
		}
		break;	//while文抜ける
	}
	if(Zeny<.@price*.@num) {
		mes "["+strnpcinfo(0)+"]";
		mes "あれ？お客さん…";
		mes "お金が足りませんね。";
		mes "すみませんが、うちも商売だから";
		mes "損するわけにはいかないんですよ。";
		close;
	}
	if(checkweight(.@itemid,.@num)==0) {
		mes "["+strnpcinfo(0)+"]";
		mes "荷物が多いですね。";
		mes "持ち物を整理してから";
		mes "またおこしください。";
		close;
	}
	set Zeny,Zeny-.@price*.@num;
	getitem .@itemid,.@num;
	mes "["+strnpcinfo(0)+"]";
	mes "ご購入、ありがとうございました。";
	close;
}

alberta_in.gat,13,71,4	duplicate(BuyStone)	カラマンリス	86
prt_in.gat,56,68,4	duplicate(BuyStone)	ブルウェル	86
morocc_in.gat,63,32,0	duplicate(BuyStone)	サド		99
payon.gat,145,178,4	duplicate(BuyStone)	ベグナド	88
yuno_in01.gat,171,27,4	duplicate(BuyStone)	ティルレマ	86
ein_in01.gat,15,87,4	duplicate(BuyStone)	ティルイハース	86


//====================================================================
//精錬石交換NPC
//--------------------------------------------------------------------

-	script	ChangeStone	-1,{
	mes "["+strnpcinfo(3)+"]";	//識別子を参照
	mes "オリデオコンやエルニウムの原石を";
	mes "私に持ってきたら、すぐに";
	mes "オリデオコンとエルニウムに";
	mes "してやる。但し、原石は";
	mes "各5つずつ持ってくるように。";
	next;
	switch (select("オリデオコンを作る","エルニウムを作る","一括交換","属性石について聞く")) {
	case 1:
		set .@itemid,756;
		set .@gain,984;
		break;
	case 2:
		set .@itemid,757;
		set .@gain,985;
		break;
	case 3:
		if(countitem(756)<5 && countitem(757)<5) {
			mes "["+strnpcinfo(3)+"]";
			mes "ハハハハ、冗談だろ？";
			mes "原石が5つ無いと";
			mes "オリデオコン、エルニウムは作れないと";
			mes "言ったじゃないか。";
			close;
		}
		if(countitem(756)>4) {
			set .@ori,countitem(756) / 5;
			delitem 756,.@ori * 5;
			getitem 984,.@ori;
		}
		if(countitem(757)>4) {
			set .@eru,countitem(757) / 5;	
			delitem 757,.@eru * 5;
			getitem 985,.@eru;
		}
		mes "["+strnpcinfo(3)+"]";
		mes "ほら、約束のブツだ。";
		mes "いつでもまた来てくれ。";
		close;
	case 4:
		mes "["+strnpcinfo(3)+"]";
		mes "属性石か…";
		mes "私の金属精錬人生20年で";
		mes "話はよく聞いたが実際には";
		mes "見たことはない。";
		mes "聞くところによると、金属が";
		mes "火、水、地、風の属性を持つらしい。";
		next;
		mes "["+strnpcinfo(3)+"]";
		mes "その属性石を武器を作る時に";
		mes "混入すれば、属性を持つ武器を";
		mes "作れるという…";
		mes "はは…そんなことができるのは";
		mes "相当な精錬職人だろうな。";
		close;
	}
	if(countitem(.@itemid)<5) {
		mes "["+strnpcinfo(3)+"]";
		mes "ハハハハ、冗談だろ？";
		mes getitemname(.@itemid)+ "が5つ無いと";
		mes getitemname(.@gain)+ "が作れないと";
		mes "言ったじゃないか。";
		close;
	}
	delitem .@itemid,5;
	getitem .@gain,1;
	mes "["+strnpcinfo(3)+"]";
	mes "ほら、約束の" +getitemname(.@gain)+ "だ。";
	mes "いつでもまた来てくれ。";
	close;
}

alberta_in.gat,21,63,5	duplicate(ChangeStone)	ゼノフォン::ゼノフォン ゾロタス	84
prt_in.gat,63,69,4	duplicate(ChangeStone)	ディートリヒ		84
morocc_in.gat,72,32,0	duplicate(ChangeStone)	アブドゥル		99
payon.gat,137,178,5	duplicate(ChangeStone)	ハキム			88
yuno_in01.gat,164,27,4	duplicate(ChangeStone)	ティルレイ		84
ein_in01.gat,18,82,5	duplicate(ChangeStone)	マティシュタイン	84


//====================================================================
//武具修理NPC
//--------------------------------------------------------------------

-	script	Repairer	-1,{
	mes "[修理工]";
	mes "そこの旅人、";
	mes "修理したいアイテムはあるか？";
	mes "アイテムの修理は俺に任せてくれ！";
	next;
	if(select("実は修理して欲しいアイテムが……","今は特に無いです")==2) {
		mes "[修理工]";
		mes "ふむ……";
		mes "なら俺に用は無いな。";
		close;
	}
	set .@checkitem,1;
	while (1) {
		if (getbrokenid(.@checkitem) == 0) {
			break;
		}
		set .@checkitem,.@checkitem+1;
	}
	set .@checkitem,.@checkitem-1;
	if (!.@checkitem) {
		mes "[修理工]";
		mes "おいおい……";
		mes "修理する必要のあるものなんて";
		mes "一つも持っていないじゃないか。";
		mes "はぁ……";
		mes "お前のようなヤツが増えると";
		mes "俺の商売もあがったりだよ……";
		close;
	}
	set .@price,.@checkitem*5000;
	mes "[修理工]";
	mes "ふむ……";
	mes "お前が持っているアイテムで";
	mes "損傷しているアイテムは";
	mes .@checkitem+ "だな。";
	next;
	mes "[修理工]";
	mes "一つ修理するのに 5000 Zenyだから";
	mes "全て直すと" +.@price+ "Zenyとなる。";
	mes "修理するか？";
	next;
	if(select("お願いします","いいえ")==2) {
		mes "[修理工]";
		mes "俺は、アイテムが傷ついたまま";
		mes "放って置かれるのが";
		mes "たまらなく嫌いなんだ。";
		mes "損傷したアイテムはすぐ直そうぜ。";
		close;
	}
	if(Zeny<.@price) {
		mes "[修理工]";
		mes "お金が足りないようだ";
		close;
	}
	set .@checkitem2,1;
	while (1) {
		if (getbrokenid(.@checkitem2) == 0) {
			break;
		}
		set .@checkitem2,.@checkitem2+1;
	}
	set .@checkitem2,.@checkitem2-1;
	if (.@checkitem == .@checkitem2) {
		set Zeny,Zeny-.@price;
		while (.@checkitem) {
			repair(.@checkitem);
			set .@checkitem,.@checkitem-1;
		}
		mes "[修理工]";
		mes "OK！";
		mes "直ったな。";
		mes "アイテムにも寿命があるってことを";
		mes "覚えておくんだな。";
		close;
	}
	else {
		mes "[修理工]";
		mes "何かおかしいぞ";
		close;
	}
}

alberta_in.gat,31,65,4	duplicate(Repairer)	修理工#1	84
prt_in.gat,63,54,2	duplicate(Repairer)	修理工#2	86
//morocc_in.gat,71,41,4	duplicate(Repairer)	修理工#3	99
moc_ruins.gat,107,94,4	duplicate(Repairer)	修理工#4	99
payon.gat,143,165,7	duplicate(Repairer)	修理工#5	88
geffen_in.gat,34,166,2	duplicate(Repairer)	修理工#6	86
aldeba_in.gat,38,60,2	duplicate(Repairer)	修理工#7	86
yuno_in01.gat,175,28,2	duplicate(Repairer)	修理工#8	86

//============================================================
// ブラックスミスギルドNPC
//------------------------------------------------------------
geffen_in.gat,110,172,0	script	クリストファー	63,{
	mes "[クリストファー ギレンロウ]";
	mes "クリストファーの鍛冶屋にようこそ。";
	mes "ここは精錬に関するすべての";
	mes "品物を取り扱っている。";
	mes "さあ……何しに来たんだい？";
	next;
	switch(select("金敷の購入","精錬品の購入","金属の購入","原石の精製","やめる")) {
	case 1:
		mes "[クリストファー ギレンロウ]";
		mes "武器製作に必要な金敷は";
		mes "硬ければ硬いほどいいものだ。";
		mes "だが、硬いものほど高い。";
		mes "無理せずに必要な物を選ぶんだ。";
		next;
		switch(select("金敷 - 30000 Zeny","オリデオコンの金敷 - 120000 Zeny",
					"黄金の金敷 - 300000 Zeny","エンペリウムの金敷 - 600000 Zeny","取引をやめる")) {
		case 1:
			set .@itemid,986;
			set .@price,30000;
			break;
		case 2:
			set .@itemid,987;
			set .@price,120000;
			break;
		case 3:
			set .@itemid,988;
			set .@price,300000;
			break;
		case 4:
			set .@itemid,989;
			set .@price,600000;
			break;
		case 5:
			mes "[クリストファー ギレンロウ]";
			mes "何か必要なものがあったら";
			mes "話し掛けてな。それじゃ。";
			close;
		}
		if(Zeny < .@price) {
			mes "[クリストファー ギレンロウ]";
			mes "君が持っているお金では……";
			mes "無理だな。損する気はないんだ。";
			close;
		}
		if(checkweight(.@itemid,1)==0) {
			mes "[クリストファー ギレンロウ]";
			mes "君……顔色悪いな……。";
			mes "品物を受け取る前に、";
			mes "荷物を整理した方がいい。";
			close;
		}
		set Zeny,Zeny-.@price;
		getitem .@itemid,1;
		switch(@menu) {
		case 1:
			mes "[クリストファー ギレンロウ]";
			mes "値段も安いし、なかなか手頃だな。";
			break;
		case 2:
			mes "[クリストファー ギレンロウ]";
			mes "やっぱり、目が高いな。";
			mes "鍛冶屋ならこの位の金敷は";
			mes "必需品だな。";
			break;
		case 3:
			mes "[クリストファー ギレンロウ]";
			mes "最高に硬く、美しい金属で作られた";
			mes "この金敷を選ぶとは!（感激）";
			mes "これさえあれば、君は立派な";
			mes "鍛冶屋になれる!";
			break;
		case 4:
			mes "[クリストファー ギレンロウ]";
			mes "もう何も言わん";
			mes "君に何か言う必要も感じないくらいだ！";
			break;
		}
		break;
	case 2:
		mes "[クリストファー ギレンロウ]";
		mes "立派な鍛冶屋には立派な道具！";
		mes "このクリストファーの鍛冶屋で";
		mes "道具を買うなんて、君には本当に";
		mes "良い鍛冶屋になる将来性がある。";
		mes "好きなやつを選んでくれ。";
		next;
		switch(select("携帯用溶鉱炉 - 150 Zeny","鋼鉄の金槌 - 1000 Zeny",
					"黄金の金槌 - 3000 Zeny","オリデオコンの金槌 - 5000 Zeny","取引をやめる")) {
		case 1:
			mes "[クリストファー ギレンロウ]";
			mes "金属精製にはこいつだ！";
			next;
			set .@itemid,612;
			set .@price,150;
			break;
		case 2:
			set .@itemid,613;
			set .@price,1000;
			break;
		case 3:
			set .@itemid,614;
			set .@price,3000;
			break;
		case 4:
			set .@itemid,615;
			set .@price,5000;
			break;
		case 5:
			mes "[クリストファー ギレンロウ]";
			mes "何か必要なものがあったら";
			mes "話し掛けてな。それじゃ！";
			close;
		}
		mes "[クリストファー ギレンロウ]";
		mes "さあ、どの位買う？";
		mes "やめるんだったら<0>って";
		mes "書いてくれ。";
		while(1) {
			next;
			input .@num;
			if(.@num < 0 || .@num > 500) {
				mes "[クリストファー ギレンロウ]";
				mes "500個以下にしてくれ。";
				continue;
			}
			break;
		}
		if(.@num == 0) {
			mes "[クリストファー ギレンロウ]";
			mes "やめるのか。やむを得んな……。";
			close;
		}
		if(Zeny < .@price*.@num) {
			mes "[クリストファー ギレンロウ]";
			mes "君、お金が足りないな……。";
			mes "俺も損する訳にはいかないからな……。";
			mes "女房がうるさいんだ。";
			close;
		}
		if(checkweight(.@itemid,.@num)==0) {
			mes "[クリストファー ギレンロウ]";
			mes "君……顔色悪いな……。";
			mes "品物を受け取る前に、";
			mes "荷物を整理した方がいい。";
			close;
		}
		set Zeny,Zeny-.@price*.@num;
		getitem .@itemid,.@num;
		mes "[クリストファー ギレンロウ]";
		break;
	case 3:
		mes "[クリストファー ギレンロウ]";
		mes "鉄や鋼鉄の武器を製錬する時に";
		mes "使える金属を売っている。";
		mes "レベル1の武器製錬に使える";
		mes "^007777プラコン^000000 と";
		mes "レベル2の武器製錬に使える";
		mes "^007777エンベルタコン^000000 があるぞ。";
		next;
		if(checkweight(1010,10)==0 || checkweight(1011,10)==0) {
			mes "[クリストファー ギレンロウ]";
			mes "荷物が多いな。";
			mes "持ち物を整理してから";
			mes "またおいで。";
			close;
		}
		switch(select("プラコン購入","エンベルタコン購入","他の金属はないか聞いてみる")) {
		case 1:
			mes "[クリストファー ギレンロウ]";
			mes "プラコンは1個200Zenyだ。";
			set .@itemid,1010;
			set .@price,200;
			break;
		case 2:
			mes "[クリストファー ギレンロウ]";
			mes "エンベルタコンは";
			mes "1個1000Zenyだ。";
			set .@itemid,1011;
			set .@price,1000;
			break;
		case 3:
			mes "[クリストファー ギレンロウ]";
			mes "レベル1とレベル2の武器より";
			mes "レベルが高い武器を精錬するための";
			mes "金属だな。";
			mes "もう知っているかもしれんが､ ";
			mes "オリデオコンとエルニウムは";
			mes "手に入れるのがすごく難しくてね……。";
			close;
		}
		next;
		switch(select("1 個購入","2 個購入","5 個購入","10 個セット購入！","取り消す")) {
		case 1: set .@num,1; break;
		case 2: set .@num,2; break;
		case 3: set .@num,5; break;
		case 4: set .@num,10; break;
		case 5:
			mes "[クリストファー ギレンロウ]";
			mes "おう、やめるか。";
			close;
		}
		if(Zeny < .@price*.@num) {
			mes "[クリストファー ギレンロウ]";
			mes "君、お金が足りないな……。";
			mes "俺も損する訳にはいかないからな……。";
			mes "女房がうるさいんだ。";
			close;
		}
		set Zeny,Zeny-.@price*.@num;
		getitem .@itemid,.@num;
		mes "[クリストファー ギレンロウ]";
		break;
	case 4:
		mes "[クリストファー ギレンロウ]";
		mes "精製できる金属は";
		mes "オリデオコンとエルニウムだな。";
		mes "各5つの原石を精製して、";
		mes "純度の高い金属にするんだ。";
		mes "さあ……どの金属にするつもりだい？";
		next;
		switch(select("オリデオコンを作る","エルニウムを作る","やめる")) {
		case 1:
			set .@itemid,756;
			set .@gain,984;
			break;
		case 2:
			set .@itemid,757;
			set .@gain,985;
			break;
		case 3:
			mes "[クリストファー ギレンロウ]";
			mes "何か必要な物があれば、";
			mes "話かけてな。それじゃ、また。";
			close;
		}
		if(countitem(.@itemid)<5) {
			mes "[クリストファー ギレンロウ]";
			mes getitemname(.@itemid)+ "が5つなければ、";
			mes getitemname(.@gain)+ "は作れない。";
			close;
		}
		delitem .@itemid,5;
		getitem .@gain,1;
		mes "[クリストファー ギレンロウ]";
		mes "さあ、" +getitemname(.@gain)+ "だ。";
		mes "また必要ならいつでもどうぞ。";
		close;
	case 5:
		mes "[クリストファー ギレンロウ]";
		mes "何か必要な物があれば、";
		mes "話かけてな。それじゃ、また。";
		close;
	}
	mes "とにかく、ありがとう。";
	mes "また必要なものがあったら、";
	mes "話し掛けてくれ。";
	close;
}

//============================================================
// ジェムストーン交換NPC
//------------------------------------------------------------
payon.gat,173,238,5	script	ジェード	754,{
	mes "[ジェード]";
	mes "こんにちはー。";
	mes "同じ色のジェムストーンを";
	mes "二個ずつ持ってくれば、すぐに";
	mes "他の色のジェムストーンに";
	mes "交換してあげるよー。";
	next;
	switch(select("ブルーをレッドに交換！","レッドをイエローに交換！","イエローをブルーに交換！")) {
	case 1:
		set .@itemid,717;
		set .@gain,716;
		break;
	case 2:
		set .@itemid,716;
		set .@gain,715;
		break;
	case 3:
		set .@itemid,715;
		set .@gain,717;
		break;
	}
	if(countitem(.@itemid)<2) {
		mes "[ジェード]";
		mes "はははー！";
		mes "キミ、冗談が好きだねー。";
		mes getitemname(.@itemid)+ "が2個ないと";
		mes getitemname(.@gain)+ "には";
		mes "交換してあげられないよー。";
		close;
	}
	set .@max,countitem(.@itemid)/2;
	mes "[ジェード]";
	mes "うーん……";
	mes "それだと" +.@max+ "個の";
	mes getitemname(.@gain)+ "と";
	mes "交換できるよ。どうする？";
	next;
	switch(select("あるだけ全部交換する","交換する数を決める","やめる")) {
	case 1:
		set .@num,.@max;
		break;
	case 2:
		mes "[ジェード]";
		mes "いくつ欲しい？";
		mes "あ、でも100個以下にしてね。";
		while(1) {
			next;
			input .@num;
			if(.@num > 100) {
				mes "[ジェード]";
				mes "うん？";
				mes "100個以下にしてと言ったよね？";
				continue;
			}
			break;	//while文抜ける
		}
		if(.@num > .@max)
			close;
		if(.@num <= 0) {
			mes "[ジェード]";
			mes "なんだ、いらないのか。";
			close;
		}
		break;
	case 3:
		mes "[ジェード]";
		mes "そっか……";
		mes "もし必要になったら、遠慮なくきてね。";
		mes "いつでも交換してあげるから。";
		close;
	}
	delitem .@itemid,.@num*2;
	getitem .@gain,.@num;
	mes "[ジェード]";
	mes "ほら、ご依頼の";
	mes getitemname(.@gain)+ "だよ。";
	mes "また交換して欲しかったら";
	mes "いつでもおいで。";
	mes "……うん？";
	mes "僕の顔に何かついてる？";
	close;
}
umbala.gat,221,193,1	script	 #骸骨門	111,{
	if(UM_1QUE== 7) {
		warp "um_in.gat",32,71;
		end;
	}
	mes "^3152FFなんとなく気持ち悪い骸骨が門の";
	mes "そばにある。門は堅く閉ざされていて、";
	mes "中へ入ることができない。内部に人気が";
	mes "感じられる。中に誰かいるようだ。^000000";
	next;
	if(select("骸骨をよく見てみる","やめる")==2) {
		mes "^3152FF叩いても開かない門を開けることは";
		mes "難しいと思ったので、諦めてそのまま";
		mes "去ることにした。^000000";
		close;
	}
	mes "^3152FF白い骸骨の両目が開いている。よく";
	mes "見ると、ジェムストーンをはめられる";
	mes "くらいの穴がある。反対側の柱にも";
	mes "骸骨はあるが、そちらにはそのような";
	mes "穴は見当たらなかった。^000000";
	next;
	//アイテムIDを配列に格納
	setarray .@id[2],717,715,716;
	for(set .@i,0; .@i<2; set .@i,.@i+1) {	//左と右で2回繰り返す
		set .@eye$,(.@i==0)? "左": "右";
		mes "^3152FF" +.@eye$+ "側の眼が見える。";
		mes "どうしようか？^000000";
		next;
		if(select("そのままにする","ブルージェムストーンをはめてみる","イエロージェムストーンをはめてみる","レッドジェムストーンをはめてみる")==1)
			mes "^3152FF" +.@eye$+ "側の眼には何もしなかった。^000000";
		else {
			if(countitem(.@id[@menu]) < 1) {
				mes "^3152FF" +getitemname(.@id[@menu])+ "を";
				mes "一つも持っていなかった。仕方なく";
				mes .@eye$+ "側の眼は、そのままにしておいた。^000000";
			}
			else {
				mes "^3152FF持っていた" +getitemname(.@id[@menu])+ "を";
				mes "骸骨の" +.@eye$+ "側の眼にはめてみた。^000000";
				next;
				mes "^3152FFジェムストーンは転がる音を立てて、";
				mes "骸骨の口から出てきた。^000000";
				if(.@i == 1 && .@left == @menu)
					set .@rand,2;
				else {
					set .@rand,4;
					set .@left,@menu;
				}
				delitem .@id[@menu],1;
				getitem .@id[@menu],1;
			}
		}
		next;
	}
	mes "^3152FF……………………^000000";
	next;
	mes "^3152FF………………………………";
	mes "………………………………^000000";
	next;
	mes "^3152FF………………………………";
	mes "………………………………";
	mes "………………………………^000000";
	next;
	if(rand(.@rand) || .@rand == 0) {
		mes "^3152FF何も起きなかった。";
		mes "骸骨が笑う声がしたが、";
		mes "気のせいだと思う事にした。^000000";
		close;
	}
	mes "^3152FF骸骨のがらんとした眼から、";
	mes "ゴトリゴトリという音が聞こえ、";
	mes "門が開いた。門が開くと同時に";
	mes "無意識のうちに足が建物の中へと";
	mes "向かっていた。^000000";
	close2;
	warp "um_in.gat",32,71;
	end;
}

um_in.gat,29,71,0	warp	umbalawarp1014	1,1,umbala.gat,217,186

um_in.gat,44,71,2	script	ウータン族シャーマン	782,{
	mes "[プツチァルタン]";
	mes "助力を要する人間よ……私の能力が";
	mes "役立つかどうかは分かりませんが、";
	mes "手伝ってあげましょう。";
	next;
	if(MaxWeight - Weight < 5000) {
		mes "[プツチァルタン]";
		mes "いや？……君が持っている何かが、私の";
		mes "魂の平和を乱しています……必要な";
		mes "材料以外の品物は、どこかに隠して";
		mes "きなさい。";
		next;
		mes "[プツチァルタン]";
		mes "今の状態では、何も得ることができない";
		mes "でしょう。準備ができたら、また";
		mes "訪ねてきなさい。";
		close;
	}
	mes "[プツチァルタン]";
	mes "それでは、なにを望みますか？";
	mes "属性の結合、分解……結合には自然物、";
	mes "分解には属性石が必要です。";
	next;
	switch(select("属性の結合","属性の分解","やめる")) {
	case 1:
		mes "[プツチァルタン]";
		mes "属性の結合……どんな属性を結合したい";
		mes "のでしょうか？地、水、火、風……君が";
		mes "今、望む属性を言いなさい。";
		next;
		switch(select("地属性","水属性","火属性","風属性")) {
		case 1:
			if(countitem(947) < 15) {
				mes "[プツチァルタン]";
				mes "地属性……地の気に満ちている自然物が";
				mes "必要です。林の中に住み、大地の気で";
				mes "一杯になったホルン……そうホルンの";
				mes "^3173FF硬い角が15個^000000必要です。";
			}
			else {
				set .@need,947;
				set .@amount,15;
				set .@gain,993;
			}
			break;
		case 2:
			if(countitem(946) < 20) {
				mes "[プツチァルタン]";
				mes "水属性……水の気に満ちている自然物が";
				mes "必要です。全身に水気を含んで、堅く";
				mes "身を包むアンバーナイト……そう";
				mes "^3173FFカタシムリの皮が20個^000000必要です。";
			}
			else {
				set .@need,946;
				set .@amount,20;
				set .@gain,991;
			}
			break;
		case 3:
			if(countitem(904) < 20) {
				mes "[プツチァルタン]";
				mes "火属性……火の気に満ちている";
				mes "自然物が必要です。砂漠の熱気を";
				mes "全身に受けながら生きている";
				mes "スコーピオン……そう、^3173FFサソリの尻尾^000000が";
				mes "^3173FF20個^000000必要です。";
			}
			else {
				set .@need,904;
				set .@amount,20;
				set .@gain,990;
			}
			break;
		case 4:
			if(countitem(1013) < 25) {
				mes "[プツチァルタン]";
				mes "風属性……風の気に満ちている";
				mes "自然物が必要です。小さな羽で";
				mes "軽やかに飛び回るスタイナー……";
				mes "その^3173FF華麗な蟲の皮^000000が";
				mes "^3173FF25個^000000必要です。";
			}
			else {
				set .@need,1013;
				set .@amount,25;
				set .@gain,992;
			}
			break;
		}
		if(.@need == 0) {	//アイテム不足
			next;
			mes "[プツチァルタン]";
			mes "必要な自然物はそれだけです……";
			mes "準備ができたら、また訪ねてきなさい。";
			mes "私はいつでもここにいますから。";
			close;
		}
		mes "[プツチァルタン]";
		mes "大自然の力によって、その隠された";
		mes "力の源泉を一つに集めてみましょう。";
		mes "1から9までのうち、君が好きな数字を";
		mes "一つ選びなさい。属性の結合を";
		mes "望まないなら、0を選びなさい。";
		while(1) {
			next;
			input .@num;
			if(.@num == 0) {
				mes "[プツチァルタン]";
				mes "望まないのですね。それも一つの選択";
				mes "でしょう。後で、もし助けが必要に";
				mes "なったら、また訪ねてきなさい。";
				close;
			}
			if(.@num < 0 || .@num > 9) {
				mes "[プツチァルタン]";
				mes "1から9までの中で選ばなければ";
				mes "なりません。重要なことですから、";
				mes "本当に好きな数字を選ぶように";
				mes "しなさい。";
				continue;
			}
			break;
		}
		mes "[プツチァルタン]";
		mes "この沸いている釜に、その" +((.@need == 946)? "角": (.@need == 904)? "尾": "皮")+ "を";
		mes "入れなさい。私は神聖な言葉を";
		mes "唱えます。君は先程の数字を心に思い";
		mes "描きなさい。それでも、力が集まるかは";
		mes "分かりませんが……";
		next;
		mes "[プツチァルタン]";
		mes "アムバ、オムバ、ザンバ！ウンバ！チ！";
		mes "ウムタウム、エウルカバ！ウンバ！ハ！";
		mes "ジュル、フムバ、ルララ！ウンバ！ラ！";
		mes "ダムツハ、オムババラカ！ウンバ！シ！";
		mes "スヌタムバ、アブルムバ！ウンバ！シ！";
		next;
		delitem .@need,.@amount;
		if(rand(10)) {
			getitem .@gain,1;
			mes "[プツチァルタン]";
			mes "こちらが、君が望んだ属性原石になり";
			mes "ます。自然に存在する物から呪術で";
			mes "作り出したものです……目的を";
			mes "よく考えてから使うようにしなさい。";
			close;
		}
		getitem 910,1;
		mes "[プツチァルタン]";
		mes "少し力が足りなかったようです。";
		mes "集まった自然の力がどこかで散らばって";
		mes "しまいました。";
		next;
		mes "[プツチァルタン]";
		mes "今日はあまりよくない感じです。私の力";
		mes "が必要でしたら、後で手伝いましょう。";
		mes "もちろんその時も、失敗する可能性が";
		mes "あることを考慮してください。";
		close;
	case 2:
		mes "[プツチァルタン]";
		mes "属性の分解……どんな属性を分解したい";
		mes "のでしょうか？地、水、火、風……君が";
		mes "今、持っている属性を言いなさい。";
		next;
		switch(select("地属性","水属性","火属性","風属性")) {
		case 1:
			set .@need,997;
			set .@gain,993;
			break;
		case 2:
			set .@need,995;
			set .@gain,991;
			break;
		case 3:
			set .@need,994;
			set .@gain,990;
			break;
		case 4:
			set .@need,996;
			set .@gain,992;
			break;
		}
		mes "[プツチァルタン]";
		mes "どれくらい分解したいのか？";
		mes "君の持っている、君が望む";
		mes "数を言いなさい。";
		next;
		input .@count;
		if(.@count < 1 || .@count > 10) {
			mes "[プツチァルタン]";
			mes "1から 10までの数を選びなさい。";
			mes "これは、大事な事だ。";
			mes "注意して、本当に望む数を";
			mes "選びなさい。";
			close;
		}
		if(countitem(.@need) < .@count) {
			switch(.@need) {
			case 997:
				mes "[プツチァルタン]";
				mes "地属性を分解したいのですか……";
				mes "大地の気が一杯に満ちた結晶、";
				mes "地の属性石が" +.@count+ "個必要です。";
				mes "^3377FFグレイトネイチャが" +.@count+ "個^000000";
				break;
			case 995:
				mes "[プツチァルタン]";
				mes "水属性を分解したいのですか……";
				mes "大洋の流れの神秘を氷結した";
				mes "水の属性石が" +.@count+ "個必要です。";
				mes "^3173FFミスティックフローズンが" +.@count+ "個^000000";
				break;
			case 994:
				mes "[プツチァルタン]";
				mes "火属性を分解したいのですか……";
				mes "燃える火炎の心を持った結晶、";
				mes "火の属性石が" +.@count+ "個必要です。";
				mes "^3173FFフレイムハートが" +.@count+ "個^000000";
				break;
			case 996:
				mes "[プツチァルタン]";
				mes "風属性を分解したいのですか……";
				mes "荒れ狂う風の姿が隠されている結晶、";
				mes "風の属性石が" +.@count+ "個必要です。";
				mes "^3173FFラフウィンドが" +.@count+ "個^000000";
				break;
			}
			next;
			mes "[プツチァルタン]";
			mes "必要な属性石はそれだけです……";
			mes "準備ができたら、また訪ねてきなさい。";
			mes "私はいつでもここにいますから。";
			close;
		}
		mes "[プツチァルタン]";
		mes "君が持ってきた" +((.@need == 997)? "大地の結晶": (.@need == 995)? "氷結された神秘": (.@need == 994)? "火炎の心": "荒れ狂う風の結晶")+ "を結合";
		mes "される以前の姿に戻してみましょう。";
		mes "1から9までのうち、君が好きな数字を";
		mes "一つ選びなさい。属性の分解を";
		mes "望まないなら、0を選びなさい。";
		while(1) {
			next;
			input .@num;
			if(.@num == 0) {
				mes "[プツチァルタン]";
				mes "望まないのですね。それも一つの選択";
				mes "でしょう。後で、もし助けが必要に";
				mes "なったら、また訪ねてきなさい。";
				close;
			}
			if(.@num < 0 || .@num > 9) {
				mes "[プツチァルタン]";
				mes "1から9までの中で選ばなければ";
				mes "なりません。重要なことですから、";
				mes "本当に好きな数字を選ぶように";
				mes "しなさい。";
				continue;
			}
			break;
		}
		mes "[プツチァルタン]";
		mes "では、その属性石をそこに置いて";
		mes "ください。私は神聖な言葉を唱えます。";
		mes "君は先程の数字を心に思い描きなさい。";
		mes "それでも、完全に分解できるかは";
		mes "分かりませんが……";
		next;
		mes "[プツチァルタン]";
		mes "ウンバ、ウンバ、カラム！ウンバ！タ！";
		mes "ルクラ、ウクレレ、ウン！ウンバ！カ！";
		mes "アンブラカ、タブラカン！ウンバ！ラ！";
		mes "オンバルヅ、ザン、クヌ！ウンバ！ク！";
		mes "クン、ツン、ラクラクン！ウンバ！ハ！";
		next;
		delitem .@need,.@count;
		for(set .@num,0; .@count > 0; set .@count,.@count-1) {
			if(.@need == 997) { //グレイトネイチャ
				switch(rand(5)) {
				case 0: set .@num,.@num+10; break;
				case 1: set .@num,.@num+8; break;
				case 2:
				case 3: set .@num,.@num+7; break;
				case 4: set .@num,.@num+6+rand(2);
				}
			}
			else if(.@need == 996) { //ラフウィンド
				switch(rand(10)) {
				case 0: set .@num,.@num+(rand(2)? 10: 6); break;
				case 1:
				case 2: set .@num,.@num+8; break;
				case 3:
				case 4:
				case 5: set .@num,.@num+7; break;
				default: set .@num,.@num+6;
				}
			}
			else { //その他の属性石
				switch(rand(10)) {
				case 0: set .@num,.@num+10; break;
				case 1:
				case 2: set .@num,.@num+8; break;
				case 3:
				case 4:
				case 5: set .@num,.@num+7; break;
				default: set .@num,.@num+6;
				}
			}
		}
		getitem .@gain,.@num;
		mes "[プツチァルタン]";
		mes "こちらが、君が望んだ属性原石になり";
		mes "ます。自然に存在する物から呪術で";
		mes "作り出したものです……目的を";
		mes "よく考えてから使うようにしなさい。";
		close;
	case 3:
		mes "[プツチァルタン]";
		mes "望まないのですね。それも一つの選択";
		mes "でしょう。私の助けが必要になったら";
		mes "また訪ねてきなさい。";
		close;
	}
}
//============================================================
// 属性石交換NPC
//------------------------------------------------------------
ama_in02.gat,61,27,7	script	錬金術師	749,{
	mes "[グレゴリー]";
	mes "キキキキキケケケケケ！";
	mes "驚くべき結果が出た！";
	mes "こんな実験結果が出たのは";
	mes "生まれて初めてだ！";
	next;
	mes "[グレゴリー]";
	mes "こんなに遠くまで来て私の能力を";
	mes "発揮できるとは思いもよらなかったぞ！";
	mes "城主に仕事を頼まれたが……";
	mes "奴は意外におもしろい奴だったぞ。";
	next;
	mes "[グレゴリー]";
	mes "ククク……しかし気をつけねば……";
	mes "こいつの調合方法をかぎつけられたら";
	mes "飲んだ奴が火を噴いて怒る……";
	mes "ケケケケ……";
	next;
	mes "[グレゴリー]";
	mes "ん、ところで私に何か用か？";
	mes "観光で来たんなら静かに村でも";
	mes "見ていくんだな。";
	mes "さもなくばアシッドボトル";
	mes "でも味合わせてやるぞ！キキ……";
	next;
	if(select("失礼しました","お手伝いする事でもありますか？")==1) {
		mes "[グレゴリー]";
		mes "よしよし……";
		mes "何か聞いてもすぐに忘れろ。";
		mes "それが長く生きるコツさ……";
		mes "キキキキキ……";
		close;
	}
	mes "[グレゴリー]";
	mes "手伝うと？";
	mes "そうか……";
	mes "もう私の願ったものはもう少しで";
	mes "完成する。キキキキキ……";
	next;
	mes "[グレゴリー]";
	mes "私が実験するのに必要な属性石を";
	mes "いくつか用意してくれるとありがたい。";
	mes "今持っている物があるか？";
	next;
	if(select("いいえ","いくつかあります")==1) {
		mes "[グレゴリー]";
		mes "それなら言おう。";
		mes "どれでもいいから同じ種類の";
		mes "属性石を8個ずつ集めてほしい。";
		mes "そうすれば、私が良い物に";
		mes "変えてやるぞ。";
		next;
		mes "[グレゴリー]";
		mes "もし間違った物を持ってきたら、";
		mes "足元にファイアーボトルを";
		mes "投げるぞ！";
		next;
		mes "[グレゴリー]";
		mes "それでは、手伝うと言った以上";
		mes "約束は守るんだぞ！キキキキ……";
		close;
	}
	mes "[グレゴリー]";
	mes "よし、何を持っている？";
	next;
	setarray .@code,995,997,994,996;
	set .@i,select("ミスティックフローズン","グレイトネイチャ","フレイムハート","ラフウィンド")-1;
	if(countitem(.@code[.@i]) == 0) {
		mes "[グレゴリー]";
		mes "ジジジ……ガリガリゴリ……";
		mes "ん……属性石はどうした？";
		mes "どこかでなくしてきたか？";
		next;
		mes "[グレゴリー]";
		mes "また持ってきなさい！";
		mes "手伝うと言った以上";
		mes "約束は守るんだぞ！キキキキ……";
		close;
	}
	if(countitem(.@code[.@i]) < 8) {
		mes "[グレゴリー]";
		mes "属性石一つや二つじゃしょうがない。";
		mes "いいか、8個だ！わかったな！";
		next;
		mes "[グレゴリー]";
		mes "それでは、手伝うと言った以上";
		mes "約束は守るんだぞ！キキキキ……";
		close;
	}
	mes "[グレゴリー]";
	mes "それを8個をもらう代わりに";
	mes "他の属性石を一つ作ってやろう。";
	mes "悪い取引じゃないだろう？";
	next;
	mes "[グレゴリー]";
	mes "ほら、どれを作ろうか？";
	next;
	//選択番号.@iのところだけ空文字にする
	setarray .@name$,"ミスティックフローズン","グレイトネイチャ","フレイムハート","ラフウィンド";
	set .@name$[.@i],"";
	set .@j,select(.@name$[0],.@name$[1],.@name$[2],.@name$[3],"取引をやめる")-1;
	if(.@j==4) {
		mes "[グレゴリー]";
		mes "く……まぁいいが……";
		mes "私がここに居ることは内緒だぞ。";
		mes "約束だぞ！";
		close;
	}
	if(.@j==3) {	//ラフウィンドの場合
		mes "[グレゴリー]";
		mes "ジジジ……ガリガリゴリ……";
		mes "ふむ、お前もよくわかっている奴だ。";
		mes "これはなかなか作るのが難しいから";
		if(countitem(.@code[.@i]) < 8) {
			mes "[グレゴリー]";
			mes "8個では少々足りない。";
			mes "ラフウィンドに変えたければあと4個、";
			mes "つまり^0000FF12個^000000用意してくれ。";
			next;
			mes "[グレゴリー]";
			mes "それでは、手伝うと言った以上";
			mes "約束は守るんだぞ！キキキキ……";
			close;
		}
		mes "^0000FF12個^000000もらわないとならん。";
		mes "グレゴリーの手伝いをできるだけ";
		mes "光栄なことだろう？キキキキキ……";
		delitem .@code[.@i],12;
		getitem .@code[.@j],1;
		close;
	}
	delitem .@code[.@i],8;
	getitem .@code[.@j],1;
	mes "[グレゴリー]";
	mes "ジジジ……ガリガリゴリ……";
	mes "うむ、できた。";
	mes "ほら、大事に使うように。";
	mes "またあれば持ってきなさい。";
	close;
}

prt_church,97,100,4	script	結婚コンパニオン#w	71,{
	cutin "wedding_marry01",2;
	if (Upper == 2) {
		goto L_End;
	}
	mes "[ハッピーマリー]";
	mes "結婚とは、幸せを夢見る";
	mes "全ての人々の希望です。";
	mes "おやおや、もしかして……";
	mes "あなた、結婚したい方が";
	mes "いらっしゃるのですか？";
	next;
	switch(select("結婚式について聞きたい:結婚式ってどうやるんですか:結婚式を申し込みたい:私は無敵のソロ軍団！")) {
	case 1:
		mes "[ハッピーマリー]";
		mes "結婚はルーンミッドガッツ王国の";
		mes "国王であるトリスタン3世陛下が";
		mes "すべての新郎新婦に祝福を与えたいと";
		mes "式を全て執り行っております。";
		next;
		mes "[ハッピーマリー]";
		mes "国政にお忙しい方ですが、新しく門出を";
		mes "迎える方々のため、このプロンテラ";
		mes "大聖堂に、わざわざ御出でくださって";
		mes "いるのです。";
		next;
		mes "[ハッピーマリー]";
		mes "まず、結婚についてですが……慎重に";
		mes "行ってください。";
		mes "一度結婚すると、二度と別れることが";
		mes "出来ないからです。結婚した二人は";
		mes "例え一人がこの世を去ったとしても";
		mes "永遠に一緒なのです。";
		next;
		mes "[ハッピーマリー]";
		mes "男性は女性と、女性は男性と結婚する";
		mes "ことができます。同性やモンスターと";
		mes "結婚したいと主張される方がいるかも";
		mes "しれませんが……陛下がお認めに";
		mes "ならないので、ご了承くださいませ。";
		next;
		mes "[ハッピーマリー]";
		mes "未来を約束した相手がいらっしゃい";
		mes "ましたら、プロポーズしてみたら";
		mes "いかがですか？";
		mes "幸せな幸せな未来を夢見る";
		mes "すべての恋人に祝福あれ!!";
		break;

	case 2:
		mes "[ハッピーマリー]";
		mes "まず、新郎新婦は私に結婚の申し込みを";
		mes "してください。申し込まれましたら";
		mes "二人だけのパーティーを組み、国王";
		mes "陛下に会いに行ってください。";
		next;
		mes "[ハッピーマリー]";
		mes "国王陛下へは、最初に^0000FF男性^000000が話しかけて";
		mes "ください。そして結婚したい女性の名前";
		mes "を正確にお伝えください。";
		next;
		mes "[ハッピーマリー]";
		mes "新郎が報告を終えましたら、次は新婦の";
		mes "番です。国王陛下に新郎の名前を正確に";
		mes "お伝えください。";
		next;
		mes "[ハッピーマリー]";
		mes "お互い結婚相手の名前を報告し終えると";
		mes "指輪交換が行われ、その瞬間、二人は";
		mes "永遠の愛の証を得たこととなります。";
		next;
		mes "[ハッピーマリー]";
		mes "結婚を申し込む方がたくさんいる場合、";
		mes "順番をお待ちいただくことになります。";
		mes "陛下のお体は1つですので、同時に";
		mes "複数の式を行うことは出来ないのです。";
		next;
		mes "[ハッピーマリー]";
		mes "そして、陛下へご報告を行う際は、";
		mes "^ff0000最初に新郎が声を掛けてから3分以内に";
		mes "すべての過程を終わらせてください。^000000";
		mes "もし3分以内に式が終わらなかった場合";
		mes "二度と結婚することは出来ません。";
		next;
		mes "[ハッピーマリー]";
		mes "また、陛下に結婚相手の名前を報告";
		mes "する時は、必ず正確にお願いします。";
		mes "少しでも報告間違いがありますと";
		mes "やはり式に支障をきたしてしまいます。";
		next;
		mes "[ハッピーマリー]";
		mes "式の事前に、必ず結婚相手の名前の";
		mes "正確な綴りをご確認ください。";
		next;
		mes "[ハッピーマリー]";
		mes "方法としましては、";
		mes "相手の方に耳打ちを行ってみると";
		mes "よろしいと思います。相手に通じれば";
		mes "その名前が正しい綴りですし、もし通じ";
		mes "なければ、名前が間違っている可能性が";
		mes "あります。";
		next;
		mes "[ハッピーマリー]";
		mes "まず、相手に一度耳打ちをして、";
		mes "チャットウィンドウ左部のボタンを";
		mes "押します。そうすると、";
		mes "耳打ちリストに相手の名前が";
		mes "表示されますので選択しましょう。";
		next;
		mes "[ハッピーマリー]";
		mes "相手の名前がボタンの左に";
		mes "表示されますので、その名前を";
		mes "Ctrl+Cでコピーしておきます。";
		mes "そうすれば、報告の際に";
		mes "Shift＋Insertで相手の名前を";
		mes "呼び出すことができます。";
		next;
		mes "[ハッピーマリー]";
		mes "1)相手と耳打ち会話をする";
		mes "2)耳打ちリストに表示された";
		mes "相手の名前を選択する";
		mes "3)チャットウィンドウの左下に";
		mes "表示された相手の名前を";
		mes "Ctrl+Cでコピーする。";
		next;
		mes "[ハッピーマリー]";
		mes "この方法で、相手の名前を";
		mes "確実に覚えることができますし、";
		mes "陛下に報告する時にも";
		mes "使っていただけると思います。";
		next;
		mes "[ハッピーマリー]";
		mes "説明だけですとなんですので、1回";
		mes "試してみましょうか。";
		next;
		mes "[ハッピーマリー]";
		mes "Ctrl＋Cでコピーしたものを";
		mes "Shift＋Insertキーで呼び出してみて";
		mes "ください。よろしいですか？";
		next;
		input .@test$;
		mes "[ハッピーマリー]";
		mes "どうです、出来ましたか？";
		next;
		mes "[ハッピーマリー]";
		mes "では、もし結婚したいと思うお相手が";
		mes "いましたら、申し込みを是非どうぞ。";
		break;

	case 3:
		cutin "wedding_marry02",2;
		mes "[ハッピーマリー]";
		mes "結婚をするためには、いくつか条件が";
		mes "ございます。";
		next;
		mes "[ハッピーマリー]";
		mes "まず、結婚するには^3377FFベースレベルが";
		mes "45以上^000000でなければなりません。";
		mes "そして、新郎新婦二人とも、申し込みを";
		mes "していただく必要がございます。";
		next;
		mes "[ハッピーマリー]";
		mes "申し込みの際、男性は^3377FF1,300,000zeny^000000と";
		mes "^3377FFタキシード1着^000000、女性は^3377FF1,200,000zeny^000000と";
		mes "^3377FFウェディングドレス1着^000000が必要です。";
		next;
		mes "[ハッピーマリー]";
		mes "あと、結婚指輪を準備しなければなりま";
		mes "せんので、新郎新婦は1個ずつ、^3377FFダイヤ";
		mes "の指輪^000000を準備してください。";
		mes "新郎が1つ、新婦が1つですよ。";
		mes "よろしいですね。";
		next;
		mes "[ハッピーマリー]";
		mes "以上の品が全てそろっているのを確認";
		mes "しましたら、申し込み書に御自分の名前";
		mes "を記入していただきます。";
		next;
		mes "[ハッピーマリー]";
		mes "二人とも申し込みが済みましたら";
		mes "結婚式を挙げることができます。";
		mes "申し込みをなさいますか？";
		next;
		if (select("はい:いいえ") == 1) {
			if (getpartnerid()) {
				cutin "wedding_marry02",2;
				mes "[ハッピーマリー]";
				mes "もう結婚しておられるようですね。";
				mes "重婚は陛下が認めておられません。";
				next;
				mes "[ハッピーマリー]";
				mes "それ以前に、一生を共にするという";
				mes "約束を破るということが、どのような";
				mes "意味であるか……相手のお気持ちを";
				mes "考えたことがありまして？";
				next;
				mes "[ハッピーマリー]";
				mes "結婚は一度きりです。例え相手が";
				mes "死んだとしても、誓いは永遠なのです。";
				break;
			}
			else if (wedding_sign == 1) {
				mes "[ハッピーマリー]";
				mes "おや、すでに申し込みをされているよう";
				mes "ですね。この奥に陛下がいらっしゃい";
				mes "ますので、陛下へと赴き、式の順番を";
				mes "お待ちください。";
				break;
			}
			else if (BaseLevel < 45) {
				mes "[ハッピーマリー]";
				mes "プロポーズなさるより先に、ご自分の";
				mes "鍛練が必要なようです。結婚には義務や";
				mes "責任が招じます。相手の方を守れるくら";
				mes "い強くなってから、いらして下さい。";
				goto L_End;
			}
			else if (countitem(2613) < 1) {
				mes "[ハッピーマリー]";
				mes "結婚指輪に使うダイヤの指輪を";
				mes "忘れていらっしゃったようですね。";
				mes "ダイヤの指輪をお持ちになってから";
				mes "またお申し込みください。";
				goto L_End;
			}
			else if (sex) {
				if (zeny < 1300000) {
					mes "[ハッピーマリー]";
					mes "申し訳ございませんが、結婚式の費用と";
					mes "して1,300,000zeny必要です。";
					goto L_End;
				}
				else if (countitem(7170) < 1) {
					mes "[ハッピーマリー]";
					mes "おや、タキシードはどうなさいました？";
					mes "式を挙げるのに、花婿がそのような出で";
					mes "立ちでは……一生に一度の事ですし、";
					mes "忘れずに準備してきてくださいませ。";
					goto L_End;
				}
			}
			else if (sex == 0) {
				if (zeny < 1200000) {
					mes "[ハッピーマリー]";
					mes "申し訳ございませんが、結婚式の費用と";
					mes "して1,200,000zeny必要です。";
					goto L_End;
				}
				else if (countitem(2338) < 1) {
					mes "[ハッピーマリー]";
					mes "おや、ウェディングドレスはどうなさい";
					mes "ましたか？式を挙げるのに、花嫁がドレ";
					mes "ス無しでは……一生に一度の事ですし、";
					mes "忘れずに準備してきてくださいませ。";
					goto L_End;
				}
			}
			mes "[ハッピーマリー]";
			mes "御結婚お祝い申し上げます！";
			next;
			mes "[ハッピーマリー]";
			mes "それでは、これが申し込み書です。";
			mes "ここに自分の名前を記入してください。";
			next;
			while(1) {
				input .@name$;
				if (.@name$ != strcharinfo(0)) {
					mes "[ハッピーマリー]";
					mes "まぁまぁ！";
					mes "自分の名前を正しく書くことが出来ない";
					mes "のですか。結婚するつもりなら、自分の";
					mes "名前くらい正しく名乗れるようになって";
					mes "ください……もう一度、ここに自分の名";
					mes "前をちゃんと正確に記入してください。";
					next;
				}
				else 
					break;
			}
			mes "[ハッピーマリー]";
			mes "はい、申し込み書を承りました。";
			mes "後程、陛下には結婚相手の名前も報告";
			mes "することになります。式の前に相手の";
			mes "名前を正確に言えるよう、準備して";
			mes "おくことをお勧めいたします。";
			next;
			mes "[ハッピーマリー]";
			mes "では、結婚相手の方も申し込みを済ませ";
			mes "ましたら、二人だけでパーティーを組み";
			mes "この奥にいます国王陛下の元へどうぞ。";
			Emotion e_lv;
			next;
			mes "[ハッピーマリー]";
			mes "そして……お幸せに～";
			mes "[Marry Happy]";
			if (sex) {
				set zeny,zeny-1300000;
				delitem 7170,1; //Tuxedo
			}
			else {
				set zeny,zeny-1200000;
				delitem 2338,1; //Wedding_Dress
			}
			delitem 2613,1; //Diamond_Ring
			set wedding_sign,1;
			goto L_End;
		}
		mes "[ハッピーマリー]";
		mes "今日も幸せな一日にな～っれっ！";
		close;

	case 4:
		cutin "wedding_marry02",2;
		donpcevent "ソロ軍団#Prontera::OnEnable";
		donpcevent "ソロ軍団#Geffen::OnEnable";
		donpcevent "ソロ軍団#Morocc::OnEnable";
		donpcevent "ソロ軍団#Payon::OnEnable";
		donpcevent "ソロ軍団#Amatsu::OnEnable";
		donpcevent "ソロ軍団#Gonryun::OnEnable";
		Emotion e_omg;
		mes "[ソロ軍団]";
		mes "精錬は1人で出来ちゃうぞ！";
		donpcevent "ソロ軍団#Prontera::OnEmote";
		next;
		mes "[ソロ軍団]";
		mes "ダンジョンでパーティーは贅沢だ！";
		donpcevent "ソロ軍団#Geffen::OnEmote";
		next;
		mes "[ソロ軍団]";
		mes "私には心に決めたNPCがいる！";
		donpcevent "ソロ軍団#Morocc::OnEmote";
		next;
		mes "[ソロ軍団]";
		mes "生まれて転職まで独りでした！";
		donpcevent "ソロ軍団#Payon::OnEmote";
		next;
		mes "[ソロ軍団]";
		mes "クリスマスにはシングルベ～ル！";
		donpcevent "ソロ軍団#Amatsu::OnEmote";
		next;
		mes "[ソロ軍団]";
		mes "私たちは無敵のソロ軍団！";
		donpcevent "ソロ軍団#Gonryun::OnEmote";
		close2;
		cutin "wedding_marry01",255;
		Emotion e_swt;
		donpcevent "ソロ軍団#Prontera::OnInit";
		donpcevent "ソロ軍団#Geffen::OnInit";
		donpcevent "ソロ軍団#Morocc::OnInit";
		donpcevent "ソロ軍団#Payon::OnInit";
		donpcevent "ソロ軍団#Amatsu::OnInit";
		donpcevent "ソロ軍団#Gonryun::OnInit";
		end;
	}
	close2;
	cutin "wedding_marry01",255;
	end;

L_End:
	close2;
	cutin "",255;
	end;
}

prt_church,97,102,0	script	ソロ軍団#Prontera	105,{
	mes "[ソロ軍団]";
	mes "精錬は1人で出来ちゃうぞ！";
	close;

OnInit:
	hideonnpc "ソロ軍団#Prontera";
	end;

OnEnable:
	hideoffnpc "ソロ軍団#Prontera";
	Emotion e_go;
	end;

OnEmote:
	emotion e_rock;
	end;
}

prt_church,98,102,0	script	ソロ軍団#Geffen	705,{
	mes "[ソロ軍団]";
	mes "ダンジョンでパーティーは贅沢だ！";
	close;

OnInit:
	hideonnpc "ソロ軍団#Geffen";
	end;

OnEnable:
	hideoffnpc "ソロ軍団#Geffen";
	Emotion e_go;
	end;

OnEmote:
	emotion e_rock;
	end;
}

prt_church,99,102,0	script	ソロ軍団#Morocc	707,{
	mes "[ソロ軍団]";
	mes "私には心に決めたNPCがいる！";
	close;

OnInit:
	hideonnpc "ソロ軍団#Morocc";
	end;

OnEnable:
	hideoffnpc "ソロ軍団#Morocc";
	Emotion e_go;
	end;

OnEmote:
	emotion e_rock;
	end;
}

prt_church,100,102,0	script	ソロ軍団#Payon	708,{
	mes "[ソロ軍団]";
	mes "生まれて転職まで独りでした！";
	close;

OnInit:
	hideonnpc "ソロ軍団#Payon";
	end;

OnEnable:
	hideoffnpc "ソロ軍団#Payon";
	Emotion e_go;
	end;

OnEmote:
	emotion e_rock;
	end;
}

prt_church,101,102,0	script	ソロ軍団#Amatsu	767,{
	mes "[ソロ軍団]";
	mes "クリスマスにはシングルベ～ル！";
	close;

OnInit:
	hideonnpc "ソロ軍団#Amatsu";
	end;

OnEnable:
	hideoffnpc "ソロ軍団#Amatsu";
	Emotion e_go;
	end;

OnEmote:
	emotion e_rock;
	end;
}

prt_church,102,102,0	script	ソロ軍団#Gonryun	780,{
	mes "[ソロ軍団]";
	mes "私たちは無敵のソロ軍団！";
	close;

OnInit:
	hideonnpc "ソロ軍団#Gonryun";
	end;

OnEnable:
	hideoffnpc "ソロ軍団#Gonryun";
	Emotion e_go;
	end;

OnEmote:
	emotion e_rock;
	end;
}

prt_church,100,128,4	script	司祭#w	60,{
	cutin "wedding_bomars01",2;
	if (Upper == 2) {
		close2;
		cutin "wedding_bomars01",255;
		end;
	}

	if (!getpartnerid()) {
		if (!$wedding) {
			if (wedding_sign == 1) {
				getpartymember(getcharid(1));
				set .@partymembercount,$@partymembercount;
				if (.@partymembercount == 2) {
					set $wedding,1;
					initnpctimer;
					mes "[Vomars]";
					mes "幸せな未来を夢見る若者よ。";
					mes "これから二人で歩む人生が幸せである";
					mes "よう、共に過ごす時が至宝となるよう";
					mes "二人の時が永遠となるよう……";
					next;
					mapannounce "prt_church","新郎" + strcharinfo(0) + "よ、汝に問う……",bc_map;
					mes "[Vomars]";
					mes "汝の将来を明るく照らし、生涯を";
					mes "共に歩まんとする女性の名前を";
					mes "ここに告げよ。";
					next;
					input $wed_bride$;
					mes "[Vomars]";
					mes "新郎" + strcharinfo(0) + "よ。";
					mes "汝、その富める時も、貧しき時も、";
					mes "病めるときも、健やかなる時も、";
					mes "" +$wed_bride$+ "を愛し";
					mes "敬い、慰め、助け、その命の限り";
					mes "堅く節操を守ることを誓うか。";
					next;
					announce $wed_bride$+ "を愛し、敬い、慰め、助け、その命の限り堅く節操を守ることを誓うか",9;
					select("誓います");
					set $wed_groom$,strcharinfo(0);
					mes "[Vomars]";
					mes "うむ。では、新婦に問うてみよう。";
					close2;
					mapannounce "prt_church","新郎" + strcharinfo(0) + "が新婦" + $wed_bride$ + "に愛を誓った……",bc_map;
					cutin "",255;
					end;
				}
				mes "[Vomars]";
				mes "結婚を望むなら、式を挙げる二人で";
				mes "パーティーを結成しなさい。";
				goto L_End;
			}
			mes "[Vomars]";
			mes "結婚を望むなら、まずは申し込みから";
			mes "済ませてきなさい。";
			goto L_End;
		}
		else if ($wedding == 1) {
			if (wedding_sign == 1) {
				getpartymember(getcharid(1));
				set .@partymembercount,$@partymembercount;
				if (.@partymembercount == 2) {
					if (strcharinfo(0) == $wed_bride$) {
						mes "[Vomars]";
						mes "幸せな未来を夢見る若者よ。";
						mes "これから二人で歩む人生が幸せである";
						mes "よう、共に過ごす時が至宝となるよう";
						mes "二人の時が永遠となるよう……";
						next;
						mapannounce "prt_church","新婦"+$wed_bride$+"よ、汝に問う……",bc_map;
						mes "[Vomars]";
						mes ""+$wed_bride$+"よ。";
						mes "汝を常に守り、生涯を共に";
						mes "歩まんとする男性の名前は";
						mes ""+$wed_groom$+"か。";
						next;
						if (select("^FF0000いいえ^000000:はい") == 1) {
							cutin "wedding_bomars03",2;
							mapannounce "prt_church","新婦が嫌みたいだ……次の式を行うとしよう。",bc_map;
							mes "[Vomars]";
							mes "そうか";
							set $wedding,0;
							close2;
							stopnpctimer;
							cutin "",255;
							end;
						}
						announce "汝、その富める時も、貧しき時も、病めるときも、健やかなる時も",9;
						mes "[Vomars]";
						mes "新婦" +$wed_bride$+ "よ。";
						mes "汝、その富める時も、貧しき時も、";
						mes "病めるときも、健やかなる時も、";
						mes $wed_groom$+ "を愛し";
						mes "敬い、慰め、助け、その命の限り";
						mes "堅く節操を守ることを誓うか。";
						next;
						announce "" +$wed_groom$+ "を愛し、敬い、慰め、助け、その命の限り堅く節操を守ることを誓うか",9;
						if (select("誓います:^FF0000……やっぱりやめます^000000") == 1) {
							if (isloggedin(getcharid(3,$wed_groom$))) {
								if (marriage($wed_groom$)) {
									//Call Wedding effect
									wedding;
									//Give ring to Bride, and change to wedding sprite.
									sc_start SC_Wedding,3600000,1;
									if (sex)
										getitem 2634,1; //Bridegroom_Ring
									else
										getitem 2635,1; //Bride_Ring
									//Give ring to Groom, and change to wedding sprite.
									attachrid(getcharid(3,$wed_groom$));
									sc_start SC_Wedding,3600000,1;
									if (sex)
										getitem 2634,1; //Bridegroom_Ring
									else
										getitem 2635,1; //Bride_Ring
									detachrid;
									//Switch Script progression back to Bride
									attachrid(getcharid(3,$wed_bride$));
									cutin "wedding_bomars02",2;
									mapannounce "prt_church","新郎"+$wed_groom$+"と新婦"+$wed_bride$+"、新たなる夫婦の誕生をここに祝福しよう！",bc_map;
									mes "[Vomars]";
									mes "ルーン=ミッドガッツ王国が国王";
									mes "トリスタン三世の名において、汝ら";
									mes "二人の未来を祝福しよう。";
									next;
									mes "[Vomars]";
									mes "二人とも……幸せにな……";
									set $wed_groom$,"";
									set $wed_bride$,"";
									set $wedding,0;
									close2;
									stopnpctimer;
									cutin "",255;
									detachrid;
									end;
								}
							}
							cutin "wedding_bomars03",2;
							goto L_End;
						}
						else {
							cutin "wedding_bomars03",2;
							mapannounce "prt_church","新婦が嫌みたいだ……次の式を行うとしよう。",bc_map;
							mes "[Vomars]";
							mes "そうか";
						}
						set $wed_groom$,"";
						set $wed_bride$,"";
						set $wedding,0;
						close2;
						stopnpctimer;
						cutin "",255;
						end;
					}
					callsub S_Busy;
				}
				callsub S_Busy;
			}
			if (strcharinfo(0) == $wed_bride$) {
				goto L_End;
			}
			callsub S_Busy;
		}
		callsub S_Busy;
	}
	mes "[Vomars]";
	mes "いつまでも、お幸せに。";

L_End:
	close2;
	cutin  "",255;
	end;

S_Busy:
	if ($wed_groom$ != "" && $wed_bride$ != "") {
		mes "[Vomars]";
		mes "The wedding of";
		mes "Miss "+ $wed_bride$ +" and";
		mes "Mister "+ $wed_groom$;
		mes "is currently in progress.";
		mes "Please keep your voice down.";
		goto L_End;
	}
	mes "[Vomars]";
	mes "I'm conducting a wedding";
	mes "for another couple now, so";
	mes "please wait patiently for your";
	mes "turn. Thanks for understanding... ^FFFFFF ^000000";
	goto L_End;

OnInit:
	set $wedding,0;
	end;

OnStop:
	stopnpctimer;
	end;

OnReset:
	set $wed_groom$,"";
	set $wed_bride$,"";
	set $wedding,0;
	end;

OnTimer180000:
	mapannounce "prt_church","返事が遅い……次の式を行うとしよう。",bc_map;
	set $wed_groom$,"";
	set $wed_bride$,"";
	set $wedding,0;
	stopnpctimer;
	end;
}

nif_in,190,112,5	script	Deviruchi#divorce	738,{
	mes "[Deviruchi]";
  	if (!getpartnerid()) {
		mes "[デビルチ]";
		mes "クックックッ、所詮皆独りよ。";
		mes "慰めにペットでも飼ってみるか？";
		mes "近頃はわし、デビルチが";
		mes "いいらしいぞ……";
		close;
	}
	mes "[デビルチ]";
	mes "何か浮かない顔をしているな。";
	mes "ふん、わしは幸せな奴には";
	mes "興味ないんだがね……";
	mes "クックックッ……";
	next;
	mes "[デビルチ]";
	mes "だが一度自分の心に聞いてみるんだ。";
	mes "ぬしは結婚して幸せになれたのか？";
	mes "ケッケッケッ……";
	next;
	mes "[デビルチ]";
	mes "こんな所まで来たのには";
	mes "何か訳があるんだろう？";
	mes "永遠の愛なんてものは……";
	mes "ケケケッ。";
	next;
	mes "[デビルチ]";
	mes "フン、方法は簡単だ。";
	mes "婚姻なんてたかが契約の一種だろう？";
	mes "わしならそれくらいすぐに";
	mes "破棄できるぞ。相手の同意？";
	mes "そんなものは必要ない。";
	next;
	mes "[デビルチ]";
	mes "つまり、自由になれるってわけだ。";
	mes "そうすれば新たな出会いもあるだろう。";
	mes "ケッケッケッ……";
	mes "婚姻の破棄を手伝ってやろうか？";
	next;
	if (select("けっこうです:お願いします") == 1) {
		mes "[デビルチ]";
		mes "フン、フン、フン！";
		mes "カップルなんか……ケッ!!";
		mes "後でわしに泣きついたって";
		mes "知らないからな！";
		close2;
		warp "niflheim",169,162;
		end;
	}
	mes "[デビルチ]";
	mes "よかろう。";
	mes "その意志と2,500,000Zeny";
	mes "それで十分だ。";
	mes "では、結婚前の状態に戻るが平気か？";
	mes "本当に離婚してもよいんだな？";
	next;
	if (select("……少し考えさせてください:はい、離婚します") == 1) {
		mes "[デビルチ]";
		mes "所詮人間は独り。";
		mes "ぬしの心と資金、";
		mes "両方準備ができたら";
		mes "また訪ねてくるがよい……";
		mes "ククククッ……";
		close;
	}
	mes "[Deviruchi]";
	if (Zeny > 2499999) {
		mes "Excellent choice~";
		mes "Let's get started right";
		mes "away! This may take some";
		mes "time, but it's better than";
		mes "being hopelessly married";
		mes "^FF0000for the rest of your life.^000000";
		next;
		specialeffect EF_MAGICROD;
		specialeffect2 EF_DEVIL;
		set wedding_sign,0;
		set zeny,zeny-2500000;
		percentheal -100,-100;
		divorce;
		mes "[デビルチ]";
		mes "仕方ねぇな。破棄してやるか。";
		mes "よしよし。ちょっと待ってな。";
		close;
	}
	mes "[デビルチ]";
	mes "2,500,000Zenyは、ぬしの";
	mes "誠意の証だ。それすら";
	mes "出せぬのなら諦めるんだな。";
	mes "ケケケケッ……";
	close;
}
morocc.gat,159,113,3	script	バーロック隊長	752,{
	if(countitem(7820)<1){
		mes "[バーロック隊長]";
		mes "ん、わしに用かね。";
		mes "君も良くない時に来たな。";
		mes "わしはコンチネンタルガード団の";
		mes "隊長、バーロックだ。";
		mes "よろしく頼む。";
		close;
	}
	mes "[バーロック隊長]";
	mes "な、なんだと!?";
	mes "あの魔王モロクを倒したと言うのか!?";
	mes "で、では……";
	mes "その証拠品を見せて貰おう。";
	next;
	mes "[バーロック隊長]";
	mes "お、おお……";
	mes "こ、これは!!";
	next;
	mes "[バーロック隊長]";
	mes "見間違うわけがない！";
	mes "魔王モロクの体の一部ではないか！";
	mes "た、確かな証拠だ……";
	mes "君は大した者だ!!";
	mes "本当に魔王モロクを倒したのだ!!";
	next;
	mes "-私は魔王モロクが次元の狭間に";
	mes "逃げ込んでいったことを伝えた-";
	next;
	mes "[バーロック隊長]";
	mes "ほほー。";
	mes "奴は大きな傷を負い、";
	mes "次元の狭間に逃げ込んでいったか……";
	mes "まあ、これでしばらくは";
	mes "安心ということだな。";
	next;
	mes "[バーロック隊長]";
	mes "では！";
	mes "ここまでしてくれた君に、";
	mes "何もしないわけにはいかんだろう。";
	mes "このルーンミッドガッツ王国の";
	mes "コンチネンタルガード団を代表し、";
	mes "礼を言わせていただこう。";
	next;
	mes "[バーロック隊長]";
	mes "君の素晴らしい功績に感謝する！";
	mes "本当にありがとう！";
	mes "陛下にも伝えておかなければな。";
	next;
	mes "-バーロック隊長は兵舎の荷物の";
	mes "中から、何か取り出している-";
	next;
	mes "[バーロック隊長]";
	mes "それでは感謝の印として、";
	mes "報酬を渡そう！";
	mes "さあ、受け取ってくれ！";
	next;
	mes "[バーロック隊長]";
	mes "あと、君に渡す報酬を";
	mes "何個か用意させてもらった。";
	mes "では、この中から1つを選んでくれ。";
	mes "これは陛下より団の為にと";
	mes "頂いたものだ。";
	mes "さあ、どの説明を聞きたい？";
	next;
	switch(select("1.コンチネンタルガードの印章","2.ルーン文字の呪文石","3.死のブローチ")) {
	case 1:
		set .@itemid,2730;
		mes "[バーロック隊長]";
		mes "コンチネンタルガードの印章は、";
		mes "まさに屈することのない";
		mes "強さの象徴だ。";
		mes "これは君のような素晴らしい功績を";
		mes "挙げた者のみ、王様から直に贈られる";
		mes "とても珍しい物だぞ。";
		next;
		mes "[バーロック隊長]";
		mes " ^0000FF装着すると、MHP+50と";
		mes "攻撃速度が3%増加^000000する";
		mes "上質のアクセサリだ。";
		break;
	case 2:
		set .@itemid,2731;
		mes "[バーロック隊長]";
		mes "ルーン文字の呪文石は、";
		mes "まさに魔力の象徴そのものだ。";
		mes "これは君のような素晴らしい功績を";
		mes "挙げた者のみ、王様から直に贈られる";
		mes "とても珍しい物だぞ。";
		next;
		mes "[バーロック隊長]";
		mes " ^0000FF装着すると、MSP+50、";
		mes "詠唱時間が1%減少^000000する";
		mes "上質のアクセサリだ。";
		break;
	case 3:
		set .@itemid,2732;
		mes "[バーロック隊長]";
		mes "死のブローチは、";
		mes "まさに絶対的な運命の";
		mes "力の象徴そのもの。";
		mes "これは君のような素晴らしい功績を";
		mes "挙げた者のみ、王様から直に贈られる";
		mes "とても珍しい物だぞ。";
		next;
		mes "[バーロック隊長]";
		mes " ^0000FF装着すると、";
		mes "CRI+5 ^000000となる";
		mes "上質のアクセサリだ。";
		break;
	}
	next;
	mes "[バーロック隊長]";
	mes "どうする？";
	mes getitemname(.@itemid)+ "を";
	mes "報酬として受け取るか？";
	next;
	if(select("1.受け取る","2.他のものにする") == 2) {
		mes "[バーロック隊長]";
		mes "他のものか？";
		mes "よし、わかった。";
		mes "準備ができたら、話しかけてくれ。";
		close;
	}
	mes "[バーロック隊長]";
	mes "よし、分かった。";
	mes "では報酬として、";
	mes getitemname(.@itemid)+ "を";
	mes "君に授与しよう！";
	next;
	delitem 7820,1;
	getitem .@itemid,1;
	getexp 2000000,0;
	mes "[バーロック隊長]";
	mes "おめでとう！";
	mes "しかし！";
	mes "これで全てが片づいたわけではない。";
	next;
	mes "[バーロック隊長]";
	mes "魔王モロクはまだ生きているからな。";
	mes "そこでお願いしたいのは、";
	mes "今後も気を緩めずに、継続的に";
	mes "魔王モロクの討伐を支援して";
	mes "貰いたいということだ。";
	next;
	mes "[バーロック隊長]";
	mes "ふう、話が長くなってしまったが、";
	mes "君には色々と世話になった！";
	mes "では、帰ってゆっくりと休んでくれ！";
	close;
}

moc_fild20.gat,38,174,5	script	コンチネンタルガード#21	707,{
	mes "[コンチネンタルガード警備兵]";
	mes "ここは民間人の立ち入り禁止地域です！";
	mes "非常に危険な地域のため、この辺りへの";
	mes "立ち入りはお控えください！";
	next;
	switch(select("会話をやめる","調査のため次元の狭間1に行く","調査のため次元の狭間2に行く","モロクの現場に移動する")) {
	case 1:
		close;
	case 2:
		if(getnpctimer(1,"次元の狭間#morocc")) {
			mes "[コンチネンタルガード警備兵]";
			mes "たった今、中央司令部から";
			mes "ソグラト砂漠周辺の時空に異常が";
			mes "確認されました！";
			mes "異常が収まるまで、出入りを";
			mes "禁止せよとの連絡が入っています！";
			next;
			mes "[コンチネンタルガード警備兵]";
			mes "申し訳ありませんが、";
			mes "次元の狭間への道は通行禁止です！";
			mes "安全に通行する為の時間は";
			mes "現在の所未定です！";
			mes "調査の再会は安全性が";
			mes "確保されてからお願い致します！";
			close;
		}
		mes "[コンチネンタルガード警備兵]";
		mes "…………？";
		next;
		mes "[コンチネンタルガード警備兵]";
		mes "失礼いたしました。";
		mes "コンチネンタルガードの方ですね。";
		mes "調査は充分に気をつけてください。";
		next;
		mes "[コンチネンタルガード警備兵]";
		mes "では、次元の狭間にお送りします。";
		mes "帰還の際は転送先付近に";
		mes "次元の狭間から脱出する";
		mes "ワープゾーンが開いていますので、";
		mes "そちらからご帰還ください。";
		close2;
		warp "moc_fild21.gat",38,193;
		end;
	case 3:
		mes "[コンチネンタルガード警備兵]";
		mes "…………？";
		next;
		mes "[コンチネンタルガード警備兵]";
		mes "失礼いたしました。";
		mes "コンチネンタルガードの方ですね。";
		mes "調査は充分に気をつけてください。";
		next;
		mes "[コンチネンタルガード警備兵]";
		mes "では、次元の狭間にお送りします。";
		mes "帰還の際は転送先付近に";
		mes "次元の狭間から脱出する";
		mes "ワープゾーンが開いていますので、";
		mes "そちらからご帰還ください。";
		close2;
		warp "moc_fild22.gat",38,193;
		end;
	case 4:
		mes "[コンチネンタルガード警備兵]";
		mes "わかりました。";
		mes "では現場まで送りましょう。";
		close2;
		warp "morocc.gat",160,61;
		end;
	}
}
moc_fild20,38,183,5	duplicate(コンチネンタルガード#21)	コンチネンタルガード#22	707,3,3
moc_fild20,354,174,3	duplicate(コンチネンタルガード#21)	コンチネンタルガード#23	707,3,3
moc_fild20,354,183,3	duplicate(コンチネンタルガード#21)	コンチネンタルガード#24	707,3,3
moc_fild20,189,21,7	duplicate(コンチネンタルガード#21)	コンチネンタルガード#25	707,3,3
moc_fild20,200,21,7	duplicate(コンチネンタルガード#21)	コンチネンタルガード#26	707,3,3
moc_fild20,203,336,5	duplicate(コンチネンタルガード#21)	コンチネンタルガード#27	707,3,3
moc_fild20,215,336,3	duplicate(コンチネンタルガード#21)	コンチネンタルガード#28	707,3,3

moc_fild21.gat,178,239,0	script	闇の結晶体#morocc	844,{
	mes "-なんとも言えないような";
	mes "巨大な闇の気配が";
	mes "この辺りに、充満している。";
	mes "次元の狭間には凄まじいほどの";
	mes "威圧感があり、";
	mes "逃げ出したくなりそうだ-";
	if(getnpctimer(1) == 0)
		initnpctimer;
	close;
OnTimer5000:
	announce "魔王モロク : この虫けらども！　その勇気だけは買ってやろう！",0x09;
	monster "moc_fild21.gat",177,217,"魔王モロク",1916,1,"闇の結晶体#morocc::OnMyMobDead";
	end;
OnTimer15000:
	announce "魔王モロク : 後悔するなら今のうちにしておけ！　お前らを消し炭にしてやる！",0x09;
	end;
OnTimer25000:
	announce "魔王モロク : 絶望しながら、俺様に逆らったことを後悔するがいい！",0x09;
	end;
OnTimer5400000:
	announce "魔王モロク : 虫けら共を相手にしてもつまらんだけだな！",0x09;
	end;
OnTimer5410000:
	announce "魔王モロク : 俺様は非常に忙しい！　お前らのような下等生物の相手をする暇などないのだ！",0x09;
	killmonster "moc_fild21.gat","闇の結晶体#morocc::OnMyMobDead";
	stopnpctimer;
	end;
OnMyMobDead:
	announce "魔王モロク : 貴様らの命はしばらく預けておいてやる……　俺様はここで少し休息をとってやろう……",0x09;
	hideonnpc "闇の結晶体#morocc";
	hideoffnpc "次元の狭間#morocc";
	initnpctimer "次元の狭間#morocc";
	stopnpctimer;
	end;
}

moc_fild21.gat,177,239,0	script	次元の狭間#morocc	844,{
	if(countitem(7820) > 0 || getnpctimer(0) > 1800000) {
		mes "-ゆっくりと闇の気配が";
		mes "広がっていく……-";
		next;
		mes "-これ以上近寄ると";
		mes "危ない気がする-";
		close;
	}
	mes "-魔王モロクが倒れ、";
	mes "次元の狭間から出ていた邪悪な";
	mes "気配がこの辺りから、";
	mes "どんどん薄まっていく……-";
	next;
	mes "-全てが静まり返り、";
	mes "それまで光を持っていた";
	mes "魔王モロクの残骸が光を失っていく。";
	mes "手を伸ばし、光を失ったカケラを";
	mes "1つ取ってみる-";
	getitem 7820,1;
	close;
OnInit:
	hideonnpc "次元の狭間#morocc";
	end;
OnTimer2700000:
	hideonnpc "次元の狭間#morocc";
	hideoffnpc "闇の結晶体#morocc";
	stopnpctimer;
	end;
}

c_tower3.gat,10,249,4	script	番人#c_tow1	84,{
	mes "[番人リク]";
	mes "アルデバラン名物";
	mes "キナセ - ブルガリノ";
	mes "時計塔にようこそ.";
	mes "地上 4階からは";
	mes "立入り禁止なので";
	mes "入らないで下さい。";
	next;
	switch(select("時計塔について","4階について","4階に移動する","対話を終了")) {
	case 1:
		mes "[番人リク]";
		mes "錬金術師のメッカーアルデバラン！";
		mes "はるか昔 . 伝説の";
		mes "3 大錬金術師に呼ばれた";
		mes "ブルケサイマー";
		mes "ピリペバリセズ";
		mes "そして…";
		next;
		mes "[番人リク]";
		mes "ロメロスペシャレ！";
		mes "この偉大なる建造物は";
		mes "彼らが建設したものです";
		mes "ここまで来る途中に";
		mes "ある程度感じられたかも知れないけど";
		mes "この時計塔は平凡ではない。";
		next;
		mes "[番人リク]";
		mes "古代の錬金術を基にして";
		mes "相当な否らしい呪術的な";
		mes "構造になっているのです.";
		mes "明確な目的なしに";
		mes "ウロウロまわったりしたら";
		next;
		mes "[番人リク]";
		mes "時計塔の番人である魔物によって";
		mes "大変なことに遭うのでしょう。";
		mes "くれぐれも気をつけてください…";
		close;
	case 2:
		mes "[番人リク]";
		mes "古代錬金術師は";
		mes "魔物と他国の兵士から";
		mes "何かを守るため";
		mes "錬金術的装置を製作して";
		mes "4階に入る扉を封印しました.";
		mes "その扉を通過するためには";
		next;
		mes "[番人リク]";
		mes "ある鍵が必要です。";
		mes "その鍵はこの時計塔で所々を";
		mes "彷徨っている";
		mes "恐ろしい魔物が";
		mes "持っているということです..";
		next;
		mes "[番人リク]";
		mes "その鍵は古代錬金術の集約体で";
		mes "1回使ってしまうと";
		mes "呪術が解けて消えるように";
		mes "作られている。";
		next;
		mes "[番人リク]";
		mes "もし貴方がその鍵を";
		mes "手に入れたら";
		mes "私に見せてください.";
		mes "鍵を持つその者こそ";
		mes "この扉が通れる";
		next;
		mes "[番人リク]";
		mes "資格がある者！";
		mes "貴方の運を";
		mes "試して貰おう…";
		mes "……";
		close;
	case 3:
		if(countitem(7026)) {
			mes "[番人リク]";
			mes "うむ!貴方には普通ではないオーラが";
			mes "感じられたが";
			mes "やはり私の予想通りですね。";
			mes "さあ、この扉を通っても良いです。";
			mes "幸運を祈ります…";
			close2;
			delitem 7026,1;
			warp "c_tower4.gat",185,44;
			end;
		}
		mes "[番人リク]";
		mes "……";
		mes "貴方はこの扉を通る";
		mes "資格が無いです ..";
		mes "古代の錬金術師が";
		mes "許さない限り";
		mes "この先に進むのは無理だと思います.";
		close;
	case 4:
		mes "[番人リク]";
		mes "この時計塔は";
		mes "古代3大錬金術師の";
		mes "誠意と心が宿っている所…";
		mes "時計塔の内部飾りなどに";
		mes "手を出さないで下さい.";
		close;
	}
}

alde_dun03.gat,264,16,4	script	番人#c_tow2	101,{
	mes "[番人アイ]";
	mes "アルデバラン名物";
	mes "キナセ - ブルガリノ";
	mes "時計塔にようこそ.";
	mes "地下 4階からは";
	mes "立入り禁止なので";
	mes "入らないで下さい。";
	next;
	switch(select("時計塔について","4階について","4階に移動する","対話を終了")) {
	case 1:
		mes "[番人アイ]";
		mes "錬金術師のメッカーアルデバラン！";
		mes "はるか昔 . 伝説の";
		mes "3 大錬金術師に呼ばれた";
		mes "ブルケサイマー";
		mes "ピリペバリセズ";
		mes "そして…";
		next;
		mes "[番人アイ]";
		mes "ロメロスペシャレ！";
		mes "この偉大なる建造物は";
		mes "彼らが建設したものよ。";
		mes "ここまで来る途中に";
		mes "ある程度感じられたかも知れないけど";
		mes "この時計塔は平凡ではないの。";
		next;
		mes "[番人アイ]";
		mes "古代の錬金術を基にして";
		mes "相当な否らしい呪術的な";
		mes "構造になっているの.";
		mes "明確な目的なしに";
		mes "ウロウロまわったりしたら";
		next;
		mes "[番人アイ]";
		mes "時計塔の番人である魔物によって";
		mes "大変なことに遭うのよ。";
		mes "お気をつけなさい…";
		close;
	case 2:
		mes "[番人アイ]";
		mes "古代錬金術師は";
		mes "魔物と他国の兵士から";
		mes "何かを守るため";
		mes "錬金術的装置を製作して";
		mes "4階に入る扉を封印したのよ.";
		mes "その扉を通過するためには";
		next;
		mes "[番人アイ]";
		mes "ある鍵が必要よ。";
		mes "その鍵はこの時計塔で所々を";
		mes "彷徨っている";
		mes "恐ろしい魔物が";
		mes "持っていると聞いたわ.";
		next;
		mes "[番人アイ]";
		mes "その鍵は古代錬金術の集約体で";
		mes "1回使ってしまうと";
		mes "呪術が解けて消えるように";
		mes "作られているの。";
		next;
		mes "[番人アイ]";
		mes "もし貴方がその鍵を";
		mes "手に入れたら";
		mes "私に見せてくれないかしら？.";
		mes "鍵を持つその者こそ";
		mes "この扉が通れる";
		next;
		mes "[番人アイ]";
		mes "資格がある者なの。";
		mes "貴方の運を";
		mes "試して行ってらっしゃい。";
		mes "……";
		close;
	case 3:
		if(countitem(7027)) {
			mes "[番人アイ]";
			mes "うん!貴方には普通ではないオーラが";
			mes "感じられて";
			mes "私はこうなると予想したのよ。";
			mes "さあ、この扉を通っても良いのよ。";
			mes "貴方に幸運を祈る…";
			close2;
			delitem 7027,1;
			warp "alde_dun04.gat",79,267;
			end;
		}
		mes "[番人アイ]";
		mes "……";
		mes "貴方はこの扉を通る";
		mes "資格が無いのよ ..";
		mes "古代の錬金術師が";
		mes "許さない限り";
		mes "この先に進むのは無理なの。";
		close;
	case 4:
		mes "[番人アイ]";
		mes "この時計塔は";
		mes "古代3大錬金術師の";
		mes "誠意と心が宿っているもの…";
		mes "時計塔の内部飾りなどに";
		mes "手を出さないで…";
		close;
	}
}

comodo,201,151,4	script	販売促進員	101,{
	mes "[フルーツ商人]";
	mes "ここ、コモドの特産品！";
	mes "おいしい熱帯フルーツを";
	mes "^3355FF800 Zeny^000000で";
	mes "販売しています！";
	next;
	switch(select("フルーツをください！","取引をやめる")) {
	case 1:
		mes "[フルーツ商人]";
		mes "コモド熱帯フルーツは";
		mes "おやつにぴったり！";
		mes "一度に10個まで";
		mes "お買い求めいただけます。";
		set .@max,10;
		while(1) {
			next;
			input .@num;
			if(.@num > .@max) {
				mes "[フルーツ商人]";
				mes "え？";
				mes "ちょっと多すぎです。";
				mes "一度に販売できるのは";
				mes .@max+ "個までです。";
				continue;
			}
			break;
		}
		if(.@num <= 0) {
			mes "[フルーツ商人]";
			mes "あら？";
			mes "お腹の調子が良くないのですか？";
			close;
		}
		if(Zeny<.@num*800) {
			mes "[フルーツ商人]";
			mes "お客さん、お金が足りないです…";
			mes "一つ ^3355FF800 Zeny^000000ですよ！";
			close;
		}
		if(checkweight(6258,.@num)==0) {
			mes "[フルーツ商人]";
			mes "お客さん、ちょっと荷物が";
			mes "多すぎますね。";
			mes "持ち物を減らしてから来て下さい～。";
			close;
		}
		set Zeny,Zeny-.@num*800;
		getitem 6258,.@num;
		mes "[フルーツ商人]";
		mes "はい、" +.@num+ "個ね。";
		mes "ありがとうございましたー。";
		close;
	case 2:
		mes "[フルーツ商人]";
		mes "今この機会を逃すと";
		mes "もう味わうことが";
		mes "できなくなるかもしれませんよ？";
		mes "さぁ、さぁ、いかがですか～？";
		close;
	}
}

yuno_in03.gat,176,22,3	shop	Scroll商人	67,7433:-1

//=======================================================
// Alberta
//=======================================================
alb2trea,87,65,5	shop	道具商人#alb	83,1750:-1,1751:-1,1752:-1,501:-1,502:-1,503:-1,504:-1,506:-1,645:-1,656:-1
alberta_in,165,96,0	shop	道具商人#alb1	74,911:-1,528:-1
alberta_in,182,97,0	shop	道具商人#alb2	73,1750:-1,611:-1,501:-1,502:-1,503:-1,504:-1,506:-1,645:-1,656:-1,601:-1,602:-1,2243:-1
alberta_in,180,15,0	shop	防具商人#alb	101,2101:-1,2103:-1,2401:-1,2403:-1,2405:-1,2501:-1,2503:-1,2505:-1,2203:-1,2201:-1,2205:-1,2226:-1,2301:-1,2303:-1,2305:-1,2321:-1,2328:-1,2332:-1,2307:-1,2309:-1,2312:-1,2314:-1,2628:-1
alberta_in,188,21,0	shop	武器商人#alb	49,1750:-1,1751:-1,1101:-1,1104:-1,1107:-1,1201:-1,1204:-1,1207:-1,1601:-1,1701:-1,1301:-1,1351:-1,1354:-1,1357:-1,1360:-1
alberta_in,175,97,4	shop	武器商人#alb2	82,1146:-1,1245:-1

//=======================================================
// Al De Baran
//=======================================================
aldeba_in,20,60,0	shop	防具商人#alde	101,2228:-1,2103:-1,2105:-1,2307:-1,2309:-1,2312:-1,2314:-1,2316:-1,2505:-1,2405:-1,2628:-1,2627:-1
aldeba_in,28,54,0	shop	武器商人#alde	49,1201:-1,1204:-1,1207:-1,1210:-1,1213:-1,1216:-1,1219:-1,1222:-1
aldeba_in,22,47,4	shop	武器商人#alde2	713,1146:-1,1245:-1
aldeba_in,94,56,5	shop	道具商人#alde	83,501:-1,502:-1,503:-1,504:-1,506:-1,645:-1,656:-1,601:-1,602:-1,611:-1,610:-1
alde_alche,38,184,3	shop	材料商人#alche	755,7143:-1,7141:-1,7140:-1,6248:-1,6250:-1,6251:-1,6255:-1,6261:-1,6262:-1,6297:300

//=======================================================
// Geffen
//=======================================================
geffen_in,26,178,4	shop	防具商人#gef	66,2628:-1,2101:-1,2107:-1,2401:-1,2501:-1,2230:-1,2301:-1,2303:-1,2305:-1,2321:-1,2332:-1
geffen_in,30,178,4	shop	武器商人#gef2	47,1750:-1,1751:-1,1101:-1,1701:-1,1201:-1,1204:-1,1207:-1,1210:-1,1213:-1,1216:-1,1601:-1,1604:-1,1607:-1,1610:-1
geffen_in,22,171,7	shop	武器商人#gef	84,1146:-1,1245:-1
geffen_in,74,144,0	shop	商人#gef	66,911:-1,910:-1,912:-1
geffen_in,77,167,0	shop	道具商人#gef	68,1750:-1,611:-1,501:-1,502:-1,503:-1,504:-1,506:-1,645:-1,656:-1,601:-1,602:-1,2241:-1
geffen_in,77,173,0	shop	魔法商人#gef	64,717:-1,1601:-1,1604:-1,1607:-1,1610:-1,2232:-1,2321:-1,2332:-1
geffen_in,171,123,4	shop	道具商人#gef2	64,1092:-1,1093:-1
geffen,193,152,4	shop	テイミング商人#gef	124,537:-1,643:-1,10013:-1,10014:-1

//=======================================================
// Izlude
//=======================================================
izlude,126,133,0	shop	肉商人#iz	54,517:-1
izlude,127,126,4	shop	果物商人#iz	53,512:-1,513:-1,515:-1,516:-1
izlude,131,128,7	shop	牛乳商人#i	90,519:-1
izlude,164,138,4	shop	テイミング商人#iz	124,537:-1,643:-1,10013:-1,10014:-1

//=======================================================
// Morroc - Post Ep. 12.1
//=======================================================
in_moc_16,22,20,7	shop	Sepulchral Merchant#moc	880,1771:-1
moc_ruins,91,128,4	shop	道具商人#moc1	93,1750:-1,611:-1,501:-1,502:-1,503:-1,504:-1,506:-1,645:-1,656:-1,601:-1,602:-1,1065:-1
moc_ruins,114,63,6	shop	道具商人#moc2	99,1750:-1,611:-1,501:-1,502:-1,503:-1,504:-1,506:-1,645:-1,656:-1,601:-1,602:-1,1065:-1,2242:-1
moc_ruins,93,53,2	shop	道具商人#moc3	85,911:-1,528:-1,919:-1
moc_ruins,81,113,0	shop	道具商人#moc4	85,911:-1,528:-1,919:-1
moc_ruins,110,105,2	shop	宝石商人#moc1	102,721:-1,723:-1,726:-1,728:-1,729:-1
moc_ruins,52,85,6	shop	宝石商人#moc2	99,730:-1,2613:-1
moc_ruins,113,126,4	shop	商人#moc1	99,747:-1
moc_ruins,131,138,0	shop	商人#moc2	93,748:-1
moc_ruins,71,139,5	shop	商人#moc3	93,2612:-1
moc_ruins,125,135,6	shop	商人#moc4	89,2609:-1,1516:-1,1522:-1
moc_ruins,87,109,0	shop	肉商人#moc	58,517:-1
moc_ruins,90,149,6	shop	商人#moc5	99,513:-1,513:-1,513:-1,513:-1,513:-1,513:-1
moc_ruins,118,170,4	shop	テイミング商人#moc	125,537:-1,643:-1,10013:-1,10014:-1
morocc_in,141,67,0	shop	武器商人#moc1	58,1750:-1,1751:-1,1701:-1,1601:-1,1201:-1,1204:-1,1207:-1,1210:-1,1213:-1,1216:-1,1219:-1,1222:-1,1250:-1,1252:-1,1254:-1
morocc_in,141,60,0	shop	防具商人#moc	58,2101:-1,2103:-1,2401:-1,2403:-1,2405:-1,2501:-1,2503:-1,2218:-1,2301:-1,2303:-1,2305:-1,2321:-1,2328:-1,2332:-1,2307:-1,2309:-1,2335:-1,2628:-1
morocc_in,132,57,0	shop	武器商人#moc2	99,1146:-1,1245:-1

//=======================================================
// Payon
//=======================================================
payon_in01,15,119,0	shop	武器商人#pay	77,1750:-1,1751:-1,1101:-1,1104:-1,1107:-1,1201:-1,1204:-1,1207:-1,1601:-1,1701:-1,1704:-1,1707:-1,1710:-1,1713:-1,1714:-1,1718:-1
payon_in01,5,129,7	shop	武器商人#pay2	703,1146:-1,1245:-1
payon_in01,7,119,2	shop	防具商人#pay	76,2401:-1,2403:-1,2405:-1,2501:-1,2503:-1,2505:-1,2208:-1,2211:-1,2212:-1,2301:-1,2303:-1,2305:-1,2321:-1,2328:-1,2332:-1,2307:-1,2309:-1,2330:-1,2628:-1
payon_in01,5,49,7	shop	道具商人#pay	88,1750:-1,611:-1,501:-1,502:-1,503:-1,504:-1,506:-1,645:-1,656:-1,601:-1,602:-1,1065:-1
payon_in02,87,34,0	shop	道具商人#pay2	75,1750:-1,1751:-1,611:-1,501:-1,502:-1,503:-1,504:-1,506:-1,645:-1,656:-1,601:-1,602:-1,1065:-1
payon,159,96,4	shop	道具商人#pay3	88,1750:-1,501:-1,645:-1,601:-1,602:-1
payon,177,131,4	shop	テイミング商人#pay	124,537:-1,643:-1,10013:-1,10014:-1

//=======================================================
// Prontera
//=======================================================
prontera,73,134,0	shop	牛乳商人#p	90,519:-1
prontera,104,49,0	shop	果物商人#prt	102,512:-1,513:-1
prontera,64,125,0	shop	肉商人#prt	87,517:-1,528:-1
prontera,58,182,0	shop	花売り少女#prt	96,712:-1,744:-1
prontera,113,42,0	shop	花売り少女#prt1	90,712:-1,744:-1
prontera,105,87,0	shop	プレゼント商人#prt	91,734:-1,735:-1,736:-1,737:-1,746:-1
prontera,218,211,4	shop	テイミング商人#prt	125,537:-1,643:-1,10013:-1,10014:-1,6115:1000,7766:1000,7821:1000,7822:1000,7823:1000,7824:1000,6111:1000,6098:1000,6108:1000,6100:1000,6104:1000,6113:1000,6110:1000,6112:1000,6099:1000,6106:1000,6105:1000,6109:1000,6107:1000,6097:1000,6095:1000,6096:1000,6114:1000
prontera,248,153,0	shop	人形商人#prt	85,740:-1,741:-1,742:-1
prontera,48,58,0	shop	野菜商人#prt	91,515:-1,516:-1,535:-1
prt_in,211,169,0	shop	婚礼品商人#prt	71,744:-1,745:-1,2338:-1,2206:-1,7170:-1

//=======================================================
// Einbroch
//=======================================================
ein_in01,106,27,4	shop	片手武器商人#ein	850,1101:-1,1104:-1,1107:-1,1110:-1,1113:-1,1119:-1,1122:-1,1123:-1,1126:-1,1129:-1,1201:-1,1204:-1,1207:-1,1210:-1,1213:-1,1216:-1,1219:-1,1222:-1,1301:-1,1401:-1,1404:-1,1407:-1,1501:-1,1504:-1,1507:-1,1510:-1,1513:-1,1516:-1,1519:-1,1522:-1,1801:-1,1803:-1,1805:-1,1807:-1,1809:-1,1811:-1
ein_in01,109,27,4	shop	両手武器商人#ein	850,1116:-1,1151:-1,1154:-1,1157:-1,1160:-1,1351:-1,1354:-1,1357:-1,1360:-1,1410:-1,1451:-1,1454:-1,1457:-1,1460:-1,1463:-1,1250:-1,1252:-1,1254:-1
ein_in01,119,26,4	shop	武器商人#ein	855,1247:-1,1248:-1,1249:-1,13000:-1
ein_in01,189,15,1	shop	道具商人#ein	850,1750:-1,1753:-1,611:-1,501:-1,502:-1,503:-1,504:-1,506:-1,645:-1,656:-1,601:-1,602:-1,1065:-1
einbroch,138,66,4	shop	マスク商人#ein	850,5114:-1,2218:-1
einbroch,82,199,4	shop	雑貨商人#ein	855,512:-1,645:-1,1750:-1,501:-1

//=======================================================
// Lighthalzen
//=======================================================
lighthalzen,69,75,5	shop	果物商人#lhz	102,512:-1,513:-1
lighthalzen,112,44,0	shop	花売り少女#lhz	90,712:-1,744:-1,748:-1
lighthalzen,124,129,0	shop	野菜商人#lhz	91,515:-1,516:-1,535:-1
lighthalzen,220,122,3	shop	牛乳商人#l	90,519:-1
lighthalzen,222,191,4	shop	テイミング商人#lhz	125,537:-1,643:-1,10013:-1,10014:-1
lhz_in02,286,95,4	shop	防具商人#lhz	62,5112:-1,2416:-1,2113:-1,2512:-1
lhz_in02,271,99,5	shop	防具商人#lhz2	851,2101:-1,2103:-1,2403:-1,2405:-1,2503:-1,2321:-1,2314:-1,2309:-1,2335:-1,2628:-1
lhz_in02,276,99,4	shop	武器商人#lhz	851,1201:-1,1207:-1,1216:-1,1107:-1,1122:-1,1116:-1,1154:-1,1407:-1,1457:-1,1354:-1,1519:-1,13003:-1
lhz_in02,273,35,4	shop	魔法商人#lhz	854,1601:-1,1604:-1,1607:-1,1617:-1,1619:-1
lhz_in02,105,21,3	shop	宝石商人#lhz	91,721:-1,723:-1,726:-1,728:-1,729:-1,730:-1,2613:-1
lhz_in02,38,145,5	shop	プレゼント商人#lhz	91,734:-1,735:-1,736:-1,737:-1,746:-1
lhz_in02,47,148,3	shop	婚礼品商人#lhz	71,744:-1,745:-1,2338:-1,2206:-1,7170:-1
lhz_in02,31,145,4	shop	道具商人#lhz	90,611:-1,503:-1,504:-1,506:-1,657:-1,656:-1,601:-1,602:-1,1065:-1,610:-1,1770:-1
lhz_in02,85,216,5	shop	人形商人#lhz	862,740:-1,741:-1,742:-1
lhz_in02,87,208,3	shop	おもちゃ商人#lhz	715,2243:-1,2212:-1,2242:-1,2241:-1
lhz_in03,239,106,5	shop	道具商人#lhz2	850,501:-1,502:-1,506:-1,645:-1,656:-1,601:-1,602:-1,1065:-1,611:-1
lhz_in03,258,101,3	shop	矢商人#lhz	855,1750:-1,1770:-1,1752:-1,1751:-1
lhz_in03,249,24,4	shop	道具商人#lhz3	855,911:-1,910:-1,912:-1,528:-1

nif_in,37,93,1	shop	斧商人#nif	801,1301:-1,1351:-1,1354:-1,1357:-1,1360:-1
nif_in,37,84,1	shop	防具商人#nif	801,2501:-1,2501:-1,2503:-1,2503:-1,2505:-1,2505:-1
nif_in,145,23,1	shop	道具商人#nif	801,535:-1,1062:-1,902:-1,7106:-1,537:-1,7154:-1,1052:-1,934:-1

payon,140,151,5	script	セヤブルレム#pay	84,{
	mes "[セヤブルレム]";
	mes "私は一般的な武器や防具に";
	mes "スロットエンチャントが";
	mes "できる技術者です。";
	mes "スロットエンチャントとは、";
	mes "装備品にスロットを追加する";
	mes "技術の事です。";
	next;
	mes "[セヤブルレム]";
	mes "スロットの追加とだけ聞くと";
	mes "簡単そうに思うでしょうが、";
	mes "そんな事はありません。";
	next;
	mes "[セヤブルレム]";
	mes "その証拠に、私以外にこんな技術を";
	mes "持った人がいませんよね？";
	mes "それだけスロットを追加する技術は";
	mes "難しいという事です。";
	next;
	mes "[セヤブルレム]";
	mes "さて、スロットを追加したい";
	mes "装備品はありますか？";
	mes "品によって、手数料や必要な材料、";
	mes "成功確率が違いますのでご注意を。";
	next;
	switch(select("武器","防具","説明を詳しく聞く","話をやめる"))
	{
		case 1:
			mes "[セヤブルレム]";
			mes "OK、武器ですね。";
			mes "武器となると……";
			mes "手数料や材料などによって";
			mes "4階級に分かれています。";
			mes "まず、スロットを追加したいアイテムの";
			mes "階級を選んでください。";
			next;
			switch(select("C級","B級","A級","S級"))
			{
				case 1:
					mes "[セヤブルレム]";
					mes "わかりました。";
					mes "C級のどの武器にしますか？";
					next;
					switch(select("トライデント [2]","ロープ [3]","バイオリン [3]"))
					{
						case 1: callfunc "Func_Socket",1460,1461,40,76,200,1010,10;
						case 2: callfunc "Func_Socket",1950,1951,40,76,200,1010,10;
						case 3: callfunc "Func_Socket",1901,1902,40,76,200,1010,10;
					}
				case 2:
					mes "[セヤブルレム]";
					mes "無難なB級ですね。";
					mes "どの武器にしますか？";
					next;
					switch(select("チェイン [2]","グラディウス [2]","角弓 [1]","パイク [3]","海東剣 [1]","リュート [2]","ワイヤー [2]","バグナウ [3]","アーバレスト [1]"))
					{
						case 1: callfunc "Func_Socket",1519,1520,40,66,300,1010,10;
						case 2: callfunc "Func_Socket",1219,1220,40,66,300, 984, 1,999,5;
						case 3: callfunc "Func_Socket",1714,1716,40,66,300, 984, 2,999,5;
						case 4: callfunc "Func_Socket",1407,1408,40,66,200,1010,10;
						case 5: callfunc "Func_Socket",1123,1128,40,66,300, 984, 2,999,5;
						case 6: callfunc "Func_Socket",1905,1906,40,66,300,1011,10;
						case 7: callfunc "Func_Socket",1954,1955,40,66,300,1011,10;
						case 8: callfunc "Func_Socket",1801,1802,40,66,300,1010,10;
						case 9: callfunc "Func_Socket",1713,1715,40,66,300, 984, 2,999,5;
					}
				case 3:
					mes "[セヤブルレム]";
					mes "A級……少し難しいですね。";
					mes "どの武器にしますか？";
					next;
					switch(select("ハンターボウ [0]","サバイバルロッド(INT) [0]","ツヴァイハンダー [0]","フランベルジェ [0]","裏切り者 [0]","バリスタ [0]","スタナー [0]","ベルセルク [0]","クレイモア [0]"))
					{
						case 1: callfunc "Func_Socket",1718,1726,40,66,500,984,2,999,10;
						case 2: callfunc "Func_Socket",1619,1620,40,66,500,984,5,999,10;
						case 3: callfunc "Func_Socket",1168,1171,40,66,800,984,5,999,10;
						case 4: callfunc "Func_Socket",1129,1149,40,66,500,984,2,999,10;
						case 5: callfunc "Func_Socket",1261,1266,40,66,700,984,5,999,10;
						case 6: callfunc "Func_Socket",1722,1727,40,66,500,984,5,999,10;
						case 7: callfunc "Func_Socket",1522,1532,40,66,500,984,2,999,10;
						case 8: callfunc "Func_Socket",1814,1816,40,66,500,984,5,999,10;
						case 9: callfunc "Func_Socket",1163,1172,40,66,500,984,2,999,10; // NPC says "5 Oridecon" (Aegis) but takes only 2
					}
				case 4:
					mes "[セヤブルレム]";
					mes "え……S級ですか！";
					mes "……どの武器ですか？";
					next;
					switch(select("グングニール [0]","ポイズンナイフ [0]","錐 [0]","スクサマッド [0]","ギンヌンガガップ [0]","カトラス [0]","クレセントサイダー [0]","サバイバルロッド(DEX) [0]"))
					{
						case 1: callfunc "Func_Socket", 1413, 1418,40,56,1000,984,5,999,10;
						case 2: callfunc "Func_Socket", 1239,13016,40,56,1000,984,5,999,10;
						case 3: callfunc "Func_Socket", 1230,13017,40,56,2000,984,5,999,10;
						case 4: callfunc "Func_Socket", 1236,13018,40,56,1000,984,5,999,10;
						case 5: callfunc "Func_Socket",13002,13019,40,56,1000,984,5,999,10;
						case 6: callfunc "Func_Socket", 1135,13400,40,56,1000,984,5,999,10;
						case 7: callfunc "Func_Socket", 1466, 1476,40,56,1000,984,5,999,10;
						case 8: callfunc "Func_Socket", 1617, 1618,40,56,2000,984,5,999,10;
					}
			}
		case 2:
			mes "[セヤブルレム]";
			mes "OK、防具ですね。";
			mes "防具となると……";
			mes "手数料や材料などによって";
			mes "4階級に分かれています。";
			mes "まず、スロットを追加したいアイテムの";
			mes "階級を選んでください。";
			next;
			switch(select("C級","B級","A級","S級"))
			{
				case 1:
					mes "[セヤブルレム]";
					mes "わかりました。";
					mes "C級のどの防具にしますか？";
					next;
					switch(select("メントル [0]","ロングコート [0]","サークレット [0]","ビレタ [0]"))
					{
						case 1: callfunc "Func_Socket",2307,2308,40,76,200,999,3;
						case 2: callfunc "Func_Socket",2309,2310,40,76,200,999,3;
						case 3: callfunc "Func_Socket",2232,2233,40,76,200,999,3;
						case 4: callfunc "Func_Socket",2216,2217,40,76,200,999,3;
					}
				case 2:
					mes "[セヤブルレム]";
					mes "無難なB級ですね。";
					mes "どの防具にしますか？";
					next;
					switch(select("ミラーシールド [0]","メイル [0]","セイントローブ [0]","シルクローブ [0]","ブーツ [0]","シューズ [0]","マフラー [0]","ガード [0]","バックラー [0]","シールド [0]","ボンゴン帽 [0]"))
					{
						case 1:  callfunc "Func_Socket",2107,2108,40,66,250,999,5;
						case 2:  callfunc "Func_Socket",2314,2315,40,66,250,999,5;
						case 3:  callfunc "Func_Socket",2325,2326,40,66,300,999,5;
						case 4:  callfunc "Func_Socket",2321,2322,40,66,300,999,5;
						case 5:  callfunc "Func_Socket",2405,2406,40,66,300,999,5;
						case 6:  callfunc "Func_Socket",2403,2404,40,66,300,999,5;
						case 7:  callfunc "Func_Socket",2503,2504,40,66,300,999,5;
						case 8:  callfunc "Func_Socket",2101,2102,40,66,300,999,5;
						case 9:  callfunc "Func_Socket",2103,2104,40,66,300,999,5;
						case 10: callfunc "Func_Socket",2105,2106,40,66,250,999,5;
						case 11: callfunc "Func_Socket",5046,5168,40,66,250,999,5;
					}
				case 3:
					mes "[セヤブルレム]";
					mes "A級……少し難しいですね。";
					mes "どの防具にしますか？";
					next;
					switch(select("ジュエルヘルム [0]","やわらかい帽子 [0]","メモライズブック [0]","タイツ [0]","フルプレート [0]","プレート [0]","シーフクロース [0]","グリーブ [0]","修道女のヴェール [0]","マント [0]","ヘルム [0]","忍者スーツ [0]","オーク族のヘルム [0]","昔の領主のマント [0]","聖職者の帽子 [0]","ゴールデンヘッドギア [0]","ブローチ [0]","ムナック帽 [0]"))
					{
						case 1:  callfunc "Func_Socket",2230,2231,40,66,400,985,1;
						case 2:  callfunc "Func_Socket",5114,5120,40,66,400,985,1;
						case 3:  callfunc "Func_Socket",2109,2121,40,66,400,985,1;
						case 4:  callfunc "Func_Socket",2330,2331,40,66,400,985,1;
						case 5:  callfunc "Func_Socket",2341,2342,40,66,400,985,1;
						case 6:  callfunc "Func_Socket",2316,2317,40,66,400,985,1;
						case 7:  callfunc "Func_Socket",2335,2336,40,66,400,985,1;
						case 8:  callfunc "Func_Socket",2411,2412,40,66,400,985,1;
						case 9:  callfunc "Func_Socket",5092,5093,40,66,400,985,1;
						case 10: callfunc "Func_Socket",2505,2506,40,66,400,985,1;
						case 11: callfunc "Func_Socket",2228,2229,40,66,400,985,1;
						case 12: callfunc "Func_Socket",2337,2359,40,66,400,985,1;
						case 13: callfunc "Func_Socket",2299,5157,40,66,400,985,1;
						case 14: callfunc "Func_Socket",2507,2525,40,66,400,985,1;
						case 15: callfunc "Func_Socket",2251,5158,40,66,400,985,1;
						case 16: callfunc "Func_Socket",2246,5159,40,66,400,985,1;
						case 17: callfunc "Func_Socket",2605,2625,40,66,400,985,1;
						case 18: callfunc "Func_Socket",2264,5167,40,66,300,985,1;
					}
				case 4:
					mes "[セヤブルレム]";
					mes "え……S級ですか！";
					mes "……どの防具ですか？";
					next;
					switch(select("マジェスティックゴート [0]","シャープヘッドギア [0]","ボーンヘルム [0]","コルセア [0]","クラウン [0]","ティアラ [0]","スフィンクス帽 [0]","キャスティングローブ [0]","イヤリング [0]","リング [0]","弓用の指貫 [0]"))
					{
						case 1:  callfunc "Func_Socket",2256,5160,40,56,2000,985,2;
						case 2:  callfunc "Func_Socket",2258,5161,40,56,2000,985,2;
						case 3:  callfunc "Func_Socket",5017,5162,40,56,2000,985,2;
						case 4:  callfunc "Func_Socket",5019,5163,40,56,2000,985,2;
						case 5:  callfunc "Func_Socket",2235,5165,40,56,2000,985,2;
						case 6:  callfunc "Func_Socket",2234,5164,40,56,2000,985,2;
						case 7:  callfunc "Func_Socket",5053,5166,40,56,1000,985,2;
						case 8:  callfunc "Func_Socket",2343,2360,40,56,1000,985,2;
						case 9:  callfunc "Func_Socket",2602,2622,40,56,1000,985,2;
						case 10: callfunc "Func_Socket",2601,2621,40,56,1000,985,2;
						case 11: callfunc "Func_Socket",2619,2671,40,56,1000,985,2;
					}
			}
		case 3:
			mes "[セヤブルレム]";
			mes "スロットエンチャントとは、";
			mes "装備品にスロットを追加する技術。";
			mes "成否に関わらず材料は全て消滅します。";
			mes "また、例え成功したとしても";
			mes "精錬・カード・属性等の付与効果は";
			mes "全て消滅します。";
			next;
			mes "[セヤブルレム]";
			mes "さらに、一部の装備品だけですが";
			mes "スロットが同時に複数追加されたり、";
			mes "基本性能が変化する物があります。";
			next;
			mes "[セヤブルレム]";
			mes "そして、気をつけなければならない点が";
			mes "一つあります。";
			mes "例えば……「+7マント [0]」と";
			mes "ただの「マント [0]」を持って、";
			mes "私にスロットエンチャントを依頼すると";
			mes "どちらが対象になると思いますか？";
			next;
			mes "[セヤブルレム]";
			mes "正解はわからない……";
			mes "つまり、対象のアイテムが";
			mes "どういった物か、私は一切";
			mes "気にせずに作業するという事です。";
			next;
			mes "[セヤブルレム]";
			mes "^FF0000スロット数以外は、";
			mes "一切関係ありません。";
			mes "例え未鑑定だろうが、";
			mes "破損していようが、";
			mes "スロットエンチャントを行います。^000000";
			next;
			mes "[セヤブルレム]";
			mes "^FF0000しかし、誰かが作った製造品だと";
			mes "スロットの数に関係なく";
			mes "スロットエンチャントの";
			mes "対象アイテムとなります。^000000";
			next;
			mes "[セヤブルレム]";
			mes "^FF0000特定のアイテムだけに";
			mes "スロットエンチャントを";
			mes "行いたいのなら、同じ名前の";
			mes "アイテムを倉庫にでも";
			mes "預けておいた方がいいです。^000000";
			next;
			mes "[セヤブルレム]";
			mes "この事を忘れ、別のアイテムが";
			mes "スロットエンチャントの対象になっても";
			mes "私は一切責任を取りません。";
			mes "十分に注意してください。";
			next;
			mes "[セヤブルレム]";
			mes "他に説明する事は特にありません。";
			mes "百聞は一見にしかず。";
			mes "まずはスロットエンチャントに";
			mes "挑戦してみたらどうですか？";
			close;
		case 4:
			mes "[セヤブルレム]";
			mes "そうですか……";
			close;
	}
}

function	script	Func_Socket	{

	mes "[セヤブルレム]";
	mes getitemname(getarg(0)) + " [" +getiteminfo(getarg(0),10)+ "]ですね。";
	mes "手数料は^FF0000" + (getarg(4) >= 1000 ? (getarg(4)/1000 + ",000") : getarg(4)) + ",000 Zeny^000000、";
	if(getarg(7,0) != 0 && getarg(8,0) != 0) {
		mes "材料は" +getitemname(getarg(5))+getarg(6)+ "個^000000、";
		mes "^FF0000" +getitemname(getarg(7,0))+getarg(8,0)+ "個^000000です。";
	}
	else
		mes "材料は" +getitemname(getarg(5))+getarg(6)+ "個^000000です。";
	mes "もちろん、" +getitemname(getarg(0))+ " [" +getiteminfo(getarg(0),10)+ "]も必要です。";
	next;
	mes "[セヤブルレム]";
	mes "なお、注意点として";
	mes "スロットエンチャントを行うと";
	mes "成否に関わらず材料は全て消滅します。";
	mes "また、例え成功したとしても";
	mes "精錬・カード・属性等の付与効果は";
	mes "全て消滅します。";
	next;
	switch(select("スロットエンチャントを頼む","話をやめる"))
	{
		case 1:
			if ((Zeny >= getarg(4)*1000) && (countitem(getarg(5)) >= getarg(6)) && (countitem(getarg(7,512)) >= getarg(8,0)) && (countitem(getarg(0)) > 0)) // if there's no getarg(7) and getarg(8) provided, check itemcount against 0 (we still need a valid item ID though)
			{
				set .@a, rand(1,100);
				if ((.@a > getarg(2)) && (.@a < getarg(3)))
				{
					specialeffect getarg(3) == 51 ? EF_LORD : EF_SANCTUARY; // only S Class items have Lord of Vermillion effect
					mes "[セヤブルレム]";
					mes "OK、成功しました。";
					mes "おめでとうございます。";
					delitem getarg(0),1;
					delitem getarg(5),getarg(6);
					if (getarg(7,0) != 0 && getarg(8,0) != 0)
						delitem getarg(7),getarg(8);
					set Zeny, Zeny - getarg(4)*1000;
					getitem getarg(1),1;
					next;
					mes "[セヤブルレム]";
					mes "それでは、またご利用ください。";
					close;
				}
				else
				{
					specialeffect EF_SUI_EXPLOSION;
					mes "[セヤブルレム]";
					mes "う……失敗です。";
					mes "どうやら運が無かったようです。";
					mes "……そう落ち込まないでください。";
					mes "今度はきっと成功しますよ。";
					delitem getarg(0),1;
					delitem getarg(5),getarg(6);
					if (getarg(7,0) != 0 && getarg(8,0) != 0)
						delitem getarg(7),getarg(8);
					set Zeny, Zeny - getarg(4)*1000;
					next;
					mes "[セヤブルレム]";
					mes "それでは、またご利用ください。";
					close;
				}
			}
			else
			{
				mes "[セヤブルレム]";
				mes "材料かお金が足りませんよ？";
				close;
			}
		case 2:
			mes "[セヤブルレム]";
			mes "また来てください。";
			close;
	}
}

lhz_in02,281,35,5	duplicate(セヤブルレム#pay)	セヤブルレム#lhz	84
prt_in,33,70,5	duplicate(セヤブルレム#pay)	セヤブルレム#prt	84
morocc,51,41,4	duplicate(セヤブルレム#pay)	セヤブルレム#moc	84

prt_in,31,57,1	script	青年#prt	97,{
	mes "[青年]";
	mes "気をつけてください。";
	mes "スロットエンチャントを行うと、";
	mes "装備品に付与された効果は";
	mes "消えてしまいます。";
	next;
	mes "[青年]";
	mes "また、スロットエンチャントの";
	mes "副作用により、基本性能が";
	mes "変化する装備品もあります。";
	next;
	mes "[青年]";
	mes "そして、とても珍しい事ですが、";
	mes "スロットが複数追加される";
	mes "装備品があります。";
	mes "もちろん、全ての装備品で";
	mes "起きる事ではありません。";
	mes "あくまで一部の装備品のみです。";
	next;
	mes "[青年]";
	mes "私も今から勉強して、";
	mes "セヤブルレムさんのように";
	mes "スロットを追加する技術を";
	mes "身につけたいです。";
	close;
}

payon,143,143,7	duplicate(青年#prt)	青年#pay	97
morocc,60,42,3	duplicate(青年#prt)	青年#moc	97
lhz_in02,269,33,5	duplicate(青年#prt)	青年#lhz	97

payon,236,199,3	script	レアブルレム	86,{
	mes "[レアブルレム]";
	mes "私は一般的な武器や防具に";
	mes "スロットエンチャントが";
	mes "できる技術者です。";
	mes "スロットエンチャントとは、";
	mes "装備品にスロットを追加する";
	mes "技術の事です。";
	next;
	mes "[レアブルレム]";
	mes "兄であるセヤブルレムに";
	mes "技術指導をして貰っているので";
	mes "大抵の事は出来ます。";
	next;
	mes "[レアブルレム]";
	mes "まあ、……兄と比べると";
	mes "出来る事は少ないのですが。";
	next;
	mes "[レアブルレム]";
	mes "兄は技術を教えてくれながら";
	mes "私の個性が消えないように";
	mes "非常に気を配ってくれまして。";
	mes "お陰で、私にしか出来ない";
	mes "特別なスロットエンチャントも";
	mes "習得しました。";
	next;
	mes "[レアブルレム]";
	mes "兄は余りにも危険だから、と";
	mes "特別なスロットエンチャントは";
	mes "お気に召さなかったようですが……";
	next;
	mes "[レアブルレム]";
	mes "さて、スロットを追加したい";
	mes "装備品はありますか？";
	mes "品によって、手数料や必要な材料、";
	mes "成功確率が違いますのでご注意を。";
	next;
	switch(select("武器","防具","特別なスロットエンチャント？","説明を詳しく聞く","話をやめる"))
	{
		case 1:
			mes "[レアブルレム]";
			mes "OK、武器ですね。";
			mes "武器となると……";
			mes "手数料や材料などによって";
			mes "4階級に分かれています。";
			mes "まず、スロットを追加したいアイテムの";
			mes "階級を選んでください。";
			next;
			switch(select("C級","B級","A級","S級"))
			{
				case 1:
					mes "[レアブルレム]";
					mes "わかりました。";
					mes "C級のどの武器にしますか？";
					next;
					switch(select("裂けた大地の書","荒れ狂う波の書","乾いてる風の書","燃える太陽の書"))
					{
						case 1: callfunc "Func_Socket2",1554,1569,40,76,200,1010,10;
						case 2: callfunc "Func_Socket2",1553,1568,40,76,200,1010,10;
						case 3: callfunc "Func_Socket2",1556,1571,40,76,200,1010,10;
						case 4: callfunc "Func_Socket2",1555,1570,40,76,200,1010,10;
					}
				case 2:
					mes "[レアブルレム]";
					mes "無難なB級ですね。";
					mes "どの武器にしますか？";
					next;
					switch(select("オーキッシュアックス","シミター","スパイク"))
					{
						case 1: callfunc "Func_Socket2",1304,1309,40,66,200,984,1;
						case 2: callfunc "Func_Socket2",1113,1114,40,66,200,984,1;
						case 3: callfunc "Func_Socket2",1523,1538,40,66,300,984,1;
					}
				case 3:
					mes "[レアブルレム]";
					mes "A級……少し難しいですね。";
					mes "どの武器にしますか？";
					next;
					switch(select("ドラゴンキラー","尖ってるいばらのカタール","爆炎のカタール","冷たい氷柱のカタール","疾風のカタール","ゴールデンメイス","琵琶","女王の鞭","妖怪の槍","ゲイボルグ","シュバイチェルサーベル"))
					{
						case 1:  callfunc "Func_Socket2",13001,13030,40,66,500,984,2;
						case 2:  callfunc "Func_Socket2", 1257, 1276,40,66,500,984,2;
						case 3:  callfunc "Func_Socket2", 1258, 1277,40,66,500,984,2;
						case 4:  callfunc "Func_Socket2", 1256, 1275,40,66,500,984,2;
						case 5:  callfunc "Func_Socket2", 1259, 1278,40,66,500,984,2;
						case 6:  callfunc "Func_Socket2", 1524, 1539,40,66,500,984,2;
						case 7:  callfunc "Func_Socket2", 1918, 1922,40,66,500,984,2;
						case 8:  callfunc "Func_Socket2", 1970, 1976,40,66,500,984,2;
						case 9:  callfunc "Func_Socket2", 1477, 1479,40,66,500,984,2;
						case 10: callfunc "Func_Socket2", 1474, 1480,40,66,500,984,2;
						case 11: callfunc "Func_Socket2", 1167, 1178,40,66,500,984,2;
					}
				case 4:
					mes "[レアブルレム]";
					mes "え……S級ですか！";
					mes "……どの武器ですか？";
					next;
					switch(select("ゼピュロス","メイルブレイカー","ドラゴンスレイヤー","ソードブレイカー","アサシンダガー","グランドクロス","エクスキューショナー"))
					{
						case 1: callfunc "Func_Socket2",1468, 1481,40,56,1000,984,5,999,10;
						case 2: callfunc "Func_Socket2",1225,13032,40,56,1000,984,5,999,10;
						case 3: callfunc "Func_Socket2",1166, 1180,40,56,1000,984,5,999,10;
						case 4: callfunc "Func_Socket2",1224,13031,40,56,1000,984,5,999,10;
						case 5: callfunc "Func_Socket2",1232,13033,40,56,1000,984,5,999,10;
						case 6: callfunc "Func_Socket2",1528, 1540,40,56,1000,984,5,999,10;
						case 7: callfunc "Func_Socket2",1169, 1179,40,56,1000,984,5,999,10;
					}
			}
		case 2:
			mes "[レアブルレム]";
			mes "OK、防具ですね。";
			mes "防具となると……";
			mes "手数料や材料などによって";
			mes "4階級に分かれています。";
			mes "まず、スロットを追加したいアイテムの";
			mes "階級を選んでください。";
			next;
			switch(select("C級","B級","A級","S級"))
			{
				case 1:
					mes "[レアブルレム]";
					mes "わかりました。";
					mes "C級のどの防具にしますか？";
					next;
					switch(select("装飾用ひまわり","学者帽","大きなリボン","学生帽"))
					{
						case 1: callfunc "Func_Socket2",2253,5351,40,76,100,999,3;
						case 2: callfunc "Func_Socket2",5012,5347,40,76,100,999,3;
						case 3: callfunc "Func_Socket2",2244,5348,40,76,100,999,5;
						case 4: callfunc "Func_Socket2",5016,5349,40,76,100,999,5;
					}
				case 2:
					mes "[レアブルレム]";
					mes "無難なB級ですね。";
					mes "どの防具にしますか？";
					next;
					switch(select("骸骨の指輪","ハイヒール"))
					{
						case 1: callfunc "Func_Socket2",2609,2715,40,66,300,999,5;
						case 2: callfunc "Func_Socket2",2409,2432,40,66,300,999,5;
					}
				case 3:
					mes "[レアブルレム]";
					mes "A級……少し難しいですね。";
					mes "どの防具にしますか？";
					next;
					switch(select("海賊の頭巾","黒革のブーツ"))
					{
						case 1: callfunc "Func_Socket2",2287,5350,40,66,500,985,1; // 50,61 - it's not a typo
						case 2: callfunc "Func_Socket2",2425,2434,40,66,500,985,1;
					}
				case 4:
					mes "[レアブルレム]";
					mes "え……S級ですか！";
					mes "……どの防具ですか？";
					next;
					switch(select("マジックコート","ホーリーローブ","神の使者","ランニングシャツ","ブリーフ"))
					{
						case 1: callfunc "Func_Socket2",2334,2372,40,56,1000,985,1; // Mage Coat has 10% success chance
						case 2: callfunc "Func_Socket2",2327,2373,40,56,1000,985,1; // the rest has 5%
						case 3: callfunc "Func_Socket2",2111,2128,40,56,1000,985,1;
						case 4: callfunc "Func_Socket2",2522,2523,40,56,1000,985,1;
						case 5: callfunc "Func_Socket2",2339,2371,40,56,1000,985,1;
					}
			}
		case 3:
			mes "[レアブルレム]";
			mes "ええ。";
			mes "兄が言うには、人間が行っていい行為";
			mes "ではないと。";
			mes "神に対する不遜な行いらしいです。";
			next;
			mes "[レアブルレム]";
			mes "成功率はとても高いのですが、";
			mes "材料も作業にかかる手数料も莫大で、";
			mes "依頼する人もいるのかどうか……";
			mes "正直、疑問です。";
			next;
			mes "[レアブルレム]";
			mes "…………";
			next;
			mes "[レアブルレム]";
			mes "…………";
			next;
			mes "[レアブルレム]";
			mes "…………";
			next;
			mes "[レアブルレム]";
			mes "興味があるんですね？";
			mes "まあ、説明くらいなら……";
			mes "ただし、兄には秘密でお願いしますよ？";
			mes "私がこんな話をしたことがバレたら";
			mes "酷い目に会わされてしまいますから！";
			next;
			mes "[レアブルレム]";
			mes "成功率は 90%、黄金 2個、";
			mes "2億Zenyもの大金がかかります。";
			next;
			mes "[レアブルレム]";
			mes "その技術とは……";
			mes "あの太陽神の兜にスロットを追加する";
			mes "という超絶技術なのです!!";
			next;
			switch(select("スロットエンチャントを頼む","話をやめる"))
			{
				case 1:
					mes "[レアブルレム]";
					mes "…………";
					next;
					mes "[レアブルレム]";
					mes "…………";
					next;
					mes "[レアブルレム]";
					mes "私の話を聞いていました？";
					mes "これは、タブー行為なんですよ！";
					mes "やってはいけないのです！";
					next;
					mes "[レアブルレム]";
					mes "やりませんよ！";
					next;
					mes "[レアブルレム]";
					mes "やりませんってば！";
					next;
					mes "[レアブルレム]";
					mes "……やりません。";
					next;
					mes "[レアブルレム]";
					mes "…………";
					next;
					mes "[レアブルレム]";
					mes "……";
					next;
					mes "[レアブルレム]";
					mes "…………うーん。";
					mes "わかりました！";
					mes "今回だけは、例外ですよ！";
					next;
					mes "[レアブルレム]";
					mes "太陽神の兜ですね。";
					mes "手数料は^FF0000 2億Zeny^000000、";
					mes "材料は^FF0000黄金 2個^000000です。";
					mes "もちろん、太陽神の兜[0]も";
					mes "必要です。";
					next;
					mes "[レアブルレム]";
					mes "なお、注意点として";
					mes "スロットエンチャントを行うと";
					mes "成否に関わらず材料は全て消滅します。";
					mes "また、例え成功したとしても";
					mes "精錬・カード・属性等の付与効果は";
					mes "全て消滅します。";
					next;
					if(select("スロットエンチャントを頼む","話をやめる")==2) {
						mes "[レアブルレム]";
						mes "また来てください。";
						close;
					}
					if ((Zeny > 199999999) && (countitem(969) > 1) && (countitem(5022) > 0))
					{
						set .@a, rand(1,100);
						if ((.@a > 4) && (.@a < 95))
						{
							specialeffect EF_LORD;
							mes "[レアブルレム]";
							mes "OK、成功しました。";
							mes "おめでとうございます。";
							delitem 5022,1; //Helm_Of_Sun
							delitem 969,2; //Gold
							set Zeny, Zeny - 200000000;
							getitem 5353,1; //Helm_Of_Sun_
							next;
							mes "[レアブルレム]";
							mes "それでは、またご利用ください。";
							close;
						}
						else
						{
							specialeffect EF_SUI_EXPLOSION;
							mes "[レアブルレム]";
							mes "う……失敗です。";
							mes "どうやら運が無かったようです。";
							mes "……そう落ち込まないでください。";
							mes "今度はきっと成功しますよ。";
							delitem 5022,1; //Helm_Of_Sun
							delitem 969,2; //Gold
							set Zeny, Zeny - 200000000;
							next;
							mes "[レアブルレム]";
							mes "それでは、またご利用ください。";
							close;
						}
					}
					else
					{
						mes "[レアブルレム]";
						mes "材料かお金が足りませんよ？";
						close;
					}
				case 2:
					mes "[レアブルレム]";
					mes "また来てください。";
					close;
			}
		case 4:
			mes "[レアブルレム]";
			mes "スロットエンチャントとは、";
			mes "装備品にスロットを追加する技術。";
			mes "成否に関わらず材料は全て消滅します。";
			mes "また、例え成功したとしても";
			mes "精錬・カード・属性等の付与効果は";
			mes "全て消滅します。";
			next;
			mes "[レアブルレム]";
			mes "さらに、一部の装備品だけですが";
			mes "スロットが同時に複数追加されたり、";
			mes "基本性能が変化する物があります。";
			next;
			mes "[レアブルレム]";
			mes "そして、気をつけなければならない点が";
			mes "一つあります。";
			mes "例えば……「+7マント [0]」と";
			mes "ただの「マント [0]」を持って、";
			mes "私にスロットエンチャントを依頼すると";
			mes "どちらが対象になると思いますか？";
			next;
			mes "[レアブルレム]";
			mes "正解はわからない……";
			mes "つまり、対象のアイテムが";
			mes "どういった物か、私は一切";
			mes "気にせずに作業するという事です。";
			next;
			mes "[レアブルレム]";
			mes "^FF0000スロット数以外は、";
			mes "一切関係ありません。";
			mes "例え未鑑定だろうが、";
			mes "破損していようが、";
			mes "スロットエンチャントを行います。^000000";
			next;
			mes "[レアブルレム]";
			mes "^FF0000しかし、誰かが作った製造品だと";
			mes "スロットの数に関係なく";
			mes "スロットエンチャントの";
			mes "対象アイテムとなります。^000000";
			next;
			mes "[レアブルレム]";
			mes "^FF0000特定のアイテムだけに";
			mes "スロットエンチャントを";
			mes "行いたいのなら、同じ名前の";
			mes "アイテムを倉庫にでも";
			mes "預けておいた方がいいです。^000000";
			next;
			mes "[レアブルレム]";
			mes "この事を忘れ、別のアイテムが";
			mes "スロットエンチャントの対象になっても";
			mes "私は一切責任を取りません。";
			mes "十分に注意してください。";
			next;
			mes "[レアブルレム]";
			mes "他に説明する事は特にありません。";
			mes "百聞は一見にしかず。";
			mes "まずはスロットエンチャントに";
			mes "挑戦してみたらどうですか？";
			close;
		case 5:
			mes "[レアブルレム]";
			mes "そうですか……";
			close;
	}
}

lighthalzen,96,137,3	duplicate(レアブルレム)	レアブルレム#lhz	86
prontera,244,169,5	duplicate(レアブルレム)	レアブルレム#prt	86
moc_ruins,154,86,3	duplicate(レアブルレム)	レアブルレム#moc	86

function	script	Func_Socket2	{

	mes "[レアブルレム]";
	mes getitemname(getarg(0))+ "ですか。";
	mes "手数料は^FF0000" + (getarg(4) >= 1000 ? (getarg(4)/1000 + ",000") : getarg(4)) + ",000 Zeny^000000、";
	if(getarg(7,0) != 0 && getarg(8,0) != 0) {
		mes "材料は" +getitemname(getarg(5))+getarg(6)+ "個^000000、";
		mes "^FF0000" +getitemname(getarg(7,0))+getarg(8,0)+ "個^000000です。";
	}
	else
		mes "材料は" +getitemname(getarg(5))+getarg(6)+ "個^000000です。";
	mes "もちろん、" +getitemname(getarg(0))+ " [" +getiteminfo(getarg(0),10)+ "]も必要です。";
	next;
	mes "[レアブルレム]";
	mes "なお、注意点として";
	mes "スロットエンチャントを行うと";
	mes "成否に関わらず材料は全て消滅します。";
	mes "また、例え成功したとしても";
	mes "精錬・カード・属性等の付与効果は";
	mes "全て消滅します。";
	next;
	switch(select("スロットエンチャントを頼む","話をやめる"))
	{
		case 1:
			if ((Zeny >= getarg(4)*1000) && (countitem(getarg(5)) >= getarg(6)) && (countitem(getarg(7,512)) >= getarg(8,0)) && (countitem(getarg(0)) > 0)) // if there's no getarg(7) and getarg(8) provided, check itemcount against 0 (we still need a valid item ID though)
			{
				set .@a, rand(1,100);
				if ((.@a > getarg(2)) && (.@a < getarg(3)))
				{
					specialeffect EF_LORD;
					mes "[レアブルレム]";
					mes "OK、成功しました。";
					mes "おめでとうございます。";
					delitem getarg(0),1;
					delitem getarg(5),getarg(6);
					if (getarg(7,0) != 0 && getarg(8,0) != 0)
						delitem getarg(7),getarg(8);
					set Zeny, Zeny - getarg(4)*1000;
					getitem getarg(1),1;
					next;
					mes "[レアブルレム]";
					mes "それでは、またご利用ください。";
					close;
				}
				else
				{
					specialeffect EF_SUI_EXPLOSION;
					mes "[レアブルレム]";
					mes "う……失敗です。";
					mes "どうやら運が無かったようです。";
					mes "……そう落ち込まないでください。";
					mes "今度はきっと成功しますよ。";
					delitem getarg(0),1;
					delitem getarg(5),getarg(6);
					if (getarg(7,0) != 0 && getarg(8,0) != 0)
						delitem getarg(7),getarg(8);
					set Zeny, Zeny - getarg(4)*1000;
					next;
					mes "[レアブルレム]";
					mes "それでは、またご利用ください。";
					close;
				}
			}
			else
			{
				mes "[レアブルレム]";
				mes "材料かお金が足りませんよ？";
				close;
			}
		case 2:
			mes "[レアブルレム]";
			mes "また来てください。";
			close;
	}
}
prontera,79,104,6	script	プロブルレム#prt	97,{
	mes "[プロブルレム]";
	mes "私は異世界の技術を使い";
	mes "防具にスロットエンチャントが";
	mes "できる技術者です。";
	mes "スロットエンチャントとは、";
	mes "装備品にスロットを追加する";
	mes "技術の事です。";
	next;
	mes "[プロブルレム]";
	mes "さて、スロットを追加したい";
	mes "装備品はありますか？";
	mes "品によって、手数料や必要な材料、";
	mes "成功確率が違いますのでご注意を。";
	next;
	switch(select("お願いする","説明を詳しく聞く","話をやめる")){
	case 1:
		mes "[プロブルレム]";
		mes "手数料や材料などによって";
		mes "4階級に分かれています。";
		mes "まず、スロットを追加したいアイテムの";
		mes "階級を選んでください。";
		next;
		switch(select("C級","B級","A級","S級","特殊")){
		case 1:
			mes "[プロブルレム]";
			mes "わかりました。";
			mes "C級のどの防具にしますか？";
			next;
			switch(select("マグニキャップ [0]","フレイシューズ [0]","駆魔の聖書 [0]","ゴヴニュの軍靴 [0]")){
			case 1: callfunc "Func_Socket3",5122,18594,40,76,100,999,30;
			case 2: callfunc "Func_Socket3",2417,2488,40,76,200,999,50;
			case 3: callfunc "Func_Socket3",2129,2166,40,76,200,999,50;
			case 4: callfunc "Func_Socket3",2419,2493,40,76,50,999,10;
			}
		case 2:
			mes "[プロブルレム]";
			mes "無難なB級ですね。";
			mes "どの防具にしますか？";
			next;
			switch(select("シャドウウォーカー [0]","ぼろマント [0]","クリティカルリング [0]")){
			case 1: callfunc "Func_Socket3",2426,2486,40,66,400,985,15;
			case 2: callfunc "Func_Socket3",2508,2588,40,66,500,985,20;
			case 3: callfunc "Func_Socket3",2616,2943,40,66,500,985,20;
			}
		case 3:
			mes "[プロブルレム]";
			mes "A級……少し難しいですね。";
			mes "どの防具にしますか？";
			next;
			switch(select("ヴィダルのブーツ [0]","セフィロトシューズ [0]","モリガンのベルト [0]","モルフェウスの腕輪 [0]","ゴヴニュの肩飾り [0]")){
			case 1: callfunc "Func_Socket3",2418,2489,40,66,700,985,30;
			case 2: callfunc "Func_Socket3",2450,2487,40,66,700,985,30;
			case 3: callfunc "Func_Socket3",2650,2900,40,66,800,985,50;
			case 4: callfunc "Func_Socket3",2649,2903,40,66,800,985,50;
			case 5: callfunc "Func_Socket3",2520,2599,40,61,800,985,50;
			}
		case 4:
			mes "[プロブルレム]";
			mes "え……S級ですか！";
			mes "……どの防具ですか？";
			next;
			switch(select("モリガンのペンダント [0]","モルフェウスの指輪 [0]","エベシ嵐のうねり [0]","クレイトス大地の裂け目 [0]","シャピニハ海の叫び [0]","ルシウス火山の激しさ [0]","ルーンブーツ [0]","ガラスの靴 [0]","大型マジェスティックゴート [0]")){
			case 1: callfunc "Func_Socket3",2651,2901,40,56,1000,6223,1;
			case 2: callfunc "Func_Socket3",2648,2902,40,56,1000,6223,1;
			case 3: callfunc "Func_Socket3",2348,2349,40,51,2000,6223,2;
			case 4: callfunc "Func_Socket3",2350,2351,40,51,2000,6223,2;
			case 5: callfunc "Func_Socket3",2346,2347,40,51,2000,6223,2;
			case 6: callfunc "Func_Socket3",2344,2345,40,51,2000,6223,2;
			case 7: callfunc "Func_Socket3",2481,2490,40,56,3000,969,1;
			case 8: callfunc "Func_Socket3",2407,2494,40,51,1000,6223,1;
			case 9: callfunc "Func_Socket3",5374,18724,40,51,20000,969,20;
			}
		case 5:
			mes "[プロブルレム]";
			mes "う……特殊ですか……";
			mes "……どの防具ですか……？";
			next;
			switch(select("ノービス銀色指輪 [0]","ナイト銀色指輪 [0]","プリースト銀色指輪 [0]","ウィザード銀色指輪 [0]","ブラックスミス銀色指輪 [0]","ハンター銀色指輪 [0]",
				"アサシン銀色指輪 [0]","クルセイダー銀色指輪 [0]","モンク銀色指輪 [0]","セージ銀色指輪 [0]","ローグ銀色指輪 [0]","アルケミスト銀色指輪 [0]",
				"バードダンサー銀色指輪 [0]","ガンスリンガー銀色指輪 [0]","忍者銀色指輪 [0]","テコンキッド銀色指輪 [0]","拳聖銀色指輪 [0]","ソウルリンカー銀色指輪 [0]")){
			case 1: callfunc "Func_Socket3",28739,28757,40,56,5000,6223,5;
			case 2: callfunc "Func_Socket3",28740,28758,40,56,5000,6223,5;
			case 3: callfunc "Func_Socket3",28741,28759,40,56,5000,6223,5;
			case 4: callfunc "Func_Socket3",28742,28760,40,56,5000,6223,5;
			case 5: callfunc "Func_Socket3",28743,28761,40,56,5000,6223,5;
			case 6: callfunc "Func_Socket3",28744,28762,40,56,5000,6223,5;
			case 7: callfunc "Func_Socket3",28745,28763,40,56,5000,6223,5;
			case 8: callfunc "Func_Socket3",28746,28764,40,56,5000,6223,5;
			case 9: callfunc "Func_Socket3",28747,28765,40,56,5000,6223,5;
			case 10: callfunc "Func_Socket3",28748,28766,40,56,5000,6223,5;
			case 11: callfunc "Func_Socket3",28749,28767,40,56,5000,6223,5;
			case 12: callfunc "Func_Socket3",28750,28768,40,56,5000,6223,5;
			case 13: callfunc "Func_Socket3",28751,28769,40,56,5000,6223,5;
			case 14: callfunc "Func_Socket3",28752,28770,40,56,5000,6223,5;
			case 15: callfunc "Func_Socket3",28753,28771,40,56,5000,6223,5;
			case 16: callfunc "Func_Socket3",28754,28772,40,56,5000,6223,5;
			case 17: callfunc "Func_Socket3",28755,28773,40,56,5000,6223,5;
			case 18: callfunc "Func_Socket3",28756,28774,40,56,5000,6223,5;
			}
		}
	case 2:
		mes "[プロブルレム]";
		mes "スロットエンチャントとは、";
		mes "装備品にスロットを追加する技術。";
		mes "成否に関わらず材料は全て消滅します。";
		mes "また、例え成功したとしても";
		mes "精錬・カード・属性等の付与効果は";
		mes "全て消滅します。";
		next;
		mes "[プロブルレム]";
		mes "さらに、一部の装備品だけですが";
		mes "スロットが同時に複数追加されたり、";
		mes "基本性能が変化する物があります。";
		next;
		mes "[プロブルレム]";
		mes "そして、気をつけなければならない点が";
		mes "一つあります。";
		mes "例えば……「+7マント [0]」と";
		mes "ただの「マント [0]」を持って、";
		mes "私にスロットエンチャントを依頼すると";
		mes "どちらが対象になると思いますか？";
		next;
		mes "[プロブルレム]";
		mes "正解はわからない……";
		mes "つまり、対象のアイテムが";
		mes "どういった物か、私は一切";
		mes "気にせずに作業するという事です。";
		next;
		mes "[プロブルレム]";
		mes "^FF0000スロット数以外は、";
		mes "一切関係ありません。";
		mes "例え未鑑定だろうが、";
		mes "破損していようが、";
		mes "スロットエンチャントを行います。^000000";
		next;
		mes "[プロブルレム]";
		mes "^FF0000しかし、誰かが作った製造品だと";
		mes "スロットの数に関係なく";
		mes "スロットエンチャントの";
		mes "対象アイテムとなります。^000000";
		next;
		mes "[プロブルレム]";
		mes "^FF0000特定のアイテムだけに";
		mes "スロットエンチャントを";
		mes "行いたいのなら、同じ名前の";
		mes "アイテムを倉庫にでも";
		mes "預けておいた方がいいです。^000000";
		next;
		mes "[プロブルレム]";
		mes "この事を忘れ、別のアイテムが";
		mes "スロットエンチャントの対象になっても";
		mes "私は一切責任を取りません。";
		mes "十分に注意してください。";
		next;
		mes "[プロブルレム]";
		mes "他に説明する事は特にありません。";
		mes "百聞は一見にしかず。";
		mes "まずはスロットエンチャントに";
		mes "挑戦してみたらどうですか？";
		close;
	case 3:
		mes "[プロブルレム]";
		mes "そうですか……";
		close;
	}
}

function	script	Func_Socket3	{
	mes "[プロブルレム]";
	mes getitemname(getarg(0)) + " [" +getiteminfo(getarg(0),10)+ "]ですね。";
	mes "手数料は^FF0000" + (getarg(4) >= 1000 ? (getarg(4)/1000 + ",000") : getarg(4)) + ",000 Zeny^000000、";
	mes "材料は" +getitemname(getarg(5))+getarg(6)+ "個^000000です。";
	mes "もちろん、" +getitemname(getarg(0))+ " [" +getiteminfo(getarg(0),10)+ "]も必要です。";
	next;
	mes "[プロブルレム]";
	mes "なお、注意点として";
	mes "スロットエンチャントを行うと";
	mes "成否に関わらず材料は全て消滅します。";
	mes "また、例え成功したとしても";
	mes "精錬・カード・属性等の付与効果は";
	mes "全て消滅します。";
	next;
	switch(select("スロットエンチャントを頼む","話をやめる")){
	case 1:
		if ((Zeny >= getarg(4)*1000) && (countitem(getarg(5)) >= getarg(6)) && (countitem(getarg(7,512)) >= getarg(8,0)) && (countitem(getarg(0)) > 0)) // if there's no getarg(7) and getarg(8) provided, check itemcount against 0 (we still need a valid item ID though)
		{
			set .@a, rand(1,100);
			if ((.@a > getarg(2)) && (.@a < getarg(3)))
			{
				specialeffect getarg(3) == 51 ? EF_LORD : EF_SANCTUARY; // only S Class items have Lord of Vermillion effect
				mes "[プロブルレム]";
				mes "OK、成功しました。";
				mes "おめでとうございます。";
				delitem getarg(0),1;
				delitem getarg(5),getarg(6);
				if (getarg(7,0) != 0 && getarg(8,0) != 0)
					delitem getarg(7),getarg(8);
				set Zeny, Zeny - getarg(4)*1000;
				getitem getarg(1),1;
				next;
				mes "[プロブルレム]";
				mes "それでは、またご利用ください。";
				close;
			}
			else
			{
				specialeffect EF_SUI_EXPLOSION;
				mes "[プロブルレム]";
				mes "う……失敗です。";
				mes "どうやら運が無かったようです。";
				mes "……そう落ち込まないでください。";
				mes "今度はきっと成功しますよ。";
				delitem getarg(0),1;
				delitem getarg(5),getarg(6);
				if (getarg(7,0) != 0 && getarg(8,0) != 0)
					delitem getarg(7),getarg(8);
				set Zeny, Zeny - getarg(4)*1000;
				next;
				mes "[プロブルレム]";
				mes "それでは、またご利用ください。";
				close;
			}
		}
		else
		{
			mes "[プロブルレム]";
			mes "材料かお金が足りませんよ？";
			close;
		}
	case 2:
		mes "[プロブルレム]";
		mes "また来てください。";
		close;
	}
}
prontera,77,102,6	script	アラブルレム#prt	97,{
	mes "[アラブルレム]";
	mes "私は異世界の技術を使い";
	mes "武器にスロットエンチャントが";
	mes "できる技術者です。";
	mes "スロットエンチャントとは、";
	mes "装備品にスロットを追加する";
	mes "技術の事です。";
	next;
	mes "[アラブルレム]";
	mes "さて、スロットを追加したい";
	mes "装備品はありますか？";
	mes "品によって、手数料や必要な材料、";
	mes "成功確率が違いますのでご注意を。";
	next;
	switch(select("お願いする","説明を詳しく聞く","話をやめる")){
	case 1:
		mes "[アラブルレム]";
		mes "手数料や材料などによって";
		mes "4階級に分かれています。";
		mes "まず、スロットを追加したいアイテムの";
		mes "階級を選んでください。";
		next;
		switch(select("C級","B級","A級","S級")){
		case 1:
			mes "[アラブルレム]";
			mes "わかりました。";
			mes "C級のどの武器にしますか？";
			next;
			switch(select("骸骨の杖 [0]","ファイアーブランド [0]","アイスファルシオン [0]","オーキッシュソード [0]","治癒の杖 [0]")){
			case 1: callfunc "Func_Socket4",1615,1662,40,71,100,999,30;
			case 2: callfunc "Func_Socket4",1133,13435,40,71,200,999,50;
			case 3: callfunc "Func_Socket4",1131,13436,40,71,200,999,50;
			case 4: callfunc "Func_Socket4",1124,13437,40,71,100,999,30;
			case 5: callfunc "Func_Socket4",1625,1666,40,71,200,999,50;
			}
		case 2:
			mes "[アラブルレム]";
			mes "無難なB級ですね。";
			mes "どの武器にしますか？";
			next;
			switch(select("ネメシス [0]","カウンターダガー [0]","ブラディウムハンマー [0]","ドラゴンの遺産 [0]","アイボリーナイフ [2]")){
			case 1: callfunc "Func_Socket4",1541,16022,40,61,300,984,3;
			case 2: callfunc "Func_Socket4",1242,13073,40,61,400,984,5;
			case 3: callfunc "Func_Socket4",1385,1397,40,61,500,984,10;
			case 4: callfunc "Func_Socket4",1559,1589,40,61,300,984,3;
			case 5: callfunc "Func_Socket4",13039,13082,40,61,400,984,5;
			}
		case 3:
			mes "[アラブルレム]";
			mes "A級……少し難しいですね。";
			mes "どの武器にしますか？";
			next;
			switch(select("スタッフオブオルド [0]","ブラッディティアーズ [2]","ディバインクロス [0]","インバーススケイル [0]","スタッフオブピアーシング [0]")){
			case 1: callfunc "Func_Socket4",1648,1663,40,56,700,6224,5;
			case 2: callfunc "Func_Socket4",1271,1295,40,56,800,6224,10;
			case 3: callfunc "Func_Socket4",2001,2017,40,56,800,6224,10;
			case 4: callfunc "Func_Socket4",1269,1297,40,56,700,6224,5;
			case 5: callfunc "Func_Socket4",1626,1665,40,56,800,6224,10;
			}
		case 4:
			mes "[アラブルレム]";
			mes "え……S級ですか！";
			mes "……どの武器ですか？";
			next;
			switch(select("村正 [0]","アルカブリンガー [0]","茨の杖 [0]","オークアーチャーの弓 [0]","カドリール [0]")){
			case 1: callfunc "Func_Socket4",1164,21003,40,51,1000,6224,15;
			case 2: callfunc "Func_Socket4",1191,21004,40,51,1000,6224,15;
			case 3: callfunc "Func_Socket4",1636,1664,40,51,2000,6224,20;
			case 4: callfunc "Func_Socket4",1734,18115,40,51,2000,6224,20;
			case 5: callfunc "Func_Socket4",1527,16024,40,51,1000,6224,15;
			}
		}
	case 2:
		mes "[アラブルレム]";
		mes "スロットエンチャントとは、";
		mes "装備品にスロットを追加する技術。";
		mes "成否に関わらず材料は全て消滅します。";
		mes "また、例え成功したとしても";
		mes "精錬・カード・属性等の付与効果は";
		mes "全て消滅します。";
		next;
		mes "[アラブルレム]";
		mes "さらに、一部の装備品だけですが";
		mes "スロットが同時に複数追加されたり、";
		mes "基本性能が変化する物があります。";
		next;
		mes "[アラブルレム]";
		mes "そして、気をつけなければならない点が";
		mes "一つあります。";
		mes "例えば……「+7マント [0]」と";
		mes "ただの「マント [0]」を持って、";
		mes "私にスロットエンチャントを依頼すると";
		mes "どちらが対象になると思いますか？";
		next;
		mes "[アラブルレム]";
		mes "正解はわからない……";
		mes "つまり、対象のアイテムが";
		mes "どういった物か、私は一切";
		mes "気にせずに作業するという事です。";
		next;
		mes "[アラブルレム]";
		mes "^FF0000スロット数以外は、";
		mes "一切関係ありません。";
		mes "例え未鑑定だろうが、";
		mes "破損していようが、";
		mes "スロットエンチャントを行います。^000000";
		next;
		mes "[アラブルレム]";
		mes "^FF0000しかし、誰かが作った製造品だと";
		mes "スロットの数に関係なく";
		mes "スロットエンチャントの";
		mes "対象アイテムとなります。^000000";
		next;
		mes "[アラブルレム]";
		mes "^FF0000特定のアイテムだけに";
		mes "スロットエンチャントを";
		mes "行いたいのなら、同じ名前の";
		mes "アイテムを倉庫にでも";
		mes "預けておいた方がいいです。^000000";
		next;
		mes "[アラブルレム]";
		mes "この事を忘れ、別のアイテムが";
		mes "スロットエンチャントの対象になっても";
		mes "私は一切責任を取りません。";
		mes "十分に注意してください。";
		next;
		mes "[アラブルレム]";
		mes "他に説明する事は特にありません。";
		mes "百聞は一見にしかず。";
		mes "まずはスロットエンチャントに";
		mes "挑戦してみたらどうですか？";
		close;
	case 3:
		mes "[アラブルレム]";
		mes "そうですか……";
		close;
	}
}

function	script	Func_Socket4	{
	mes "[アラブルレム]";
	mes getitemname(getarg(0)) + " [" +getiteminfo(getarg(0),10)+ "]ですね。";
	mes "手数料は^FF0000" + (getarg(4) >= 1000 ? (getarg(4)/1000 + ",000") : getarg(4)) + ",000 Zeny^000000、";
	mes "材料は" +getitemname(getarg(5))+getarg(6)+ "個^000000です。";
	mes "もちろん、" +getitemname(getarg(0))+ " [" +getiteminfo(getarg(0),10)+ "]も必要です。";
	next;
	mes "[アラブルレム]";
	mes "なお、注意点として";
	mes "スロットエンチャントを行うと";
	mes "成否に関わらず材料は全て消滅します。";
	mes "また、例え成功したとしても";
	mes "精錬・カード・属性等の付与効果は";
	mes "全て消滅します。";
	next;
	switch(select("スロットエンチャントを頼む","話をやめる")){
	case 1:
		if ((Zeny >= getarg(4)*1000) && (countitem(getarg(5)) >= getarg(6)) && (countitem(getarg(7,512)) >= getarg(8,0)) && (countitem(getarg(0)) > 0)) // if there's no getarg(7) and getarg(8) provided, check itemcount against 0 (we still need a valid item ID though)
		{
			set .@a, rand(1,100);
			if ((.@a > getarg(2)) && (.@a < getarg(3)))
			{
				specialeffect getarg(3) == 51 ? EF_LORD : EF_SANCTUARY; // only S Class items have Lord of Vermillion effect
				mes "[アラブルレム]";
				mes "OK、成功しました。";
				mes "おめでとうございます。";
				delitem getarg(0),1;
				delitem getarg(5),getarg(6);
				if (getarg(7,0) != 0 && getarg(8,0) != 0)
					delitem getarg(7),getarg(8);
				set Zeny, Zeny - getarg(4)*1000;
				getitem getarg(1),1;
				next;
				mes "[アラブルレム]";
				mes "それでは、またご利用ください。";
				close;
			}
			else
			{
				specialeffect EF_SUI_EXPLOSION;
				mes "[アラブルレム]";
				mes "う……失敗です。";
				mes "どうやら運が無かったようです。";
				mes "……そう落ち込まないでください。";
				mes "今度はきっと成功しますよ。";
				delitem getarg(0),1;
				delitem getarg(5),getarg(6);
				if (getarg(7,0) != 0 && getarg(8,0) != 0)
					delitem getarg(7),getarg(8);
				set Zeny, Zeny - getarg(4)*1000;
				next;
				mes "[アラブルレム]";
				mes "それでは、またご利用ください。";
				close;
			}
		}
		else
		{
			mes "[アラブルレム]";
			mes "材料かお金が足りませんよ？";
			close;
		}
	case 2:
		mes "[アラブルレム]";
		mes "また来てください。";
		close;
	}
}
function	script	HseSub1	{
	mes "[細工職人･" +getarg(0)+ "]";
	mes "こんにちは。";
	mes "私は鎧を再構成し、その能力を";
	mes "極限まで引き出す研究を";
	mes "長年行っている者です。";
	mes "そこにある^FF0000細工案内板^000000の内容を";
	mes "ご確認いただけましたか？";
	next;
	if(select("していません","しました")==1) {
		mes "[細工職人･" +getarg(0)+ "]";
		mes "もし技術の施行をお望みでしたら、";
		mes "必ず^FF0000細工案内板^000000を";
		mes "ご確認ください。";
		mes "よろしくお願いいたします。";
		close;
	}
	mes "[細工職人･" +getarg(0)+ "]";
	mes "かしこまりました。";
	mes "この技術、私が担当する鎧では";
	mes "1回^0000FF" +getarg(1)+ "Zeny^000000で、";
	mes "お試しいただけます。";
	next;
	mes "[細工職人･" +getarg(0)+ "]";
	mes "では、エンチャント可能な鎧の";
	mes "一覧から、希望をお選びください。";
	next;
return;
}

function	script	HseSub2	{
	mes "[細工職人･" +getarg(0)+ "]";
	mes "^0000FF"+getitemname(getarg(2))+ "^000000ですね。";
	mes "では、ご確認します。";
	mes "まず、手数料として";
	mes "^0000FF"+getarg(1)+ "Zeny^000000をいただきます。";
	next;
	mes "[細工職人･" +getarg(0)+ "]";
	mes "そして、エンチャントは";
	mes "必ずしも成功するとは限りません。";
	mes "^FF0000失敗すると、鎧は消えてしまいます。^000000";
	mes "また、成功すると、いままでの";
	mes "^FF0000精錬値及び挿していたカードが";
	mes "消えてしまいます^000000。";
	next;
	mes "[細工職人･" +getarg(0)+ "]";
	mes "エンチャントを行いますか？";
	next;
	if(select("^FF0000今回はやめておく^000000","^0000FFおねがいします^000000")==1) {
		mes "[細工職人･" +getarg(0)+ "]";
		mes "わかりました。";
		mes "またいつでもお待ちしています。";
		close;
	}
	if(countitem(getarg(2))!=1) {
		mes "[細工職人･" +getarg(0)+ "]";
		mes "あら……";
		mes "先ほどもご説明しました通り";
		mes "^0000FF対象の鎧を1つだけ持った状態^000000で";
		mes "お願いします。";
		mes "持っていないのは論外ですが";
		mes "2つ以上持たないでください。";
		close;
	}
	if(Zeny<getarg(3)) {
		mes "[細工職人･" +getarg(0)+ "]";
		mes "わかりました。";
		mes "では、始めますよ。";
		next;
		mes "[細工職人･" +getarg(0)+ "]";
		mes "……あら、Zenyが";
		mes "足りなくなっていますよ。";
		close;
	}
	mes "[細工職人･" +getarg(0)+ "]";
	mes "わかりました。";
	mes "では、始めますよ。";
	next;

	delitem getarg(2),1;
	set Zeny,Zeny-getarg(3);
	switch(getarg(4)) {
		case 0:	set .@rate,70;	break;
		case 1:	set .@rate,35;	break;
		case 2:	set .@rate,20;	break;
		default:	set .@rate,0;	break;
	}
	if(rand(100)<.@rate) {
		//成功
		switch(rand(6)) {
			case 0:	set .@cardid,4700;	break;
			case 1:	set .@cardid,4710;	break;
			case 2:	set .@cardid,4720;	break;
			case 3:	set .@cardid,4730;	break;
			case 4:	set .@cardid,4740;	break;
			case 5:	set .@cardid,4750;	break;
			default:	set .@cardid,0;	break;
		}
		set .@v,rand(100);
		if(.@v<10)
			set .@cardid, .@cardid+2;
		else if(.@v<40)
			set .@cardid, .@cardid+1;
		getitem2 getarg(2),1,1,0,0,0,0,0,.@cardid;
		misceffect 305;
		mes "[細工職人･" +getarg(0)+ "]";
		mes "……ふう、成功しました！";
		mes "是非、大切に使ってください。";
		close;
	}
	misceffect 306;
	mes "[細工職人･" +getarg(0)+ "]";
	mes "ああ……";
	mes "エンチャントに失敗しました。";
	mes "切ないです……";
	close;
}

prontera.gat,91,116,6	script	細工職人･長女	815,{
	setarray .@list,2365,2390,2388,2387,2375,2374,2389,2364,2391;

	callfunc "HseSub1","長女","1,000,000";
	set .@itemid, .@list[select(
		"オルレアンの制服[1]","改良型タイツ[1]","カンドゥラ[1]","スプリントメイル[1]",
		"ディアボロスアーマー[1]","ディアボロスローブ[1]","ナーガの鱗鎧[1]",
		"メテオプレート[1]","ライフリンク[1]")-1];
	callfunc "HseSub2","長女","1,000,000",.@itemid,1000000,2;
}

prontera.gat,89,114,6	script	細工職人･次女	816,{
	setarray .@list,2349,2319,2351,2336,2347,2322,2333,2324,2326,2331,2320,2342,2317,2311,2315,2308,2345,2318,2310;

	callfunc "HseSub1","次女","500,000";
	set .@itemid, .@list[select(
		"エベシ嵐のうねり[1]","グリッタングクロース[1]","クレイトス大地の裂け目[1]",
		"シーフクロース[1]","シャピニハ海の叫び[1]","シルクローブ[1]","シルバーローブ[1]",
		"スケーピューラー[1]","セイントローブ[1]","タイツ[1]","フォーマルスーツ[1]",
		"フルプレート[1]","プレート[1]","ミンクのコート[1]","メイル[1]","メントル[1]",
		"ルシウス火山の激しさ[1]","ロードクロース[1]","ロングコート[1]")-1];
	callfunc "HseSub2","次女","500,000",.@itemid,500000,1;
}


prontera.gat,87,112,6	script	細工職人･三女	817,{
	setarray .@list,2348,2386,2350,2335,2346,2321,2332,2325,2330,2337,2341,2316,2327,2334,2314,2307,2344,2309;

	callfunc "HseSub1","三女","300,000";
	set .@itemid, .@list[select(
		"エベシ嵐のうねり[0]","カメレオンアーマー[0]","クレイトス大地の裂け目[0]",
		"シーフクロース[0]","シャピニハ海の叫び[0]","シルクローブ[0]","シルバーローブ[0]",
		"セイントローブ[0]","タイツ[0]","忍者スーツ[0]","フルプレート[0]","プレート[0]",
		"ホーリーローブ[0]","マジックコート[0]","メイル[0]","メントル[0]",
		"ルシウス火山の激しさ[0]","ロングコート[0]")-1];
	callfunc "HseSub2","三女","300,000",.@itemid,300000,0;
}


prontera.gat,83,108,6	script	細工職人･師範	814,{
	mes "[細工職人･師範]";
	mes "……私は兜を再構成し、";
	mes "その能力を極限まで引き出す研究を";
	mes "最近開始した者だ。";
	mes "そこにある^FF0000細工案内板^000000の内容は";
	mes "把握しているかな？";
	next;
	if(select("していません","しました")==1) {
		mes "[細工職人･師範]";
		mes "……もし私の技術の施行を望みなら、";
		mes "必ず^FF0000細工案内板^000000を";
		mes "確認して欲しい……";
		mes "結構、注意点などがあるのでな。";
		close;
	}
	mes "[細工職人･師範]";
	mes "ふむ、良いだろう。";
	mes "私が提供する技術は、";
	mes "そこの三姉妹が行っている";
	mes "鎧の物とは違い、";
	mes "兜に対して行う。";
	mes "今のところ私一人しかできない技術だ。";
	next;
	mes "[細工職人･師範]";
	mes "三姉妹と同じように、";
	mes "その難易度によって3つのカテゴリーに";
	mes "分けさせてもらっている。";
	mes "^009C00B級^000000→1回  ^9933FF300,000Zeny、^000000";
	mes "^0000FFA級^000000→1回  ^9933FF500,000Zeny、^000000";
	mes "^FF0000S級^000000→1回　^9933FF1,000,000Zeny^000000だ。";
	next;
	mes "[細工職人･師範]";
	mes "では、カテゴリーと、";
	mes "エンチャント可能な兜の";
	mes "一覧から、希望を選んで欲しい。";
	next;
	set .@class,select("^009C00B級^000000","^0000FFA級^000000","^FF0000S級^000000","^00FF00特殊^000000");
	switch(.@class) {
	case 1:
			switch(select(
					"赤いリボン[0]","ウサギのヘアバンド[0]","大きな金の鈴[0]","オールドスターロマンス[0]","おしゃれな帽子[0]",
					"海賊の頭巾[1]","カウボーイハット[0]","笠[0]","アフロかつら[1]","シャイニーアフロかつら[1]",
					"ハッピーアフロかつら[1]","ファンタスティックアフロかつら[1]","マーヴェラスアフロかつら[1]","仮初めの恋[0]",
					"くま帽子[0]","黒い猫耳[0]","子犬のヘアバンド[0]","工事帽[0]","サークレット[1]","シニョンキャップ[0]",
					"スイートジェントル[0]","装飾用花[0]","装飾用ひまわり[1]","たぬき帽[0]",
					"たれ猫[0]","たれ猫(青)[0]","たれ猫(黄)[0]","たれ猫(白)[0]","たれ猫(灰)[0]","たれ猫(桃)[0]",
					"花のヘアバンド[0]","パンダ帽[0]","ピエロの帽子[0]","ビレタ[1]","ファッション防寒帽[0]",
					"プロンテラ軍帽[0]","ポリン帽[0]","三日月のヘアピン[0]","野球帽[1]","ラッコ帽[0]")) {
			case 1: //赤いリボン
				set .@rank,0;
				set .@enchantid,5083;
				set .@zeny,300000;
				break;
			case 2: //ウサギのヘアバンド
				set .@rank,0;
				set .@enchantid,2214;
				set .@zeny,300000;
				break;
			case 3: //大きな金の鈴
				set .@rank,0;
				set .@enchantid,5091;
				set .@zeny,300000;
				break;
			case 4: //オールドスターロマンス
				set .@rank,0;
				set .@enchantid,2247;
				set .@zeny,300000;
				break;
			case 5: //おしゃれな帽子
				set .@rank,0;
				set .@enchantid,5032;
				set .@zeny,300000;
				break;
			case 6: //S海賊の頭巾
				set .@rank,0;
				set .@enchantid,5350;
				set .@zeny,300000;
				break;
			case 7: //カウボーイハット
				set .@rank,0;
				set .@enchantid,5075;
				set .@zeny,300000;
				break;
			case 8: //笠
				set .@rank,0;
				set .@enchantid,2280;
				set .@zeny,300000;
				break;
			case 9: //アフロかつら
				set .@rank,0;
				set .@enchantid,5258;
				set .@zeny,300000;
				break;
			case 10: //シャイニーアフロかつら
				set .@rank,0;
				set .@enchantid,5274;
				set .@zeny,300000;
				break;
			case 11: //ハッピーアフロかつら
				set .@rank,0;
				set .@enchantid,5273;
				set .@zeny,300000;
				break;
			case 12: //ファンタスティックアフロかつら
				set .@rank,0;
				set .@enchantid,5276;
				set .@zeny,300000;
				break;
			case 13: //マーヴェラスアフロかつら
				set .@rank,0;
				set .@enchantid,5275;
				set .@zeny,300000;
				break;
			case 14: //仮初めの恋
				set .@rank,0;
				set .@enchantid,5008;
				set .@zeny,300000;
				break;
			case 15: //くま帽子
				set .@rank,0;
				set .@enchantid,5059;
				set .@zeny,300000;
				break;
			case 16: //黒い猫耳
				set .@rank,0;
				set .@enchantid,5057;
				set .@zeny,300000;
				break;
			case 17: //子犬のヘアバンド
				set .@rank,0;
				set .@enchantid,5118;
				set .@zeny,300000;
				break;
			case 18: //工事帽
				set .@rank,0;
				set .@enchantid,5009;
				set .@zeny,300000;
				break;
			case 19: //Sサークレット
				set .@rank,0;
				set .@enchantid,2233;
				set .@zeny,300000;
				break;
			case 20: //シニョンキャップ
				set .@rank,0;
				set .@enchantid,5042;
				set .@zeny,300000;
				break;
			case 21: //スイートジェントル
				set .@rank,0;
				set .@enchantid,2245;
				set .@zeny,300000;
				break;
			case 22: //装飾用花
				set .@rank,0;
				set .@enchantid,2207;
				set .@zeny,300000;
				break;
			case 23: //S装飾用ひまわり
				set .@rank,0;
				set .@enchantid,5351;
				set .@zeny,300000;
				break;
			case 24: //たぬき帽
				set .@rank,0;
				set .@enchantid,5033;
				set .@zeny,300000;
				break;
			case 25: //たれ猫
				set .@rank,0;
				set .@enchantid,5058;
				set .@zeny,300000;
				break;
			case 26: //たれ猫(青)
				set .@rank,0;
				set .@enchantid,5233;
				set .@zeny,300000;
				break;
			case 27: //たれ猫(黄)
				set .@rank,0;
				set .@enchantid,5234;
				set .@zeny,300000;
				break;
			case 28: //たれ猫(白)
				set .@rank,0;
				set .@enchantid,5230;
				set .@zeny,300000;
				break;
			case 29: //たれ猫(灰)
				set .@rank,0;
				set .@enchantid,5231;
				set .@zeny,300000;
				break;
			case 30: //たれ猫(桃)
				set .@rank,0;
				set .@enchantid,5232;
				set .@zeny,300000;
				break;
			case 31: //花のヘアバンド
				set .@rank,0;
				set .@enchantid,2215;
				set .@zeny,300000;
				break;
			case 32: //パンダ帽
				set .@rank,0;
				set .@enchantid,5030;
				set .@zeny,300000;
				break;
			case 33: //ピエロの帽子
				set .@rank,0;
				set .@enchantid,5003;
				set .@zeny,300000;
				break;
			case 34: //Sビレタ
				set .@rank,0;
				set .@enchantid,2217;
				set .@zeny,300000;
				break;
			case 35: //ファッション防寒帽
				set .@rank,0;
				set .@enchantid,5115;
				set .@zeny,300000;
				break;
			case 36: //プロンテラ軍帽
				set .@rank,0;
				set .@enchantid,2261;
				set .@zeny,300000;
				break;
			case 37: //ポリン帽
				set .@rank,0;
				set .@enchantid,5035;
				set .@zeny,300000;
				break;
			case 38: //三日月のヘアピン
				set .@rank,0;
				set .@enchantid,5048;
				set .@zeny,300000;
				break;
			case 39: //野球帽
				set .@rank,0;
				set .@enchantid,5147;
				set .@zeny,300000;
				break;
			case 40: //ラッコ帽
				set .@rank,0;
				set .@enchantid,5078;
				set .@zeny,300000;
				break;
			}
		break;
	case 2:
			switch(select(
					"悪魔のヘアバンド[0]","インキュバスの角[0]","オーク族のヘルム[1]","お金を失った者の心[0]","学生帽[1]","看護帽[0]",
					"狐のお面[0]","子悪魔帽[0]","子悪魔帽(赤)[0]","子悪魔帽(白)[0]","子悪魔帽(灰)[0]","ゴーグル[1]","コルセア[1]",
					"サキュバスの角[0]","サテライトヘアバンド[1]","シャープヘッドギア[1]","スーパーノービス帽[1]","聖職者の帽子[1]",
					"天使のヘアバンド[0]","熱血鉢巻き[0]","ブルーリボン[1]","ヘルム[1]","ボーンヘルム[0]","マジェスティックゴート[0]",
					"丸いぼうし[1]","ミストレスの王冠[0]")) {
			case 1: //悪魔のヘアバンド
				set .@rank,1;
				set .@enchantid,2255;
				set .@zeny,500000;
				break;
			case 2: //インキュバスの角
				set .@rank,1;
				set .@enchantid,5072;
				set .@zeny,500000;
				break;
			case 3: //Sオーク族のヘルム
				set .@rank,1;
				set .@enchantid,5157;
				set .@zeny,500000;
				break;
			case 4: //お金を失った者の心
				set .@rank,1;
				set .@enchantid,5021;
				set .@zeny,500000;
				break;
			case 5: //S学生帽
				set .@rank,1;
				set .@enchantid,5349;
				set .@zeny,500000;
				break;
			case 6: //看護帽
				set .@rank,1;
				set .@enchantid,2277;
				set .@zeny,500000;
				break;
			case 7: //狐のお面
				set .@rank,1;
				set .@enchantid,5069;
				set .@zeny,500000;
				break;
			case 8: //子悪魔帽
				set .@rank,1;
				set .@enchantid,5038;
				set .@zeny,500000;
				break;
			case 9: //子悪魔帽(赤)
				set .@rank,1;
				set .@enchantid,5227;
				set .@zeny,500000;
				break;
			case 10: //子悪魔帽(白)
				set .@rank,1;
				set .@enchantid,5228;
				set .@zeny,500000;
				break;
			case 11: //子悪魔帽(灰)
				set .@rank,1;
				set .@enchantid,5229;
				set .@zeny,500000;
				break;
			case 12: //Sゴーグル
				set .@rank,1;
				set .@enchantid,2225;
				set .@zeny,500000;
				break;
			case 13: //Sコルセア
				set .@rank,1;
				set .@enchantid,5163;
				set .@zeny,500000;
				break;
			case 14: //サキュバスの角
				set .@rank,1;
				set .@enchantid,5066;
				set .@zeny,500000;
				break;
			case 15: //サテライトヘアバンド
				set .@rank,1;
				set .@enchantid,5212;
				set .@zeny,500000;
				break;
			case 16: //Sシャープヘッドギア
				set .@rank,1;
				set .@enchantid,5161;
				set .@zeny,500000;
				break;
			case 17: //Sスーパーノービス帽
				set .@rank,1;
				set .@enchantid,5119;
				set .@zeny,500000;
				break;
			case 18: //S聖職者の帽子
				set .@rank,1;
				set .@enchantid,5158;
				set .@zeny,500000;
				break;
			case 19: //天使のヘアバンド
				set .@rank,1;
				set .@enchantid,2254;
				set .@zeny,500000;
				break;
			case 20: //熱血鉢巻き
				set .@rank,1;
				set .@enchantid,5070;
				set .@zeny,500000;
				break;
			case 21: //Sブルーリボン
				set .@rank,1;
				set .@enchantid,5404;
				set .@zeny,500000;
				break;
			case 22: //Sヘルム
				set .@rank,1;
				set .@enchantid,2229;
				set .@zeny,500000;
				break;
			case 23: //ボーンヘルム
				set .@rank,1;
				set .@enchantid,5017;
				set .@zeny,500000;
				break;
			case 24: //マジェスティックゴート
				set .@rank,1;
				set .@enchantid,2256;
				set .@zeny,500000;
				break;
			case 25: //S丸いぼうし
				set .@rank,1;
				set .@enchantid,2223;
				set .@zeny,500000;
				break;
			case 26: //ミストレスの王冠
				set .@rank,1;
				set .@enchantid,5081;
				set .@zeny,500000;
				break;
			}
		break;
	case 3:
			switch(select("かわいいリボン[1]","ドレスハット[1]","ハイビスカス[0]","パレード帽[1]","マジェスティックゴート[1]","マジックアイズ[0]")) {
			case 1: //かわいいリボン
				set .@rank,2;
				set .@enchantid,5140;
				set .@zeny,1000000;
				break;
			case 2: //ドレスハット
				set .@rank,2;
				set .@enchantid,5211;
				set .@zeny,1000000;
				break;
			case 3: //ハイビスカス
				set .@rank,2;
				set .@enchantid,5139;
				set .@zeny,1000000;
				break;
			case 4: //パレード帽
				set .@rank,2;
				set .@enchantid,5468;
				set .@zeny,1000000;
				break;
			case 5: //Sマジェスティックゴート
				set .@rank,2;
				set .@enchantid,5160;
				set .@zeny,1000000;
				break;
			case 6: //マジックアイズ
				set .@rank,2;
				set .@enchantid,5138;
				set .@zeny,1000000;
				break;
			}
		break;
	case 4:
			switch(select(
					"ルーンサークレット[1]","ミトラ[1]","スナイパーゴーグル[1]","ドライバーバンド[1]","シャドウクラウン[1]",
					"ミンストレルソングの帽子[1]","ミダスのささやき[1]","魔力石の帽子[1]","ブレイジングソウル[1]",
					"沈黙の執行者[0]","風のささやき[1]","シュミッツのヘルム[1]","バレリーナの髪飾り[1]")) {
			case 1: //ルーンサークレット
				set .@rank,1;
				set .@enchantid,5746;
				set .@zeny,500000;
				break;
			case 2: //ミトラ
				set .@rank,1;
				set .@enchantid,5747;
				set .@zeny,500000;
				break;
			case 3: //スナイパーゴーグル
				set .@rank,1;
				set .@enchantid,5748;
				set .@zeny,500000;
				break;
			case 4: //ドライバーバンド
				set .@rank,1;
				set .@enchantid,(Sex?5749:5760);
				set .@zeny,500000;
				break;
			case 5: //シャドウクラウン
				set .@rank,1;
				set .@enchantid,5750;
				set .@zeny,500000;
				break;
			case 6: //ミンストレルソングの帽子
				set .@rank,1;
				set .@enchantid,5751;
				set .@zeny,500000;
				break;
			case 7: //ミダスのささやき
				set .@rank,1;
				set .@enchantid,5752;
				set .@zeny,500000;
				break;
			case 8: //魔力石の帽子
				set .@rank,1;
				set .@enchantid,5753;
				set .@zeny,500000;
				break;
			case 9: //ブレイジングソウル
				set .@rank,1;
				set .@enchantid,5754;
				set .@zeny,500000;
				break;
			case 10: //沈黙の執行者
				set .@rank,1;
				set .@enchantid,5755;
				set .@zeny,500000;
				break;
			case 11: //風のささやき
				set .@rank,1;
				set .@enchantid,5756;
				set .@zeny,500000;
				break;
			case 12: //シュミッツのヘルム
				set .@rank,1;
				set .@enchantid,5757;
				set .@zeny,500000;
				break;
			case 13: //バレリーナの髪飾り
				set .@rank,1;
				set .@enchantid,5758;
				set .@zeny,500000;
				break;
			}
		break;
	}
	mes "[細工職人･師範]";
	mes "^0000FF"+getitemname(.@enchantid)+ "^000000でいいのだな。";
	mes "では、最終確認だ。";
	mes "まず、手数料として";
	mes "^0000FF"+.@zeny+ "Zeny^000000をいただく。";
	next;
	mes "[細工職人･師範]";
	mes "そして、エンチャントは";
	mes "必ずしも成功するとは限らない。";
	mes "^FF0000失敗すると、兜は消えてしまう。^000000";
	mes "また、成功すると、いままでの";
	mes "^FF0000精錬値及び挿していたカードが";
	mes "消えてしまう^000000。";
	next;
	mes "[細工職人･師範]";
	mes "エンチャントを行うか？";
	next;
	if(select("^FF0000今回はやめておく^000000","^0000FFおねがいします^000000")==1) {
		mes "[細工職人･師範]";
		mes "必要であれば、";
		mes "いつでも来て欲しい。";
		close;
	}
	if(countitem(.@enchantid)!=1) {
		mes "[細工職人･師範]";
		mes "おや……";
		mes "先ほど説明したように";
		mes "^0000FF対象の兜を1つだけ持った状態^000000で";
		mes "お願いしたい。";
		mes "持っていないのは論外だが";
		mes "2つ以上持たないで欲しい。";
		close;
	}
	if(Zeny<.@zeny) {
		mes "[細工職人･師範]";
		mes "わかった。";
		mes "では、始めようか。";
		next;
		mes "[細工職人･師範]";
		mes "……おや、Zenyが";
		mes "足りなくなっているようだぞ。";
		close;
	}
	mes "[細工職人･師範]";
	mes "わかった。";
	mes "では、始めようか。";
	next;

	delitem .@enchantid,1;
	set Zeny,Zeny-.@zeny;
	switch(.@rank) {
		case 0:	set .@rate,70;	break;
		case 1:	set .@rate,35;	break;
		case 2:	set .@rate,20;	break;
		default:	set .@rate,0;	break;
	}
	if(rand(100)<.@rate) {
		//成功
		switch(rand(6)) {
			case 0:	set .@cardid,4768;	break;
			case 1:	set .@cardid,4771;	break;
			case 2:	set .@cardid,4774;	break;
			case 3:	set .@cardid,4777;	break;
			case 4:	set .@cardid,4780;	break;
			case 5:	set .@cardid,4783;	break;
			default:	set .@cardid,0;	break;
		}
		set .@v,rand(100);
		if(.@v<10)
			set .@cardid, .@cardid+2;
		else if(.@v<40)
			set .@cardid, .@cardid+1;
		getitem2 .@enchantid,1,1,0,0,0,0,0,.@cardid;
		misceffect 305;
		mes "[細工職人･師範]";
		mes "……ふう、成功だ！";
		mes "大切に使って欲しい。";
		close;
	}
	misceffect 306;
	mes "[細工職人･師範]";
	mes "うっ……!!";
	mes "エンチャントに失敗したか……";
	mes "すまなかったな……";
	close;
}

prontera.gat,85,110,6	script	細工案内板	857,{
	mes "【^9933FFHSE･HSEEXのご案内^000000】";
	mes "我々は、^0000FFHSE^000000こと";
	mes "^0000FFヒドゥンスロットエンチャント^000000の";
	mes "技術を提供している、職人集団です。";
	mes "もし、まだご利用した経験がなく、";
	mes "ご興味のある方は、";
	mes "必ずご一読くださいませ";
	next;
		switch(select("^0000FFHSE^000000とは？","^009C00HSEEX^000000とは？","やめる")) {
		case 1:
			mes "【^0000FFHSEとは^000000】";
			mes "^0000FFヒドゥンスロットエンチャント^000000";
			mes "(以下HSE)とは、";
			mes "^FF0000鎧^000000の隠されたスロットに";
			mes "神秘的な力を吹き込む技術のことです。";
			next;
			mes "【^0000FFHSEとは^000000】";
			mes "現在の技術では";
			mes "Str、Agi、Vit、Dex、Int、Lukの";
			mes "どれかが、+1～+3のどれかの値で";
			mes "付与されることになります。";
			mes "パターンは計18種となります。";
			next;
			mes "【^0000FFHSEとは^000000】";
			mes "注意すべき点として、";
			mes "この技術の施行は難易度が高く、";
			mes "^FF0000必ずしも成功しません。^000000";
			mes "失敗してしまっても、";
			mes "我々は責任を負うことはできません";
			next;
			mes "【^0000FFHSEとは^000000】";
			mes "次に、エンチャントすると";
			mes "^FF0000それまでの精錬値や";
			mes "挿していたカードは消えます。^000000";
			mes "全く新しい鎧に生まれ変わるのです。";
			next;
			mes "【^0000FFHSEとは^000000】";
			mes "最後に、";
			mes "エンチャントしようとした際、";
			mes "^FF0000同じ対象鎧を複数お持ちの場合、";
			mes "所持している順に";
			mes "エンチャントされます。^000000";
			next;
			mes "【^0000FFHSEとは^000000】";
			mes "例えば、精錬済みのメイルと、";
			mes "未精錬のメイルを持っており、";
			mes "メイルをエンチャントした場合……";
			next;
			mes "【^0000FFHSEとは^000000】";
			mes "未精錬のメイルをエンチャント";
			mes "したかったとしても、";
			mes "精錬済みのメイルが";
			mes "エンチャントされる可能性があります。";
			next;
			mes "【^0000FFHSEとは^000000】";
			mes "望んでいない方の鎧が";
			mes "エンチャントされてしまうことを";
			mes "避ける為にも、";
			mes "エンチャントしたい鎧は";
			mes "^0000FF1個だけ^000000持っているように";
			mes "してください。";
			next;
			mes "【^0000FFHSEとは^000000】";
			mes "もし、同じアイテムを";
			mes "複数持った状態で、何が起きても";
			mes "我々は責任を負えません。";
			mes "ご了承ください。";
			next;
			mes "【^0000FFHSEとは^000000】";
			mes "なお、技術提供料金は";
			mes "難易度により異なります。";
			mes "詳細は、それぞれの担当員に";
			mes "お尋ねください。";
			close;
		case 2:
			mes "【^009C00HSEEXとは？^000000】";
			mes "^009C00HSEEX^000000とは、最近";
			mes "新たに研究が進んだ技術で、便宜上";
			mes "ヒドゥンスロットエンチャントEXと";
			mes "命名したものであり、";
			mes "^FF0000兜^000000の隠されたスロットに";
			mes "新たな力を吹き込む技術のことです。";
			next;
			mes "【^009C00HSEEXとは？^000000】";
			mes "付与される能力や、";
			mes "実施の際の注意点は、通常の";
			mes "^0000FFHSE^000000と変わりません。";
			mes "^0000FFHSE^000000の項目を";
			mes "あわせてご確認ください。";
			close;
		case 3:
			close;
		}
}
mjolnir_02,85,362,3	script	ブラックスミス	726,{
	emotion 18;
	mes "[ドウェイン]";
	mes "わ～い。";
	mes "と～っても珍しいものを";
	mes "た～くさん見つけちゃった！";
	mes "きゃはは～、何だと思う？";
	mes "なんと、ダイヤモンド３カラット!!";
	mes "いいでしょ～、これで私も大金持ち！";
	next;
	if(select("ダイヤモンドを買いたい！","おめでとう！")==2) {
		mes "[ドウェイン]";
		mes "ありがとう～！";
		mes "ダイヤモンドが必要になったら";
		mes "いつでもおいで。特別に安い";
		mes "値段で売ってあげるよ。";
		close;
	}
	mes "[ドウェイン]";
	mes "おお!?";
	mes "価値がわかるんだ～！";
	mes "じゃあ……特別に１個";
	mes "55,000zenyで売ってあげよう！";
	mes "どう？　お買い得でしょ。";
	next;
	mes "[ドウェイン]";
	mes "どれくらい欲しい？";
	mes "あ～でも500個以下にしてね。";
	mes "多すぎても持てないしさ。";
	mes "それから、要らない時は";
	mes "「0」って言ってね。";
	while(1) {
		next;
		input .@num;
		if(.@num <= 0) {
			mes "[ドウェイン]";
			mes "え、いらないの～？";
			mes "……じゃ、またね！";
			close;
		}
		if(.@num > 500) {
			mes "[ドウェイン]";
			mes "むぅ～。";
			mes "500個以下にしてちょうだい！";
			continue;
		}
		break;
	}
	set .@price,.@num*55000;
	if(Zeny < .@price) {
		mes "[ドウェイン]";
		mes "あっ……えっと、";
		mes "お金が足りないと売れないよ。";
		mes "私も損な商売をするわけには";
		mes "いかないからさ。";
		close;
	}
	if(checkweight(732,.@num)==0) {
		mes "[ドウェイン]";
		mes "けっこう大荷物ね……";
		mes "それじゃあ、ダイヤモンドを";
		mes "持てないでしょ。ちょっと荷物を";
		mes "減らしてから来てちょうだい。";
		close;
	}
	set Zeny,Zeny-.@price;
	getitem 732,.@num;
	mes "[ドウェイン]";
	mes "毎度あり～!!";
	mes "また必要になったらいつでも来てね！";
	close;
}
//= Athena Script ==============================================================
// Ragnarok Online Jawaii Town Script	by yukito
//==============================================================================

//============================================================
// Shop
//------------------------------------------------------------
jawaii.gat,186,174,2	shop	アイスクリーム商人#jw	85,536:-1,536:-1,536:-1,536:-1,536:-1,536:-1,536:-1

//============================================================
// イズルード⇔ジャワイ既婚者転送NPC
//------------------------------------------------------------
izlude.gat,171,185,4	script	新婚コンパニオン#Izlude	71,{
	mes "[ウェディングハッピー]";
	mes "新婚の方はもちろん、何度も記念日を";
	mes "迎えられた仲の良いご夫婦も……";
	mes "既婚者なら誰でも行ける";
	mes "甘いムードが漂う島「ジャワイ」へ";
	mes "皆さんをご招待いたします！";
	next;
	switch(select("ジャワイ？","「ジャワイ」へ出発～","けっこうです")) {
	case 1:
		mes "[ウェディングハッピー]";
		mes "はい。ミッドガルド大陸のはるか";
		mes "海の彼方にある島のことです。";
		mes "静かで素敵な休養地でして、";
		mes "新婚旅行先としても有名です。";
		mes "但し、そこへ行けるのは";
		mes "結婚している方のみになります。";
		next;
		mes "[ウェディングハッピー]";
		mes "その為、料金は少々高めになります。";
		mes "そのお値段は、100,000Zeny!!";
		mes "でも、だからこそ平和で静かな";
		mes "新婚旅行を楽しめますよ。";
		close;
	case 2:
		if(!getpartnerid()) {
			mes "[ウェディングハッピー]";
			mes "申し訳ありませんが、未婚の方を";
			mes "お送りすることはできません。";
			mes "先ほども申し上げましたように";
			mes "既婚者の為の場所ですので。";
			mes "代わりに、プロンテラ酒場で寂しさを";
			mes "慰めてみてはいかがでしょう？";
			close;
		}
		if(Zeny < 100000) {
			mes "[ウェディングハッピー]";
			mes "「ジャワイ」へ行くには、";
			mes "100,000Zenyが必要です。";
			mes "旅費が足りないのでしたら、";
			mes "お連れの方にお願いして";
			mes "みてはいかがでしょう？";
			close;
		}
		mes "[ウェディングハッピー]";
		mes "楽しいご旅行になりますように。";
		mes "では、「ジャワイ」へ出発します！";
		close2;
		set Zeny,Zeny-100000;
		warp "jawaii.gat",245,125;
		end;
	case 3:
		mes "[ウェディングハッピー]";
		mes "愛する二人でなさる旅行ほど";
		mes "楽しいものはないんですよね。";
		mes "特にこのジャワイなら、より一層";
		mes "いい思い出が作れるはずです。";
		close;
	}
}

jawaii.gat,239,112,7	script	船員#toizu	100,{
	mes "[船員]";
	mes "イズルードへお送りします。";
	mes "ジャワイでの一時はいかがでしたか？";
	mes "ご出発前に、忘れ物はないか";
	mes "再度ご確認ください。";
	next;
	mes "[船員]";
	mes "では、イズルードへ帰りますか？";
	next;
	if(select("帰る","やめる")==2) {
		mes "[船員]";
		mes "了解しました。";
		mes "もう少し滞在されるとよいでしょう。";
		mes "そうそう来られる所では";
		mes "ありませんしね。";
		close;
	}
	mes "[船員]";
	mes "イズルードへ出発します。";
	close2;
	warp "izlude.gat",176,182;
	end;
}

jawaii.gat,122,263,5	script	船員#toalbe	100,{
	mes "[船員]";
	mes "アルベルタへお送りします。";
	mes "ジャワイでの一時はいかがでしたか？";
	mes "ご出発前に、忘れ物はないか";
	mes "再度ご確認ください。";
	next;
	mes "[船員]";
	mes "では、アルベルタへ帰りますか？";
	next;
	if(select("帰る","やめる")==2) {
		mes "[船員]";
		mes "了解しました。";
		mes "もう少し滞在されるとよいでしょう。";
		mes "そうそう来られる所では";
		mes "ありませんしね。";
		close;
	}
	mes "[船員]";
	mes "アルベルタへ出発します。";
	close2;
	warp "alberta.gat",192,157;
	end;
}

//============================================================
// プロンテラ⇔ジャワイ未婚者転送NPC
//------------------------------------------------------------
prt_in.gat,173,13,4	script	お客さん#SoloHan	86,{
	if(getpartnerid()) {
		mes "[ハンス]";
		mes "…………うん？";
		next;
		mes "[ハンス]";
		mes "んあ！あっちへ行け！";
		mes "あっちへ行けったら！";
		mes "幸せな匂いをプンプンと";
		mes "漂わせてる奴はこっちに来るな！";
		next;
		mes "[ハンス]";
		mes "くう～、ケッ！";
		mes "ゴクッゴクッゴクッ!!";
		close;
	}
	mes "[ハンス]";
	mes "ゴクッゴクッ、ふぅ～。";
	mes "ちょいと酔っちまったかな。";
	mes "おい、お前！";
	mes "何だか寂しそうだな～。";
	next;
	mes "[ハンス]";
	mes "はぁ～。";
	mes "結婚だ何だーって";
	mes "大騒ぎしてる連中の姿を見てたら、";
	mes "ちょいとイライラしてきてさ。";
	next;
	mes "[ハンス]";
	mes "しかも、ソロ軍団を呼んでも";
	mes "全く気にしない幸せそうな";
	mes "カップルがいたんだよ。";
	mes "何かすっごく腹立つよな！";
	next;
	mes "[ハンス]";
	mes "他人に幸せを見せびらかされると、";
	mes "独り身の俺としちゃ何とも";
	mes "言えない気分になるわけよ。";
	mes "まあ、のんびりと暮らせる今が";
	mes "嫌というんじゃないけどな。";
	next;
	mes "[ハンス]";
	mes "とにかく結婚なんかいらないよな！";
	mes "友よ!!おし、一杯飲み交わそう！";
	mes "ほれ、俺がおごってやるから。";
	next;
	mes "- ハッ！ -";
	mes "- いつの間にか友達にされてる!? -";
	mes "- ……う、う～む。 -";
	mes "- まあ、ただのビールみたいだから -";
	mes "- 受け取って飲んでみるか…… -";
	next;
	mes "- ゴクゴクゴクゴク -";
	percentheal -10,0;
	next;
	mes "[ハンス]";
	mes "そーいや……";
	mes "いい所を知ってるんだが";
	mes "ちょいと行ってみるか？";
	while(1) {
		next;
		if(select("……もう一杯欲しい","……どんな所なんですか？")==1) {
			mes "[ハンス]";
			mes "そうか！飲みっぷりがいいな！";
			mes "おい、バチュカ。";
			mes "俺らも一杯飲もうぜ！";
			next;
			mes "[ハンス]";
			mes "おし、俺らのソロ人生に!!";
			mes "かーんぱい!!";
			next;
			mes "- ゴクゴクゴクゴクッ!! -";
			percentheal -10,0;
			set .@drink,.@drink+1;
			set .@flag,.@flag|1;
			if((.@flag&2 && .@drink < 4) || .@drink < 5) {
				next;
				mes "- ゴクゴクゴクゴクッ!! -";
				continue;
			}
			next;
			mes "[ハンス]";
			mes "おお!!お前ホント強いな！";
			mes "おし、気に入った！";
			mes "じゃあ、ここにサインしたら";
			mes "お前をいい所へ送ってやる。";
			next;
			if(select("サインする","サインしない")==1) {
				mes "[ハンス]";
				mes "よし！それじゃ送ってやろう！";
				mes "ククククッ。";
				close2;
				warp "jawaii_in.gat",44,124;
				end;
			}
		}
		else {
			if((.@flag&1 && .@drink < 3) || .@drink < 4) {
				mes "[ハンス]";
				mes "おい！全然飲んでないじゃないか!!";
				mes "ぬるい奴だな～!!";
				mes "遠慮せずにもっと飲もうぜ、友よ！";
				next;
				mes "[ハンス]";
				mes "俺らのソロ人生に！";
				mes "ほれ！かーんぱい!!";
				next;
				mes "- グビグビグビグビッ!! -";
				percentheal -10,0;
				set .@drink,.@drink+1;
				set .@flag,.@flag|2;
				continue;
			}
			mes "[ハンス]";
			mes "お、行ってみたいのか？";
			mes "よし、ここにサインしな。";
			mes "そしたらお前をいい所へ送ってやる。";
			next;
			if(select("サインする","サインしない")==1) {
				mes "[ハンス]";
				mes "おし！じゃあ、送ってやるか！";
				mes "クックックックッ……";
				mes "ちょいと惨めな思いをしてきな。";
				mes "クックックックッ……";
				close2;
				warp "jawaii_in.gat",44,124;
				end;
			}
		}
		break;	//while文抜ける
	}
	mes "[ハンス]";
	mes "……チェッ！";
	close;
}

prt_in.gat,170,14,0	script	お客さん#Bachewcca	89,{
	mes "[バチュカ]";
	mes "……";
	mes "ゴクッゴクッ……";
	mes "くあああ!!うまい!!";
	emotion 28;
	close;
}

//============================================================
// ジャワイNPC
//------------------------------------------------------------
jawaii.gat,240,146,6	script	ジャワイ住民#desc1	724,{
	mes "[ワイワイ]";
	mes "ジャワイへようこそ！";
	mes "結婚と言えばやっぱり";
	mes "新婚旅行をは欠かせないですよね。";
	mes "ここなら、独り者に";
	mes "気を使う必要もありませんし。";
	next;
	mes "[ワイワイ]";
	mes "たまにモンスターを";
	mes "見かけるかもしれませんが、";
	mes "こちらから攻撃をしなければ大丈夫！";
	mes "昔からここに住んでいたんで。";
	mes "風景の一部とでも考えてください。";
	close;
}

jawaii.gat,165,121,2	script	ジャワイ住民#desc2	724,{
	mes "[ワニワニ]";
	mes "ジャワイ～。";
	mes "ああ～幸せな島～。";
	mes "素晴らしいとこですよ～。";
	mes "一日中の～んびりと";
	mes "何もしなくても過ごせる所。";
	mes "それがここ、ジャワイです～。";
	next;
	mes "[ワニワニ]";
	mes "こちらは舞台。";
	mes "時々、劇が上演されています～。";
	mes "よろしければ上がって";
	mes "歌でも一曲どうです～？";
	mes "ジャワイ～。";
	mes "ああ～ここは～幸せな島～。";
	close;
}

jawaii.gat,220,235,4	script	ジャワイ住民#desc3	724,{
	mes "[ザワザワ]";
	mes "ジャワイで一番きれいな場所は";
	mes "さあ、どこでしょう？";
	mes "そう、それはこのすぐ北にある";
	mes "「ハートアイランド」です。";
	next;
	mes "[ザワザワ]";
	mes "あ、そんなに深くないので、";
	mes "歩いて行けますよ。";
	mes "海を渡ってすぐです。";
	next;
	mes "[ザワザワ]";
	mes "二人で静かに時を過ごすのに";
	mes "とても良い場所です。";
	mes "でも、独りで座っていると";
	mes "……無人島に漂着した人に";
	mes "見えますけどね。";
	next;
	mes "[ザワザワ]";
	mes "だから「空きビンで漂流遊び！」";
	mes "なんてことは止めた方がいいですよ。";
	mes "ものすごーく暗く見えますから……";
	close;
}

jawaii.gat,168,247,6	script	ジャワイ住民#desc4	724,{
	mes "[ワザワザ]";
	mes "宿屋は西の方に集まっています。";
	mes "宿ごとに趣が異なりますので";
	mes "お好きな宿をお選びください。";
	mes "各宿に関しては、その傍にいる";
	mes "従業員にお聞きください。";
	next;
	mes "[ワザワザ]";
	mes "お帰りになる際は、北西と南東の";
	mes "各方角にある船をご利用ください。";
	mes "それぞれアルベルタとイズルード";
	mes "行きの定期船があります。";
	close;
}

jawaii.gat,188,218,4	script	秘密酒場のお嬢さん#Jw	80,{
	mes "[お嬢さん]";
	mes "あらあら、お客さん～。";
	mes "ここから先は軽い気持ちで";
	mes "行かない方がいいですよ！";
	mes "まあ、新婚旅行で有名なジャワイに";
	mes "こんな場所があること自体、";
	mes "信じられないんですけどね。";
	next;
	mes "[お嬢さん]";
	mes "どうやって入り込んだのか";
	mes "分かりませんが……たま～に";
	mes "未婚者がいるんですよ。それとね";
	mes "酒場で消える人もいるそうなんです。";
	mes "まあ、マスターが作るお酒は";
	mes "変な物ばかりですしね……";
	next;
	mes "[お嬢さん]";
	mes "雇われている身でこんな話をするのは";
	mes "本当はいけないんですけど……";
	mes "それでも勧めたくはないんですよ。";
	mes "まあ、行けば私が言っている";
	mes "意味が解りますよ。";
	close;
}

//============================================================
// 新婚時代の思い出販売NPC
//------------------------------------------------------------
jawaii.gat,214,168,5	script	新婚コンパニオン#Jawaii	71,{
	mes "[ウェディングハッピー]";
	mes "ご旅行はいかがです～？";
	mes "このジャワイほど新婚旅行に";
	mes "ぴったりな場所はないでしょう？";
	mes "せっかくいらしたんですから、";
	mes "楽しい思い出をた～くさん";
	mes "作ってくださいね。";
	next;
	mes "[ウェディングハッピー]";
	mes "いつまで経っても色あせない思い出。";
	mes "それはとても価値あるものです。";
	mes "初めてタキシードやウェディング";
	mes "ドレスを着た時のあの幸せな気分。";
	mes "それがすごく大事なんです。";
	next;
	mes "[ウェディングハッピー]";
	mes "残念ながら、ウェディングマーチの";
	mes "中を再び歩くことはできません。";
	mes "でもせめて、心のアルバムを開いて";
	mes "新婚時代の思い出に浸りたいですよね？";
	mes "そんな魔法を願う方々の為に、";
	mes "準備した物がございます。";
	next;
	mes "[ウェディングハッピー]";
	mes "その名も「新婚時代の思い出!!」";
	mes "魔法の力で少しの間、";
	mes "結婚式当日のあの幸せな気分を";
	mes "再び味わうことができます。";
	mes "ちなみにそのお値段は50000Zeny。";
	mes "いかがなさいます？";
	next;
	if(select("買います","遠慮します")==2) {
		mes "[ウェディングハッピー]";
		mes "そうですか～。";
		mes "月日は流れても、共に過ごした";
		mes "思い出が色あせることはないでしょう。";
		mes "また気が向きましたら、遠慮なく";
		mes "おっしゃってくださいね。";
		close;
	}
	if(Zeny < 50000) {
		mes "[ウェディングハッピー]";
		mes "「新婚時代の思い出」は";
		mes "50,000Zenyになります。";
		mes "あらら～、お金が足りないようですね。";
		mes "お連れの方にお願いしてみては";
		mes "いかがです～？";
		close;
	}
	set Zeny,Zeny-50000;
	getitem 681,1;
	mes "[ウェディングハッピー]";
	mes "ありがとうございます～！";
	mes "これは、本当に大切な思い出の場所で";
	mes "大事な人と一緒に使ってくださいね。";
	close;
}

//============================================================
// 宿泊施設NPC
//------------------------------------------------------------
jawaii.gat,141,200,4	script	従業員#sroom	798,{
	mes "[アルロワ]";
	mes "あの……";
	mes "こちらはスイートルームです。";
	mes "ぜ、是非、来てください。";
	mes "はい、もちろんきれいです。";
	mes "私がきちんと片付けておきましたから。";
	mes "だから、どうぞご利用ください。";
	next;
	mes "[アルロワ]";
	mes "宿泊料は一人当たり";
	mes "えーっと……";
	mes "あ、1000Zenyです。";
	mes "私にくだされば、すぐお部屋へ";
	mes "ご案内します。ほ、本当ですよ。";
	mes "それ以外入る方法はありませんから。";
	next;
	mes "[アルロワ]";
	mes "あ、かばん。";
	mes "それ、私がお持ちしますよ。";
	mes "あの、そうしないとうちの社長に";
	mes "三段掌で殴られます……";
	mes "社長の拳、すごく痛いんですよ。";
	next;
	if(select("利用します","やめます")==2) {
		mes "[アルロワ]";
		mes "うわ～ん、うわ～ん。";
		mes "他の部屋よりもすごく";
		mes "きれいで良いのに～。";
		mes "私の言葉を信じてくださいよ～。";
		mes "もし少しでも、考えが変わりましたら";
		mes "すぐに来てくださいね。うわ～ん。";
		close;
	}
	if(Zeny < 1000) {
		mes "[アルロワ]";
		mes "もう、お客さん！";
		mes "宿泊料をきちんと確認してください。";
		mes "所持金も確認してください。";
		mes "宿泊料が足りないと利用できません。";
		mes "うちの社長が怒ります！";
		mes "うちの社長が三段掌で、殴ります!!";
		close;
	}
	mes "[アルロワ]";
	mes "わあ～、ありがとう！";
	mes "はい、どうぞご利用ください。";
	mes "ありがとう。ありがとう。";
	mes "楽しい時間をお過ごしください。";
	close2;
	set Zeny,Zeny-1000;
	warp "jawaii_in.gat",116,64;
	end;
}

jawaii.gat,108,199,5	script	従業員#antroom	74,{
	mes "[パーインオレン]";
	mes "ようこそ。";
	mes "こちらはアンティークルームです。";
	mes "古風で素晴らしいお部屋ですよ。";
	mes "お二人が泊まるには、少々";
	mes "手狭に見えるかもしれませんが、";
	mes "内部はとても素敵ですよ。";
	next;
	mes "[パーインオレン]";
	mes "宿泊料はお一人様1000Zenyです。";
	mes "お支払いは前払いとさせて頂きます。";
	mes "わざわざこの様な場所まで";
	mes "いらっしゃったのですから";
	mes "素敵なお部屋をご選択された方が";
	mes "良いと思いますよ。";
	next;
	mes "[パーインオレン]";
	mes "ご利用なさるのでしたら";
	mes "遠慮なくおっしゃってください。";
	mes "すぐご案内いたします。";
	next;
	if(select("利用します","やめます")==2) {
		mes "[パーインオレン]";
		mes "それでは観光をお楽しみください。";
		mes "お客様のご利用をいつでも";
		mes "お待ちしております。";
		close;
	}
	if(Zeny < 1000) {
		mes "[パーインオレン]";
		mes "申し訳ございません。";
		mes "お金が少々足りないようです。";
		mes "再度、所持金を確認なさってから";
		mes "お越しください。";
		close;
	}
	mes "[パーインオレン]";
	mes "ご利用ありがとうございます。";
	mes "楽しい一時をお過ごしください。";
	close2;
	set Zeny,Zeny-1000;
	warp "jawaii_in.gat",129,110;
	end;
}

jawaii.gat,107,189,6	script	従業員#horoom	93,{
	mes "[シャルキラニア]";
	mes "……ハニールームです。";
	mes "宿泊料は1000Zenyです。";
	next;
	mes "[シャルキラニア]";
	mes "……利用しますか？";
	next;
	if(select("利用します","やめます")==2) {
		mes "[シャルキラニア]";
		mes "……そうですか。";
		close;
	}
	if(Zeny < 1000) {
		mes "[シャルキラニア]";
		mes "……お金が足りません。";
		close;
	}
	mes "[シャルキラニア]";
	mes "……どうぞ。";
	close2;
	set Zeny,Zeny-1000;
	warp "jawaii_in.gat",86,117;
	end;
}

jawaii.gat,112,173,0	script	従業員#villroom	93,{
	mes "[ラクスラニア]";
	mes "シャルキ……";
	mes "そんな顔してたら駄目じゃないの。";
	mes "もう少し愛想良くしなさいよ。";
	mes "そんなんだからお客さん達が";
	mes "不愉快に思うんじゃない。";
	next;
	mes "[ラクスラニア]";
	mes "……あら、お客さん！";
	mes "いらっしゃいませ。";
	mes "ご旅行でいらしたのですか？";
	next;
	mes "[ラクスラニア]";
	mes "こちらはビラルームです。";
	mes "ご自宅の様にくつろげますよ。";
	mes "宿泊料は他の部屋同様";
	mes "1000Zenyになります。";
	next;
	mes "[ラクスラニア]";
	mes "お望みならば、";
	mes "すぐにご案内いたします。";
	mes "どうなさいますか？";
	next;
	if(select("利用します","やめます")==2) {
		mes "[ラクスラニア]";
		mes "了解しました。";
		mes "もしよろしければ";
		mes "隣のハニールームに";
		mes "行ってみてはいかがでしょう。";
		mes "シャルキが少々、無愛想ですが";
		mes "お部屋はきれいですので。";
		close;
	}
	if(Zeny < 1000) {
		mes "[ラクスラニア]";
		mes "あら？";
		mes "宿泊料が不足しているようですね。";
		mes "お連れの方にお願いしてみては";
		mes "どうです？ウフフ。";
		close;
	}
	mes "[ラクスラニア]";
	mes "ありがとうございます。";
	mes "ごゆっくりなさってください。";
	mes "よいご旅行になりますように。";
	close2;
	set Zeny,Zeny-1000;
	warp "jawaii_in.gat",87,75;
	end;
}

//============================================================
// 秘密酒場NPC
//------------------------------------------------------------
jawaii_in.gat,28,96,0	script	JawaiiWaitress	-1,3,3,{
OnTouch:
	if (getpartnerid()) {
		donpcevent "従業員#jaw8::OnWelcome";
		donpcevent "従業員#jaw7::OnWelcome";
		donpcevent "従業員#jaw6::OnWelcome";
		donpcevent "従業員#jaw5::OnWelcome";
		donpcevent "従業員#jaw4::OnWelcome";
		donpcevent "従業員#jaw3::OnWelcome";
		donpcevent "従業員#jaw2::OnWelcome";
		donpcevent "従業員#jaw1::OnWelcome";
		end;
	}
	donpcevent "従業員#jaw8::OnSolo";
	donpcevent "従業員#jaw7::OnSolo";
	donpcevent "従業員#jaw6::OnSolo";
	donpcevent "従業員#jaw5::OnSolo";
	donpcevent "従業員#jaw4::OnSolo";
	donpcevent "従業員#jaw3::OnSolo";
	donpcevent "従業員#jaw2::OnSolo";
	donpcevent "従業員#jaw1::OnSolo";
	end;
}

jawaii_in.gat,25,94,0	script	従業員#jaw1	724,{
	mes "[従業員トリト]";
	mes "ジャワイの酒場へようこそ～！";
	next;
	if(getpartnerid()) {
		mes "[従業員トリト]";
		mes "最近、変な人を見かけるんですよ。";
		mes "飲みに来ているだけなら";
		mes "いいんですけどね……";
		next;
		mes "[従業員トリト]";
		mes "お二方のご結婚";
		mes "お祝い申し上げます～。";
		mes "お幸せに～！";
	}
	else {
		mes "[従業員トリト]";
		mes "どうぞ楽しい一時をお過ごしください。";
		mes "でもあまり飲み過ぎないでくださいね。";
	}
	close;
OnWelcome:
	Emotion e_kis;
	end;
OnSolo:
	Emotion e_omg;
	end;
}

jawaii_in.gat,25,96,0	script	従業員#jaw2	724,{
	mes "[従業員パイ]";
	mes "ジャワイの酒場へようこそ～！";
	next;
	if(getpartnerid()) {
		mes "[従業員パイ]";
		mes "ここはけっこう静かなので、";
		mes "おくつろぎになれると思います。";
		mes "でもたまにソロ軍団と称する";
		mes "騒がしい人達が来るんですけどね。";
		next;
		mes "[従業員パイ]";
		mes "お二方のご結婚";
		mes "お祝い申し上げます～。";
		mes "楽しい思い出をたくさん";
		mes "作ってくださいね～。";
	}
	else {
		mes "[従業員パイ]";
		mes "楽しんでくださいね～！";
		mes "でも、幸せな人々の邪魔は";
		mes "しないでくださいね!!";
	}
	close;
OnWelcome:
	Emotion e_kis;
	end;
OnSolo:
	Emotion e_omg;
	end;
}

jawaii_in.gat,25,98,0	script	従業員#jaw3	724,{
	mes "[従業員ボビ]";
	mes "ジャワイの酒場へようこそ～！";
	next;
	if(getpartnerid()) {
		mes "[従業員ボビ]";
		mes "あ～、うらやまし～な～。";
		mes "私も早く結婚したい～！";
	}
	else {
		mes "[従業員ボビ]";
		mes "うわ？";
		mes "外の人??";
		mes "あの～、恋人はいないんですか？";
		mes "……あ、ちなみに私";
		mes "料理が得意なんですよ～。";
		mes "どうです？今度お茶しません？";
	}
	close;
OnWelcome:
	Emotion e_kis;
	end;
OnSolo:
	Emotion e_omg;
	end;
}

jawaii_in.gat,25,100,0	script	従業員#jaw4	724,{
	mes "[従業員イト]";
	mes "ジャワイの酒場へようこそ～！";
	next;
	if(getpartnerid()) {
		mes "[従業員イト]";
		mes "幸せそう……";
		mes "いいな……";
		mes "ソロ軍団に邪魔されないように";
		mes "気をつけてお楽しみください～。";
	}
	else {
		mes "[従業員イト]";
		mes "妨害禁止！騒動禁止！";
		mes "泥酔禁止！祝福歓迎！";
	}
	close;
OnWelcome:
	Emotion e_kis;
	end;
OnSolo:
	Emotion e_omg;
	end;
}

jawaii_in.gat,30,94,4	script	従業員#jaw5	724,{
	mes "[従業員ルカ]";
	mes "ジャワイの酒場へようこそ～！";
	next;
	if(getpartnerid()) {
		mes "[従業員ルカ]";
		mes "結婚おめでとう～！";
		mes "幸せそうなお二人を見ていると";
		mes "とても気分がいいです。";
		mes "それに引き換えソロ軍団の";
		mes "酒癖といったら…はぁ～。";
		mes "お二方も気をつけてくださいね。";
	}
	else {
		mes "[従業員ルカ]";
		mes "……歓迎……";
		mes "……できないです！";
		mes "くれぐれも迷惑は";
		mes "かけないでくださいね！";
	}
	close;
OnWelcome:
	Emotion e_kis;
	end;
OnSolo:
	Emotion e_omg;
	end;
}

jawaii_in.gat,30,96,4	script	従業員#jaw6	724,{
	mes "[従業員ケン]";
	mes "ジャワイの酒場へようこそ～！";
	next;
	if(getpartnerid()) {
		mes "[従業員ケン]";
		mes "この頃、変な人を見かけるので";
		mes "ちょっと心配です……";
		mes "そのせいもあってカプラ職員を";
		mes "島に呼びにくくて……";
	}
	else {
		mes "[従業員ケン]";
		mes "どうぞお楽しみください。";
		mes "でもお酒はほどほどにね。";
	}
	close;
OnWelcome:
	Emotion e_kis;
	end;
OnSolo:
	Emotion e_omg;
	end;
}

jawaii_in.gat,30,98,4	script	従業員#jaw7	724,{
	mes "[従業員アマド]";
	mes "ジャワイの酒場へようこそ～！";
	next;
	if(getpartnerid()) {
		mes "[従業員アマド]";
		mes "火炎放射器のように";
		mes "あつあつのカップルですね～。";
		mes "おめでとう～。";
	}
	else {
		mes "[従業員アマド]";
		mes "……ちょっと場違いじゃないですか？";
		mes "ここでは楽しみづらいでしょ。";
		mes "でもだからといって、";
		mes "人の邪魔はしないでくださいね～。";
	}
	close;
OnWelcome:
	Emotion e_kis;
	end;
OnSolo:
	Emotion e_omg;
	end;
}

jawaii_in.gat,30,100,4	script	従業員#jaw8	724,{
	mes "[従業員ビア]";
	mes "ジャワイの酒場へようこそ～！";
	next;
	if(getpartnerid()) {
		mes "[従業員ビア]";
		mes "月明かりに輝く剣のように";
		mes "お二方はとてもお似合いですね！";
	}
	else {
		mes "[従業員ビア]";
		mes "アクセルに対するブレーキのごとく";
		mes "この雰囲気に水をさしてません？";
		mes "是非、恋人を見つけてから";
		mes "お越しください～。";
	}
	close;
OnWelcome:
	Emotion e_kis;
	end;
OnSolo:
	Emotion e_omg;
	end;
}

jawaii_in.gat,43,115,0	script	お客さん#jaw_1	97,{
	if(getpartnerid()) {
		mes "[ブル]";
		mes "……幸せそうだな。";
		mes "その気持ちを忘れるなよ！";
		mes "おい、絶対だぞ！";
		close;
	}
	if(Zeny < 100) {
		mes "[ブル]";
		mes "クウッ……";
		mes "ん？君、お金がないのか？";
		mes "……うんうん、その気持ち。";
		mes "僕も分かるよ。";
		next;
		mes "[ブル]";
		mes "仕方ないな、おごってやろう！";
		mes "ほら、一緒に飲もう!!";
		next;
		mes "[ブル]";
		mes "この一杯で、人生をパーッと";
		mes "明るくしよう!!";
		mes "さあ元気を出して!";
		mes "こんな所でくじけてはいけないよ！";
		next;
		mes "- 彼はJJスペシャルを勧めてきた。 -";
		mes "- 「幸せになるぞー!!」 -";
		mes "- と思いっきり叫び -";
		mes "- グイと勢いよく飲んだ。 -";
		close2;
		percentheal -100,0;
		end;
	}
	mes "[ブル]";
	mes "クウーッ!!";
	mes "こんな所に来るんじゃなかった！";
	mes "はぁ～……";
	mes "みーんな幸せそうにしてるな……";
	mes "それに比べて僕は……";
	next;
	mes "[ブル]";
	mes "……恋人がいない人は";
	mes "すーっごく惨めなんだよ!!";
	mes "君も、君も同じだよね？";
	mes "わかるよね!?";
	next;
	mes "[ブル]";
	mes "クウッ……";
	mes "おい!!もう一杯!!";
	close;
}

jawaii_in.gat,41,106,2	script	お客さん#jaw_2	98,{
	if(getpartnerid()) {
		mes "[ガイ]";
		mes "……チッ。";
		mes "貴様はどうなんだ?!";
		mes "人生は一人で歩むものだよな？";
		next;
		mes "[ガイ]";
		mes "俺は誰も信じないぞ！";
		mes "俺だけの道を進んでやる!!";
	}
	else {
		mes "[ガイ]";
		mes "食べて、食べて!!";
		mes "飲んで、飲んで!!";
		next;
		mes "[ガイ]";
		mes "ウオーッ！";
		mes "ラブラブカップルのバカヤロー!!";
		mes "自由気ままなシングルバンザーイ！";
	}
	close;
}

jawaii_in.gat,15,104,2	script	従業員#jawaii	80,{
	if(getpartnerid()) {
		emotion 30;
		mes "[従業員]";
		mes "いらっしゃいませ。";
		mes "何をお望みでしょうか？";
		next;
		switch(select("食べ物をください","飲み物をください","ここは何をやっているとこです？")) {
		case 1:
			mes "[従業員]";
			mes "にく1個";
			set .@itemid,517;
			break;
		case 2:
			mes "[従業員]";
			mes "黄ポーション1個";
			set .@itemid,503;
			break;
		case 3:
			mes "[従業員]";
			mes "お酒をお望みでしたら";
			mes "まっすぐ中央へお進みください。";
			mes "あ、でも……";
			mes "飲み過ぎには注意してくださいね。";
			mes "ほどほどに飲んで語るのがいいんです。";
			mes "では楽しい一時を～！";
			close;
		}
		mes "1000Zenyになります～。";
		mes "いかがなさいます？";
		next;
		if(select("いただきます","高い！……遠慮します")==2) {
			mes "[従業員]";
			mes "何かございましたら、";
			mes "いつでもおっしゃってくださいね～。";
			close;
		}
		if(Zeny < 1000) {
			mes "[従業員]";
			mes "あの……";
			mes "お金が足りないんですけど……";
			close;
		}
		mes "[従業員]";
		mes "こちらになります～。";
		mes "どうぞお召しあがりください。";
		set Zeny,Zeny-1000;
		getitem .@itemid,1;
		close;
	}
	emotion 23;
	mes "[従業員]";
	mes "……いらっしゃいませ。";
	mes "どうやってここまで";
	mes "いらっしゃったのかは知りませんが……";
	next;
	mes "[従業員]";
	mes "幸せな人々に訳もなく";
	mes "言い寄って邪魔するくらいなら";
	mes "あそこのバーで酒でも";
	mes "飲んでなさい！";
	next;
	if(select("私たちはソロ軍団だ!!","……お祝いに来たんですが……")==1) {
		mes "[従業員]";
		mes "なんて人なんでしょう!?";
		mes "たとえ他人の幸せであっても";
		mes "少し位は祝ってあげてもいいでしょ！";
		mes "ソロ軍団だ何だと言って騒ぐ気なら……";
		mes "ちょっとこっちへ来なさい!!";
		next;
		mes "[従業員]";
		mes "……いいですか？";
		mes "きちんと相手を見つけて";
		mes "結婚してから、お越しください。";
		mes "そうすればちゃんと";
		mes "おもてなしをしますから。";
		close;
	}
	mes "[従業員]";
	mes "あ、わざわざお祝いで";
	mes "いらっしゃったのですか。";
	mes "申し訳ありませんでした!!";
	mes "私ってばとんでもない誤解を……";
	mes "それではどうぞお楽しみください～。";
	close;
}

jawaii_in.gat,28,124,2	script	バーテンダー#jaw	46,{
	mes "[バーテンダー]";
	mes "いらっしゃいませ。";
	mes "お客さん、何になさいますか？";
	next;
	if(Zeny < 100) {
		mes "[バーテンダー]";
		mes "うーん、お客さん。";
		mes "お金が足りないですね。";
		mes "申し訳ありませんが、当店は";
		mes "無料のお酒を置いていませんので。";
		close;
	}
	set Zeny,Zeny-100;
	while(1) {
		set @menu,select("マスターのお勧め","ミシェル","オールドフレンズ","ミサ","パンランズ");
		if(.@flag && .@drink >= 4) {
			mes "[バーテンダー]";
			mes "……これは私のおごりです。";
			close2;
			percentheal -100,0;
			end;
		}
		switch(@menu) {
		case 1:
			if(.@drink >= 4 || (.@flag && .@drink == 3)) {
				mes "[バーテンダー]";
				mes "どうぞお召し上がりください。";
				mes "……大丈夫ですか？";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "マスター、辛いよ……";
				mes "だってさ……";
				input .@dummy$;
				mes .@dummy$;
				mes "なんだよ……";
				next;
				mes "[バーテンダー]";
				mes "……では、私のお勧め";
				mes "^0000FFJ&Jスクリュードライバーver.5^000000";
				mes "をどうぞ。";
				mes "これは私のおごりです。";
				close2;
				percentheal -100,0;
				end;
			}
			switch(rand(4)) {
			case 0:
				mes "[バーテンダー]";
				mes "私がお勧めするものはですね……";
				next;
				mes "[バーテンダー]";
				mes "^0000FFホワイトマグナム^000000です。";
				mes "スライスしたレモン独特の香りが";
				mes "しますが、それはまやかし……";
				mes "少し飲んで見ると分かりますよ。";
				mes "実はモロクの魂がベースなんです。";
				next;
				mes "- 少量のレモン汁が塗られた -";
				mes "- 逆三角形のグラスを受けとった。 -";
				mes "- やや酸っぱい香りが漂っている。 -";
				mes "- 一気に飲むのはなんとなく -";
				mes "- 危険な気がする。 -";
				next;
				mes "[バーテンダー]";
				mes "やや酸っぱめの爽やかな味なので";
				mes "女性に人気があります。";
				mes "モロク風の香りもしますよ。";
				next;
				mes "- 何故かソンブレロを無性に -";
				mes "- 被りたくなった。 -";
				mes "- その勢いで口の中へお酒を -";
				mes "- 一気に放り込んだ。 -";
				misceffect 17;
				break;
			case 1:
				mes "[バーテンダー]";
				mes "それでは……";
				mes "こんなのはどうでしょうか？";
				next;
				mes "[バーテンダー]";
				mes "私のお勧め";
				mes "^0000FFキスオブファイアー^000000です。";
				mes "甘い香りと独特の赤色に酔っていると";
				mes "……気づいたら目を回してひっくり";
				mes "返っていたなんてことが";
				mes "あるかもしれません。";
				next;
				mes "- 少量の砂糖がついている -";
				mes "- 逆三角形のグラスを受け取った。 -";
				mes "- 甘い香りが漂っている。 -";
				mes "- 一気に飲むのはなんとなく -";
				mes "- 危険な感じがする。 -";
				next;
				mes "[バーテンダー]";
				mes "口をつけるその瞬間が重要です。";
				mes "甘い砂糖が唇の上を軽やかに";
				mes "走り回るような味がよいのです。";
				next;
				mes "- 唇の位置に気をつけて -";
				mes "- ゆっくり飲んだ。 -";
				misceffect 38;
				break;
			case 2:
				mes "[バーテンダー]";
				mes "うん、これはどうでしょうか？";
				next;
				mes "[バーテンダー]";
				mes "私のお勧め^0000FFブラックジャック^000000です。";
				mes "懐かしい思い出と後悔の気持ちが";
				mes "盛られた海賊のカクテルです。";
				next;
				mes "- 小さなグラスに注がれた -";
				mes "- 黒みがかった紫色の液体を眺めた。";
				mes "-";
				mes "- 一口で飲みきれる程少ない量だ。 -";
				mes "- だが危険な雰囲気が漂っている。 -";
				next;
				mes "[バーテンダー]";
				mes "火をつけると激しく";
				mes "燃え上がるほど濃いお酒です。";
				mes "一気に飲み干そうとすると";
				mes "喉が焼けるような感じになりますよ。";
				next;
				mes "- 一気に飲み干した。 -";
				misceffect 124;
				break;
			case 3:
				mes "[バーテンダー]";
				mes "これはどうでしょうか？";
				next;
				mes "[バーテンダー]";
				mes "私のお勧め^0000FFミッドガルド^000000です。";
				mes "雄大なミッドガルド大陸の";
				mes "大地の温もりが感じられる";
				mes "カクテルです。";
				next;
				mes "- 少し大きめのグラスに氷と一緒に -";
				mes "- 注がれた黒色の液体を眺めた。 -";
				mes "- 少々甘い香りが漂う。だが -";
				mes "- 立派なひげを生やした筋肉質の -";
				mes "- おじさんのような匂いもする。 -";
				next;
				mes "[バーテンダー]";
				mes "香りを楽しみながら";
				mes "少しずつ飲むとよいですよ。";
				mes "少し苦めの味がしますがね。";
				mes "これはミッドガルドの男達が";
				mes "好んで飲むものなんです。";
				next;
				mes "- 少しずつ味わいながら飲んだ。 -";
				misceffect 118;
				break;
			}
			set .@flag,1;
			percentheal -20,0;
			break;
		case 2:
			mes "[バーテンダー]";
			mes "どうぞ、こちらになります。";
			next;
			mes "[バーテンダー]";
			mes "好きな異性の気を引きたい時は";
			mes "これをお選びください。";
			mes "独特の香りと細やかながらも";
			//mes "毒毒しい味を持つこれは、";	//本鯖仕様
			mes "毒々しい味を持つこれは、";
			mes "あなたの個性を引き立てるでしょう。";
			next;
			mes "- シンプルなグラスに注がれた -";
			mes "- 白い液体を見た。少々甘辛い -";
			mes "- 匂いがするがおいしそうだ。 -";
			mes "- 思わず「うまい!」と -";
			mes "- 叫びたくなるかもしれない。 -";
			next;
			mes "[バーテンダー]";
			mes "甘辛い味ですが、";
			mes "やや苦めのこれこそが人生だ";
			mes "とおっしゃる方が多いですね。";
			mes "舌を使いながら少しずつ";
			mes "ゆっくり飲むとよいですよ。";
			next;
			mes "- 舌を使って -";
			mes "- 少しずつ飲んでみた。 -";
			next;
			mes "- 感想はやはり -";
			mes "- 「うまい!!」 -";
			misceffect 18;
			break;
		case 3:
			mes "[バーテンダー]";
			mes "どうぞ、こちらになります。";
			next;
			mes "[バーテンダー]";
			mes "飲めば飲むほど深い味がします。";
			mes "古い友人みたいなものですね。";
			mes "いつでも誰とでも";
			mes "どんな食べ物にも合います。";
			next;
			mes "- 目の前の派手なグラスに -";
			mes "- 鮮やかな青色の液体が注がれた。 -";
			mes "- やや酸っぱい香りが鼻を刺激する。";
			mes "-";
			next;
			mes "[バーテンダー]";
			mes "少しずつ味わうことで";
			mes "深みが増していくものです。";
			mes "これは一口で終わらせるには";
			mes "とても惜しい物ですね。";
			next;
			mes "- 三度に分けて飲んでみた。 -";
			mes "- 口の中一杯に甘酸っぱい香りが -";
			mes "- 広がる。本当においしい。 -";
			misceffect 83;
			break;
		case 4:
			mes "[バーテンダー]";
			mes "どうぞ、こちらになります。";
			next;
			mes "[バーテンダー]";
			mes "激動の時代、";
			mes "その当時の栄光を懐かしむ人……";
			mes "混沌の中で秩序の為に闘った者達の";
			mes "記憶を振り返る人……";
			mes "そして……セピア色のロマンが";
			mes "解る方々にお勧めしています。";
			next;
			mes "- 茶色い液体がタンブラーに -";
			mes "- 注がれた。ねばねばした -";
			mes "- 深い香りがする。-";
			mes "- ……弾薬の匂いに似ている。 -";
			mes "- まるで巨大な機械がその場に -";
			mes "- あるかのような印象を受けた。 -";
			next;
			mes "[バーテンダー]";
			mes "大きいグラスですが、";
			mes "一口で飲み切った方がいいですよ。";
			mes "ゆっくり飲むと、せっかくの激しい";
			mes "味がぬるくなってしまいますからね。";
			next;
			mes "- タンブラーをしっかり持ち -";
			mes "- 一気に飲み干した。 -";
			next;
			mes "- 巨大な砲撃を受けたような -";
			mes "- 衝撃が走った。 -";
			misceffect 106;
			break;
		case 5:
			mes "[バーテンダー]";
			mes "どうぞ、こちらになります。";
			next;
			mes "[バーテンダー]";
			mes "こちらを選ぶ方は本当に珍しいです。";
			mes "派手な色で量も多いのですが……";
			mes "実際に飲んだ後は、とても虚しく";
			mes "暗い気持ちだけが残ります。";
			next;
			mes "- 曲がったグラスに -";
			mes "- 薄紫色の液体が注がれた。 -";
			mes "- 香ばしいが、何故か -";
			mes "- 不気味な感じがする。 -";
			mes "- そのせいなのか微妙に -";
			mes "- 拒否感がある。 -";
			next;
			mes "[バーテンダー]";
			mes "もし召し上がれそうにないのでしたら";
			mes "他のお酒をご提供しますが……";
			mes "ご自分で注文なさったのですから";
			mes "一度お飲みになるのも";
			mes "いいかもしれませんね。";
			next;
			mes "- 一口飲んでみた。 -";
			mes "- ……!! -";
			mes "- すぐに吐き出してしまった。 -";
			misceffect 5;
			break;
		}
		if(@menu>1) {
			percentheal -10,0;
			if(@menu==5) {
				next;
				mes "- 二度と飲む気にはなれなかった。 -";
			}
		}
		set .@drink,.@drink+1;
		next;
		mes "["+strcharinfo(0)+"]";
		mes "マスター……もう一杯……";
		next;
	}
}
-	script	空港職員#AirportIn	90,{
	mes "[空港職員]";
	mes "こんにちは。";
	mes "我々は、お客様に快適な空の旅を";
	mes "提供できるよう、心掛けております。";
	mes "何をお手伝いいたしましょう？";
	next;
	if(select("空港に入る","取り消し")==1) {
		mes "[空港職員]";
		mes "飛行船の利用料金は1200zenyです。";
		mes "飛行船無料利用券をお持ちの場合は";
		mes "無料でご利用できます。";
		mes "空港に入りますか？";
		next;
		if(select("はい","いいえ")==1) {
			if(countitem(7311))
				delitem 7311,1;
			else if(Zeny<1200) {
				mes "[空港職員]";
				mes "飛行船の利用料金は";
				mes "1200zenyです。";
				close;
			}
			else {
				set Zeny,Zeny-1200;
			}
			warp "y_airport",148,51;
			end;
		}
	}
	mes "[空港職員]";
	mes "またのご利用をお待ちしております。";
	close;
}
-	script	空港職員#AirportOut	90,{
	mes "[空港職員]";
	mes "こんにちは。";
	mes "我々は、お客様に快適な空の旅を";
	mes "提供できるよう、心掛けております。";
	mes "何をお手伝いいたしましょう？";
	next;
	if(select("空港から出る","取り消し")==1) {
		mes "[空港職員]";
		mes "一度出てしまうと、再入場の際は";
		mes "ご料金を頂くこととなります。";
		mes "出ますか？";
		next;
		if(select("はい","いいえ")==1) {
			warp "y_airport",142,40;
			end;
		}
	}
	mes "[空港職員]";
	mes "またのご利用をお待ちしております。";
	close;
}
y_airport.gat,126,43,5	duplicate(空港職員#AirportIn)	空港職員#1	90
y_airport.gat,143,43,5	duplicate(空港職員#AirportIn)	空港職員#2	90
y_airport.gat,158,43,5	duplicate(空港職員#AirportIn)	空港職員#3	90
y_airport.gat,126,51,3	duplicate(空港職員#AirportOut)	空港職員#4	90
y_airport.gat,143,49,3	duplicate(空港職員#AirportOut)	空港職員#5	90
y_airport.gat,158,50,3	duplicate(空港職員#AirportOut)	空港職員#6	90
y_airport.gat,145,63,4	script	空港職員#yuno1	91,{
	mes "[空港職員]";
	mes "シュバルツバルド共和国内の";
	mes "各地域を行き来する";
	mes "飛行船をご利用なさいますか？";
	next;
	if(select("はい","いいえ")==1) {
		warp "yuno.gat",59,244;
		end;
	}
	mes "[空港職員]";
	mes "快適な旅になりますように。";
	close;
}

y_airport.gat,140,63,4	script	空港職員#yuno2	91,{
	mes "[空港職員]";
	mes "ジュノー・イズルード・ラヘル";
	mes "を運行する飛行船を";
	mes "ご利用なさいますか？";
	next;
	if(select("はい","いいえ")==1) {
		warp "yuno.gat",47,244;
		end;
	}
	mes "[空港職員]";
	mes "快適な旅になりますように。";
	close;
}

morocc_in,166,76,7	script	バーテン#moc	46,{
	mes "[バーテン]";
	mes "注文か？";
	next;
	if(select("トロピカル・ソグラト","ヴァーミリオン・ザ・ビーチ","いいえ")==3){
		mes "[バーテン]";
		mes "そうか……";
		close;
	}
	if(MaxWeight - Weight < 2000) {
		mes "[バーテン]";
		mes "お前、酒を持てるのか？";
		mes "少しふらふらしてるぞ。";
		close;
	}
	if(Zeny < 1000) {
		mes "[バーテン]";
		mes "……金はあるのか？";
		mes "財布を確認してから注文してくれ。";
		mes "一杯1000Zenyだ。";
		close;
	}
	mes "[バーテン]";
	if(@menu == 1) mes "これはほとんどが果汁だが、";
	mes "飲みすぎには気をつけな。";
	set Zeny,Zeny-1000;
	getitem 12111+@menu,1;
	close;
}

que_ng,73,26,4	shop	ブンレイ	83,2117:-1,7521:-1,7522:-1,7523:-1,7524:-1
que_ng,72,31,3	shop	ブンジ		83,13250:-1,13251:-1,13252:-1,13253:-1,13254:-1

que_ng.gat,72,29,3	script	カシン	83,{
	if(Job != Job_Ninja && Job != Job_Kagerou && Job != Job_Oboro) {
		mes "[カシン]";
		mes "私はカシン。";
		mes "忍者の方々と";
		mes "アイテムを交換しています。";
		next;
		mes "[カシン]";
		mes "あなたはどうやら";
		mes "忍者ではないようなので";
		mes "交換はできません。";
		close;
	}
	mes "[カシン]";
	mes "私はカシン。";
	mes "苦無が必要なら";
	mes "いつでもきてください。";
	next;
	mes "[カシン]";
	mes "何が必要ですか？";
	mes "選んでみてください。";
	next;
	switch(select("猛毒の苦無：10個","氷柱の苦無：10個","狂風の苦無：10個","黒土の苦無：10個","烈火の苦無：10個","取り消し")) {
	case 1:	//猛毒の苦無 - 手裏剣20,影宝珠1
		set .@itemid,13259;
		setarray .@need,13250,7524;
		setarray .@amount,20,1;
		break;
	case 2:	//氷柱の苦無 - 雨雲の手裏剣8,氷閃石2
		set .@itemid,13255;
		setarray .@need,13251,7522;
		setarray .@amount,8,2;
		break;
	case 3:	//狂風の苦無 - 閃光の手裏剣4,風鈴石2
		set .@itemid,13257;
		setarray .@need,13252,7523;
		setarray .@amount,4,2;
		break;
	case 4:	//黒土の苦無 - 鋭刃の手裏剣2,影宝珠1
		set .@itemid,13256;
		setarray .@need,13253,7524;
		setarray .@amount,2,1;
		break;
	case 5:	//烈火の苦無 - 刺針の手裏剣1,烈火石2
		set .@itemid,13258;
		setarray .@need,13254,7521;
		setarray .@amount,1,2;
		break;
	case 6:
		mes "[カシン]";
		mes "わかりました。";
		mes "またいつでも来てください。";
		close;
	}
	mes "[カシン]";
	mes getitemname(.@need[0])+.@amount[0]+"個と" +getitemname(.@need[1])+.@amount[1]+ "個で、";
	mes getitemname(.@itemid)+ "10個を1束として";
	mes "交換しています。";
	next;
	mes "[カシン]";
	mes "一度に500束まで交換できます。";
	mes "交換を止めるなら";
	mes "0を入力してください。";
	next;
	input .@num;
	if(.@num <= 0 || .@num > 500) {
		mes "[カシン]";
		mes "交換中止です。";
		mes "今度また来てください。";
		close;
	}
	if(countitem(.@need[0]) < .@amount[0]*.@num || countitem(.@need[1]) < .@amount[1]*.@num) {
		mes "[カシン]";
		mes "交換するアイテムが";
		mes "足りないみたいですよ？";
		close;
	}
	delitem .@need[0],.@amount[0]*.@num;
	delitem .@need[1],.@amount[1]*.@num;
	getitem .@itemid,10*.@num;
	mes "[カシン]";
	mes "確認しました。";
	mes "では、どうぞ。";
	close;
}

que_ng.gat,72,34,3	script	カイバラ	847,{
	if(Job != Job_Ninja && Job != Job_Kagerou && Job != Job_Oboro) {
		mes "[カイバラ]";
		mes "ワシは忍者の武器を";
		mes "作る事ができる。";
		mes "じゃが、お前は忍者では";
		mes "ないようじゃな。";
		next;
		mes "[カイバラ]";
		mes "ワシの腕前をお前には";
		mes "披露できないようじゃ。";
		mes "本当に残念じゃ。";
		close;
	}
	mes "[カイバラ]";
	mes "ワシは忍者の武器を";
	mes "作る事ができるカイバラという。";
	mes "何か欲しい物があるか？";
	next;
	switch(select("黒鱗","十手","阿修羅[3]","村雨","白刃","やめる")) {
	case 1:	//黒鱗 - ドラゴンの鱗400,オリデオコン5,ドラゴンの皮30,20万z
		mes "[カイバラ]";
		mes "ふむ、^FF0000黒鱗^000000を選んだか。";
		mes "黒鱗はそのほとんどが";
		mes "ドラゴンの鱗で出来ておる。";
		next;
		mes "[カイバラ]";
		mes "材料はドラゴンの鱗400個、";
		mes "オリデオコン5個、";
		mes "ドラゴンの鱗30個、";
		mes "20万Zenyが必要じゃ。";
		mes "ワシに製作を依頼するか？";
		set .@itemid,13006;
		setarray .@need,1036,984,7123;
		setarray .@amount,400,5,30;
		set .@zeny,200000;
		break;
	case 2:	//十手 - 鋼鉄30,古い柄1,2万z
		mes "[カイバラ]";
		mes "ふむ、^FF0000十手^000000を選んだか。";
		mes "十手には、使えば使うほど";
		mes "強くなるという伝説がある。";
		next;
		mes "[カイバラ]";
		mes "材料は";
		mes "鋼鉄30個、古い柄1個、";
		mes "2万Zenyが必要じゃ。";
		mes "ワシに製作を依頼するか？";
		set .@itemid,13007;
		setarray .@need,999,7022;
		setarray .@amount,30,1;
		set .@zeny,20000;
		break;
	case 3:	//阿修羅[3] - 鋼鉄25,古い魔方陣5,3万2千z
		mes "[カイバラ]";
		mes "ふむ、^FF0000阿修羅[3]^000000を選んだか。";
		mes "阿修羅[3]を作るためには";
		mes "鋼鉄25個、古い魔方陣5個、";
		mes "3万2千Zenyが必要じゃ。";
		mes "ワシに製作を依頼するか？";
		set .@itemid,13011;
		setarray .@need,999,7099;
		setarray .@amount,25,5;
		set .@zeny,32000;
		break;
	case 4:	//村雨 - 鋼鉄30,アクアマリン10,4万8千z
		mes "[カイバラ]";
		mes "ふむ、^FF0000村雨^000000を選んだか。";
		mes "村雨を作るには";
		mes "鋼鉄30個、アクアマリン10個、";
		mes "4万8千Zenyが必要じゃ。";
		mes "ワシに製作を依頼するか？";
		set .@itemid,13012;
		setarray .@need,999,720;
		setarray .@amount,30,10;
		set .@zeny,48000;
		break;
	case 5:	//白刃 - スケルボーン500,真珠5,ヒールLv3 10,12万z
		mes "[カイバラ]";
		mes "ふむ、^FF0000白刃^000000を選んだか。";
		mes "白刃を作るには";
		mes "スケルボーン500個、真珠5個、";
		mes "ヒールLv3を10個、";
		mes "12万Zenyが必要じゃ。";
		mes "ワシに製作を依頼するか？";
		set .@itemid,13014;
		setarray .@need,932,722,12001;
		setarray .@amount,500,5,10;
		set .@zeny,120000;
		break;
	case 6:
		mes "[カイバラ]";
		mes "うむ。";
		mes "気が向いたら";
		mes "また来るがよい。";
		close;
	}
	next;
	if(select("やめておきます","はい！")==1) {
		mes "[カイバラ]";
		mes "うむ……";
		mes "そう簡単には集められない";
		mes "材料じゃしのぅ……";
		mes "もし材料が集まるようなら";
		mes "いつでもまたきなされ。";
		close;
	}
	for(set .@i,0; .@i < getarraysize(.@need); set .@i,.@i+1) {
		if(countitem(.@need[.@i]) < .@amount[.@i]) {
			mes "[カイバラ]";
			mes "ワシが" +getitemname(.@itemid)+(.@itemid ==13011? "[3]": "")+ "を作るには";
			mes "材料が足りないようじゃぞ。";
			next;
			break;
		}
	}
	if(.@i == getarraysize(.@need) && Zeny < .@zeny) {
		mes "[カイバラ]";
		mes "うーむ……";
		mes "材料は十分じゃが、";
		mes "お金が足りないのぅ。";
		next;
	}
	if(.@i < getarraysize(.@need) || Zeny < .@zeny) {
		mes "[カイバラ]";
		mes getitemname(.@itemid)+(.@itemid ==13011? "[3]": "")+ "の材料は、";
		switch(.@itemid) {
		case 13006:
			mes "^FF0000ドラゴンの鱗400個^000000、";
			mes "^FF0000オリデオコン5個^000000、";
			mes "^FF0000ドラゴンの鱗30個^000000、";
			mes "^FF000020万Zeny^000000が必要じゃ。";
			break;
		case 13007:
			mes "^FF0000鋼鉄30個^000000、^FF0000古い柄1個^000000、";
			mes "^FF00002万Zeny^000000が必要じゃ。";
			break;
		case 13011:
			mes "^FF0000鋼鉄25個^000000、^FF0000古い魔方陣5個^000000、";
			mes "^FF00003万2千Zeny^000000が必要じゃ。";
			break;
		case 13012:
			mes "^FF0000鋼鉄30個^000000、^FF0000アクアマリン10個^000000、";
			mes "^FF00004万8千Zeny^000000が必要じゃ。";
			break;
		case 13014:
			mes "^FF0000スケルボーン500個^000000、^FF0000真珠5個^000000、";
			mes "^FF0000ヒールLv3を10個^000000、";
			mes "^FF000012万Zeny^000000が必要じゃ。";
			break;
		}
		mes "ちゃんと確認してくるんじゃぞ。";
		close;
	}
	if(checkweight(.@itemid,1) == 0) {
		mes "[カイバラ]";
		mes "どうやら荷物でいっぱいのようじゃぞ。";
		mes "少し余裕をもたせてくるとよい。";
		close;
	}
	for(set .@i,0; .@i < getarraysize(.@need); set .@i,.@i+1)
		delitem .@need[.@i],.@amount[.@i];
	set Zeny,Zeny-.@zeny;
	getitem .@itemid,1;
	mes "[カイバラ]";
	mes "うむ。";
	mes "材料とお金がそろったのぅ。";
	mes "では、" +getitemname(.@itemid)+(.@itemid ==13011? "[3]": "")+ "を";
	mes "受け取るがよい。";
	close;
}

que_ng.gat,22,62,3	script	テツ	709,{
	mes "[テツ]";
	mes "俺の名はテツ。";
	mes "風魔手裏剣を扱っている。";
	next;
	mes "[テツ]";
	mes "趣味のギャンブルで";
	mes "貯金が無くなってな……";
	mes "辞めていた武器製造を";
	mes "再開したんだ。";
	next;
	if(Job != Job_Ninja && Job != Job_Kagerou && Job != Job_Oboro) {
		mes "[テツ]";
		mes "どうやら、お前は忍者では";
		mes "ないみたいだな。";
		mes "今度時間があったら";
		mes "賭け事でもしようぜ。";
		close;
	}
	mes "[テツ]";
	mes "こう見えても風魔関連の武器は";
	mes "俺が世界一だ！";
	mes "安心して製造を任せな！";
	next;
	switch(select("風魔手裏剣・風鳥","風魔手裏剣・大車輪[3]","風魔手裏剣・大車輪[4]","風魔手裏剣・烈火","やめる")) {
	case 1:	//風魔手裏剣・風鳥 - 鋼鉄50,ハーピーの羽20,オリデオコン5,9万z
		mes "[テツ]";
		mes "^FF0000風魔手裏剣・風鳥^000000を選んだか。";
		mes "風魔手裏剣・風鳥を作るには";
		mes "鋼鉄50個、ハーピーの羽20個、";
		mes "オリデオコン5個、";
		mes "9万Zenyが必要だ。";
		mes "製作を依頼するか？";
		set .@itemid,13300;
		setarray .@need,999,7115,984;
		setarray .@amount,50,20,5;
		set .@zeny,90000;
		break;
	case 2:	//風魔手裏剣・大車輪[3] - 鋼鉄30,柄の紐100,オリデオコン2,4万z
		mes "[テツ]";
		mes "^FF0000風魔手裏剣・大車輪[3]^000000を選んだか。";
		mes "風魔手裏剣・風鳥[3]を作るには";
		mes "鋼鉄30個、柄の紐100個、";
		mes "オリデオコン2個、";
		mes "4万Zenyが必要だ。";
		mes "製作を依頼するか？";
		set .@itemid,13301;
		setarray .@need,999,7301,984;
		setarray .@amount,30,100,2;
		set .@zeny,40000;
		break;
	case 3:	//風魔手裏剣・大車輪[4] - 損傷したダイヤモンド20,風魔手裏剣・大車輪[3],オリデオコン3,4万z
		mes "[テツ]";
		mes "^FF0000風魔手裏剣・大車輪[4]^000000を選んだか。";
		mes "風魔手裏剣・大車輪[4]を作るには、";
		mes "損傷したダイヤモンド20個、";
		mes "風魔手裏剣・大車輪[3]1個、";
		mes "オリデオコン3個、4万Zenyが必要だ。";
		mes "製作を依頼するか？";
		next;
		mes "[テツ]";
		mes "言っておくが、";
		mes "風魔手裏剣・大車輪[3]のカードや";
		mes "精錬値は無くなるからな。";
		mes "慎重に考えて、決めてくれ。";
		set .@itemid,13302;
		setarray .@need,733,13301,984;
		setarray .@amount,20,1,3;
		set .@zeny,40000;
		break;
	case 4:	//風魔手裏剣・烈火 - 鋼鉄50,火種100,燃えている心臓100,烈火石50,7万8千z
		mes "[テツ]";
		mes "^FF0000風魔手裏剣・烈火^000000を選んだか。";
		mes "風魔手裏剣・烈火を作るには、";
		mes "鋼鉄50個、火種100個、";
		mes "燃えている心臓100個、烈火石50個、";
		mes "7万8千Zenyが必要だ。";
		mes "製作を依頼するか？";
		set .@itemid,13303;
		setarray .@need,999,7098,7097,7521;
		setarray .@amount,50,100,100,50;
		set .@zeny,78000;
		break;
	case 5:
		mes "[カイバラ]";
		mes "残念だ。";
		mes "俺が心血注いで作った武器を";
		mes "見せてやりたかったんだが……";
		mes "気が変わったらまた来てくれ。";
		close;
	}
	next;
	if(select("やめておきます","はい！")==1) {
		mes "[テツ]";
		mes "うーん……";
		mes "ま、安い材料じゃないよな。";
		mes "でも材料が揃ったら";
		mes "いつでも来てくれよ。";
		close;
	}
	for(set .@i,0; .@i < getarraysize(.@need); set .@i,.@i+1) {
		if(countitem(.@need[.@i]) < .@amount[.@i]) {
			mes "[テツ]";
			mes getitemname(.@itemid)+(.@itemid ==13301? "[3]": (.@itemid ==13302? "[4]": ""))+ "を作る";
			mes "材料が足りないようだぜ。";
			next;
			break;
		}
	}
	if(.@i == getarraysize(.@need) && Zeny < .@zeny) {
		mes "[テツ]";
		mes "材料は十分だけど、";
		mes "金が足りないぜ。";
		next;
	}
	if(.@i < getarraysize(.@need) || Zeny < .@zeny) {
		mes "[テツ]";
		mes getitemname(.@itemid)+(.@itemid ==13301? "[3]": (.@itemid ==13302? "[4]": ""))+ "を作るには、";
		switch(.@itemid) {
		case 13300:
			mes "^FF0000鋼鉄50個^000000、^FF0000ハーピーの羽20個^000000、";
			mes "^FF0000オリデオコン5個^000000、";
			mes "^FF00009万Zeny^000000が必要だ。";
			break;
		case 13301:
			mes "^FF0000鋼鉄30個^000000、^FF0000柄の紐100個^000000、";
			mes "^FF0000オリデオコン2個^000000、";
			mes "^FF00004万Zeny^000000が必要だ。";
			break;
		case 13302:
			mes "^FF0000損傷したダイヤモンド20個^000000、";
			mes "^FF0000風魔手裏剣・大車輪[3]1個^000000、";
			mes "^FF0000オリデオコン3個^000000、^FF00004万Zeny^000000が必要だ。";
			break;
		case 13303:
			mes "^FF0000鋼鉄50個^000000、^FF0000火種100個^000000、";
			mes "^FF0000燃えている心臓100個^000000、^FF0000烈火石50個^000000、";
			mes "^FF00007万8千Zeny^000000が必要だ。";
			break;
		}
		mes "ちゃんと確認してくれよ。";
		close;
	}
	if(checkweight(.@itemid,1) == 0) {
		mes "[テツ]";
		mes "お前、持てそうにないじゃないか。";
		mes "もう少し余裕をもってから";
		mes "来てくれよ。";
		close;
	}
	for(set .@i,0; .@i < getarraysize(.@need); set .@i,.@i+1)
		delitem .@need[.@i],.@amount[.@i];
	set Zeny,Zeny-.@zeny;
	getitem .@itemid,1;
	mes "[テツ]";
	mes "よし、材料も金もあるな。";
	mes "ほら、これが" +getitemname(.@itemid)+(.@itemid ==13301? "[3]": (.@itemid ==13302? "[4]": ""))+ "だ。";
	close;
}

que_ng.gat,28,50,3	script	ボシュ	709,{
	if(Job != Job_Ninja && Job != Job_Kagerou && Job != Job_Oboro) {
		mes "[ボシュ]";
		mes "私はボシュ。";
		mes "忍者の防具職人として";
		mes "一番と言われている。";
		next;
		mes "[ボシュ]";
		mes "私は東方の全ての鎧とあらゆる";
		mes "防具の製法を知っている。";
		mes "だから、私の作った防具は";
		mes "最高だと自負している。";
		next;
		mes "[ボシュ]";
		mes "しかし、君は忍者ではないから";
		mes "私の防具を装備できない。";
		mes "残念だよ。";
		close;
	}
	if(BaseLevel < 20) {
		mes "[ボシュ]";
		mes "私は忍者の若者達に";
		mes "最高の防具を作ってあげている。";
		next;
		mes "[ボシュ]";
		mes "だが、君は私の作った";
		mes "防具を装備するには、まだまだ";
		mes "レベルが低いようだね。";
		close;
	}
	if(countitem(2102) < 1) {
		mes "[ボシュ]";
		mes "私はボシュ。";
		mes "3人いる忍者の防具職人で";
		mes "一番と言われている。";
		next;
		mes "[ボシュ]";
		mes "3人と言っても、";
		mes "残りの2人は詐欺同然！";
		mes "私よりいい防具を作れるのは";
		mes "この世に存在しない。";
		next;
		mes "[ボシュ]";
		mes "なぜなら、私は";
		mes "東方の全ての鎧をはじめ、";
		mes "あらゆる防具の製法を";
		mes "知っているからだ。";
		next;
		mes "[ボシュ]";
		mes "しかし、私が作った鎧は";
		mes "防御力が高すぎて、";
		mes "その鎧を着たもの同士が争っても";
		mes "決着がつかないのが問題だった。";
		next;
		mes "[ボシュ]";
		mes "忍者が防具に頼る余り、";
		mes "技術を低下させないために、";
		mes "私は防具を作るのを止めている。";
		mes "今は主に、防具の";
		mes "収集活動をしている。";
		next;
		mes "[ボシュ]";
		mes "だが、聞く所によると、";
		mes "この広い世界にはまだ、";
		mes "私の知らない防具が";
		mes "あるみたいなんだ。";
		mes "なんだったかな……";
		next;
		mes "[ボシュ]";
		mes "^FF0000ガード[1]^000000だったかな？";
		mes "確かそんなんだった。";
		mes "ぜひ一度、実物を見てみたい。";
		next;
		mes "[ボシュ]";
		mes "どうせ私が作った鎧に比べると";
		mes "貧弱な物だとは思うが……";
		next;
		mes "[ボシュ]";
		mes "もし私の頼みを聞いてくれたら、";
		mes "君に特別な物を作ってあげよう。";
		mes "どうだ？";
		next;
		if(select("あまり気がのらないです","いいですよ")==1) {
			mes "[ボシュ]";
			mes "おや、残念だ。";
			mes "私の作った防具が手に入る";
			mes "またとないチャンスなのにな。";
			close;
		}
		mes "[ボシュ]";
		mes "商談成立ってやつだな。";
		mes "じゃあ、^FF0000ガード[1]^000000と呼ばれる";
		mes "防具を手に入れてきてくれ。";
		close;
	}
	mes "[ボシュ]";
	mes "ぁ、君！";
	mes "もしかして、それは";
	mes "ガードという防具じゃないか？";
	mes "ちょっと見せてくれ！";
	next;
	mes "[ボシュ]";
	mes "そう！　これだ！";
	mes "すべての防具にスロットを付ければ";
	mes "より良い性能を引き出す事ができる！";
	mes "なんだこんな簡単なことに";
	mes "気づかなかったんだ！";
	next;
	mes "[ボシュ]";
	mes "あ、私の名はボシュ。";
	mes "東方にいる三人の";
	mes "忍者用防具職人の中で";
	mes "一番と言われている。";
	mes "私は東方の全ての防具の製法を";
	mes "知っているんだ。";
	next;
	mes "[ボシュ]";
	mes "しかし、私が作った鎧は";
	mes "あまりにも硬いため、";
	mes "それを装備した者同士が争ったら";
	mes "決着がつかないんだ。";
	next;
	mes "[ボシュ]";
	mes "私は忍者が防具に頼り、";
	mes "技術が失われていくのを防ぐため、";
	mes "防具を作るのをやめた。";
	mes "今は防具の収集家をしている。";
	next;
	mes "[ボシュ]";
	mes "だが、君が持っている";
	mes "その防具を見て、";
	mes "私の魂に火がついた！";
	next;
	mes "[ボシュ]";
	mes "もしよかったら、";
	mes "手甲1個、ガード[1]1個、";
	mes "そして1万Zenyで";
	mes "手甲[1]を作ってあげよう。";
	mes "どうする？";
	next;
	if(select("いいえ、結構です","はい！　お願いします！")==1) {
		mes "[ボシュ]";
		mes "そうか……";
		mes "うーん、残念だ。";
		mes "もし気が変わったら";
		mes "いつでも来てくれ。";
		close;
	}
	if(countitem(2102) < 1 || countitem(2117) < 1) {
		mes "[ボシュ]";
		mes "材料がちょっと";
		mes "足りないようだな。";
		next;
		mes "[ボシュ]";
		mes "手甲[1]を作るには";
		mes "手甲1個、ガード[1]1個、";
		mes "そして1万Zenyが必要だ。";
		mes "ちゃんと確認してから";
		mes "また来てくれ。";
		close;
	}
	if(Zeny < 10000) {
		mes "[ボシュ]";
		mes "材料は足りているが、";
		mes "金は足りないようだな。";
		next;
		mes "[ボシュ]";
		mes "手甲[1]を作るには";
		mes "手甲1個、ガード[1]1個、";
		mes "そして1万Zenyが必要だ。";
		mes "ちゃんと確認してから";
		mes "また来てくれ。";
		close;
	}
	mes "[ボシュ]";
	mes "材料の準備は";
	mes "できているみたいだな。";
	mes "最後にもう一度聞くが、";
	mes "手甲[1]を作ってもいいのか？";
	next;
	if(select("いえ","はい")==1) {
		mes "[ボシュ]";
		mes "わかった。";
		mes "もし気が変わったら";
		mes "いつでも来てくれ。";
		close;
	}
	mes "[ボシュ]";
	mes "よし！";
	mes "ちょっと待ってくれ。";
	mes "-カンカンカン-";
	next;
	mes "[ボシュ]";
	mes "よし、できた！";
	mes "これが手甲[1]だ。";
	mes "また欲しくなったら";
	mes "いつでも来てくれ。";
	delitem 2102,1;
	delitem 2117,1;
	set Zeny,Zeny-10000;
	getitem 2118,1;
	close;
}

que_ng.gat,28,45,3	script	バッシュ	86,{
	if(Job != Job_Ninja && Job != Job_Kagerou && Job != Job_Oboro) {
		mes "[バッシュ]";
		mes "私は3人の忍者用防具職人の一人、";
		mes "バッシュといいます。";
		mes "ちなみに、残りの二人は";
		mes "私の兄さんたちです。";
		next;
		mes "[バッシュ]";
		mes "あ……";
		mes "あなたは忍者ではありませんね。";
		mes "それでは私の作った防具を";
		mes "装備できないです。";
		mes "申し訳ありません。";
		close;
	}
	if(BaseLevel < 50) {
		mes "[バッシュ]";
		mes "私は忍者用防具を作っている";
		mes "バッシュと言います。";
		next;
		mes "[バッシュ]";
		mes "しかし、私の製作した防具を";
		mes "装備するには条件があるのです。";
		mes "もう少し成長してから、";
		mes "また来てください。";
		close;
	}
	if(countitem(2107) < 1) {
		mes "[バッシュ]";
		mes "私は3人の忍者用防具職人の一人、";
		mes "バッシュといいます。";
		mes "ちなみに、残りの二人は";
		mes "私の兄さんたちです。";
		next;
		mes "[バッシュ]";
		mes "私は兄さんたちの肩書きで";
		mes "防具職人として";
		mes "あまり活動できませんが、";
		mes "多くの方が私の防具を";
		mes "評価してくれています。";
		next;
		mes "[バッシュ]";
		mes "今は防具と魔法について";
		mes "研究しています。";
		next;
		mes "[バッシュ]";
		mes "そこでですが、海の彼方の国には";
		mes "ミラーシールドという防具が";
		mes "あるらしいですね？";
		mes "それを手に入れることは";
		mes "できませんか？";
		next;
		mes "[バッシュ]";
		mes "もしミラーシールドを";
		mes "調べることができれば、";
		mes "研究がとても進みます。";
		mes "私の願いを聞いてもらえますか？";
		next;
		if(select("断る","いいですよ")==1) {
			mes "[バッシュ]";
			mes "ん～";
			mes "やっぱり無理な頼みでしたか。";
			mes "申し訳ありません。";
			mes "もしミラーシールドが手に入って、";
			mes "処分にでも困った時は、";
			mes "いつでも私の所にきてください。";
			close;
		}
		mes "[バッシュ]";
		mes "ありがとうございます。";
		mes "ぁ、スロットは無いもので";
		mes "お願いしますね。";
		mes "それではお待ちしています。";
		close;
	}
	mes "[バッシュ]";
	mes "あ、もしかしたら";
	mes "それはミラーシールドという";
	mes "防具じゃありませんか？";
	next;
	mes "[バッシュ]";
	mes "申し訳ありませんが、";
	mes "一度見せてください……";
	next;
	mes "[バッシュ]";
	mes "やっぱり！";
	mes "この防具みたいに";
	mes "魔法に対する防御力を";
	mes "付け加えれば！";
	next;
	mes "[バッシュ]";
	mes "そう……";
	mes "より一層、良い性能を";
	mes "引き出せそうです！";
	mes "どうしてこんな簡単な事に";
	mes "気づかなかったんでしょう！";
	next;
	mes "[バッシュ]";
	mes "実は、私は3人の";
	mes "忍者用防具職人の一人、";
	mes "バッシュといいます。";
	mes "ちなみに、残りの二人は";
	mes "私の兄さんたちです。";
	next;
	mes "[バッシュ]";
	mes "私は兄さんたちの肩書きで";
	mes "防具職人として";
	mes "あまり活動できませんが、";
	mes "多くの方が私の防具を";
	mes "評価してくれています。";
	next;
	mes "[バッシュ]";
	mes "今は防具と魔法について";
	mes "研究しています。";
	next;
	mes "[バッシュ]";
	mes "そこで、海の彼方の国にある";
	mes "ミラーシールドという防具から";
	mes "アイデアを出そうとしていましたが、";
	mes "なかなか手に入らなくて";
	mes "困り果てていました。";
	next;
	mes "[バッシュ]";
	mes "しかし、運良く";
	mes "あなたが見せてくれた";
	mes "そのミラーシールドのおかげで";
	mes "眠っていた創作意欲に";
	mes "魂が入りました。";
	next;
	mes "[バッシュ]";
	mes "もしよかったら";
	mes "手甲1個、ミラーシールド1個。";
	mes "そして2万Zenyで手甲改を";
	mes "作って差し上げますが。";
	mes "どうしますか？";
	next;
	if(select("遠慮しておきます","お願いします")==1) {
		mes "[バッシュ]";
		mes "うーん、そうですか。";
		mes "残念です。";
		mes "もし気が変わったら";
		mes "いつでも来てください。";
		close;
	}
	if(countitem(2107) < 1 || countitem(2117) < 1) {
		mes "[バッシュ]";
		mes "材料がちょっと";
		mes "足りないようですね。";
		mes "手甲改を作るなら、";
		mes "手甲1個、ミラーシールド1個。";
		mes "そして2万Zenyが必要です。";
		mes "確認後、また来てください。";
		close;
	}
	if(Zeny < 20000) {
		mes "[バッシュ]";
		mes "材料は十分ですが、";
		mes "お金が足りないようです。";
		mes "手甲改を作るなら、";
		mes "手甲1個、ミラーシールド1個。";
		mes "そして2万Zenyが必要です。";
		mes "確認後、また来てください。";
		close;
	}
	mes "[バッシュ]";
	mes "材料はもう";
	mes "そろってるみたいですね。";
	mes "では、最後にもう一度聞きます。";
	next;
	mes "[バッシュ]";
	mes "手甲改は魔法に対する";
	mes "防御力が上がる代わりに、";
	mes "物理的な防御力は多少";
	mes "落ちてしまいます。";
	next;
	mes "[バッシュ]";
	mes "それでも、持って来た材料で";
	mes "手甲改を作りますか？";
	next;
	if(select("いいえ","はい")==1) {
		mes "[バッシュ]";
		mes "わかりました。";
		mes "では、考えが変わったら";
		mes "また来てください。";
		close;
	}
	mes "[バッシュ]";
	mes "はい、では";
	mes "始めましょうか。";
	mes "-トントントン-";
	mes "-カンカンカンカン-";
	next;
	mes "[バッシュ]";
	mes "どうぞ、これが手甲改です。";
	mes "またこれが必要になったら";
	mes "いつでも来てください。";
	delitem 2107,1;
	delitem 2117,1;
	set Zeny,Zeny-20000;
	getitem 2119,1;
	close;
}

que_ng.gat,27,18,3	script	トシュ	709,{
	if(Job != Job_Ninja && Job != Job_Kagerou && Job != Job_Oboro) {
		mes "[トシュ]";
		mes "私は忍者用防具";
		mes "を作っている3兄弟の一人。";
		mes "トシュと言う。";
		next;
		mes "[トシュ]";
		mes "海の向こうで";
		mes "防具にスロットを付ける";
		mes "技術を学んできたので、";
		mes "今はその技術を最大限に";
		mes "生かしたい。";
		next;
		mes "[トシュ]";
		mes "だが、君は忍者ではないから";
		mes "私の作った防具を";
		mes "装備できないようだ……";
		close;
	}
	mes "[トシュ]";
	mes "お元気かな？";
	mes "若き友よ。";
	mes "私は忍者用防具を";
	mes "作っている3兄弟の一人。";
	mes "トシュと言う。";
	next;
	mes "[トシュ]";
	mes "海の向こうで";
	mes "防具にスロットを付ける";
	mes "技術を学んできたので、";
	mes "今はその技術を最大限に";
	mes "生かしたい。";
	next;
	mes "[トシュ]";
	mes "もし希望するなら、";
	mes "手甲改1個、バックラー[1]を1個。";
	mes "そして4万Zenyを持ってくれば、";
	mes "手甲改にスロットを";
	mes "付けてあげよう。";
	next;
	mes "[トシュ]";
	mes "だが、この技術は非常に繊細。";
	mes "失敗する可能性も多少ある。";
	mes "その事をよく考えて欲しい。";
	mes "それでもスロットを付けてみるか？";
	next;
	if(select("いいえ","はい")==1) {
		mes "[トシュ]";
		mes "そうだな。";
		mes "慎重なほうがいい。";
		mes "もし決心がついたら";
		mes "また来るといい。";
		close;
	}
	if(countitem(2104) < 1 || countitem(2119) < 1) {
		mes "[トシュ]";
		mes "材料が足りないようだ。";
		mes "材料はバックラー[1]を1個、";
		mes "手甲改1個、そして";
		mes "4万Zenyだ。";
		mes "数量と金額は正確に。";
		close;
	}
	if(Zeny < 40000) {
		mes "[トシュ]";
		mes "材料は十分だが、";
		mes "お金が足りないな。";
		next;
		mes "[トシュ]";
		mes "材料はバックラー[1]を1個、";
		mes "手甲改1個、そして";
		mes "4万Zenyだ。";
		mes "数量と金額は正確に。";
		close;
	}
	mes "[トシュ]";
	mes "うん。";
	mes "全部揃っている。";
	mes "では、製作に入る。";
	next;
	mes "[トシュ]";
	mes "もう一度言うが、";
	mes "失敗する可能性がある。";
	mes "それでもするか？";
	next;
	if(select("やっぱりやめておきます","それでも挑戦します")==1) {
		mes "[トシュ]";
		mes "そうだな。";
		mes "慎重なほうがいい。";
		mes "もし決心がついたら";
		mes "また来るといい。";
		close;
	}
	mes "[トシュ]";
	mes "よし、わかった。";
	mes "少し待ってくれ。";
	mes "-トントントトントン-";
	mes "-ガゴンガゴン-";
	next;
	delitem 2104,1;
	delitem 2119,1;
	set Zeny,Zeny-40000;
	if(rand(5) < 2) {
		mes "[トシュ]";
		mes "く……";
		mes "だめだ……失敗した。";
		mes "……すまない。";
		mes "お詫びといってはなんだが、";
		mes "これでも食べて";
		mes "元気を出してくれ。";
		getitem 12043,1;
		close;
	}
	mes "[トシュ]";
	mes "よし、完成した。";
	mes "失敗するか心配だったが、";
	mes "大丈夫だったな。";
	mes "では、また必要になったら";
	mes "いつでも来てくれ。";
	getitem 2120,1;
	close;
}
//-----------------------------------------------
//==== 買取露店開設 - ALL_BUYING_STORE
//-----------------------------------------------
-	script	買取担当組合員#buy	59,{
	if(getskilllv(2535)>0) {
		mes "[買取担当組合員]";
		mes "やあ、こんにちは。";
		mes "買取露店ライセンスが必要かな？";
		next;
		if(select("買取露店ライセンスを購入する","必要ない")==2) {
			mes "[買取担当組合員]";
			mes "買取露店を開設するために必要な";
			mes "ライセンスが必要になったら";
			mes "いつでも来てくれよ。";
			close;
		}
		mes "[買取担当組合員]";
		mes "買取露店ライセンスは^0000FF1枚";
		mes "200zeny^000000だ。";
		mes "一度に最大50枚まで発行できるよ。";
		mes "何枚購入するんだい？";
		while(1){
			next;
			input .@num;
			if(.@num > 0 && .@num < 10)
				break;
			if(.@num == 0) {
				mes "[買取担当組合員]";
				mes "ん？";
				mes "いらないのかい？";
				mes "それじゃあ、また必要になったら";
				mes "声をかけてくれよ。";
				close;
			}
			mes "[買取担当組合員]";
			mes "50枚以内でお願いできるかな？";
		}
		set .@price,200 * .@num;
		if(Zeny < .@price) {
			mes "[買取担当組合員]";
			mes "ライセンス"+ .@num +"枚だと、"+ .@price +"zenyだけど……";
			mes "お金が足りないんじゃないかな。";
			close;
		}
		mes "[買取担当組合員]";
		mes "ライセンス"+ .@num +"枚で、"+ .@price +"zenyだね。";
		mes "確かにいただいたよ！";
		set Zeny,Zeny-.@price;
		getitem 6377,.@num;
		close;
	}
	if(getskilllv(41)==0) {
		mes "[買取担当組合員]";
		mes "アルベルタ商人組合の。";
		mes "買取担当だ。";
		mes "ちょっと今忙しくてね……";
		next;
		mes "[買取担当組合員]";
		mes "君は……";
		mes "うーん、^FF0000露店開設^000000が";
		mes "出来る人だったら話したいことも";
		mes "あるんだけど……";
		mes "ああ、忙しい忙しい。";
		close;
	}
	mes "[買取担当組合員]";
	mes "アルベルタ商人組合の買取担当だ。";
	mes "君は……";
	next;
	mes "[買取担当組合員]";
	mes "今回、商人組合で";
	mes "個人での買取の許可が";
	mes "下りたのを知っているかい？";
	next;
	if(select("知らない","そんな許可がなくても買取していた")==1) {
		mes "[買取担当組合員]";
		mes "だよね。";
		mes "今までも勿論、直接人に掛け合って";
		mes "個人的に物品の買取は出来たと思うけど";
		mes "大量に買取したり、いちいち欲しい物を";
	} else {
		mes "[買取担当組合員]";
		mes "まあ、そうだよね！";
		mes "でも、大量に買取したり、";
		mes "いちいち欲しい物を";
	}
	mes "持っている人を探すのは";
	mes "大変だったと思うんだ。";
	next;
	mes "[買取担当組合員]";
	mes "物品の大量流通は商人にとって";
	mes "重要事項！";
	mes "そこで、組合員歴10年の俺が";
	mes "画期的な企画を提案したんだよ。";
	next;
	mes "[買取担当組合員]";
	mes "その名も";
	mes "『買取が出来る露店の";
	mes "　開設方法とその提案』だ！";
	mes "この提案の内容というのは……";
	next;
	mes "^006200-買取担当組合員は、提案内容を";
	mes " 語り始めた……-^000000";
	next;
	mes "[買取担当組合員]";
	mes "……で、ここの仕組みが……";
	next;
	menu "あの、長いので結論だけお願いします",-;
	mes "[買取担当組合員]";
	mes "……え？";
	mes "ああ、そうかい、要約すると";
	mes "^0000FF一部のアイテムに限り、専用の";
	mes "露店で買取が可能になる^000000ってこと。";
	next;
	mes "[買取担当組合員]";
	mes "ただし、買取露店を開設するには";
	mes "商人組合が発行するライセンスが";
	mes "必要なんだ。";
	mes "1回開設するたびに1枚ライセンスを";
	mes "必要とするよ。";
	next;
	mes "[買取担当組合員]";
	mes "このライセンス収入で、";
	mes "少しは商人組合も持ち直せるかな……";
	next;
	menu "…………",-;
	mes "[買取担当組合員]";
	mes "と、いうわけで、";
	mes "露店開設が出来る人に、";
	mes "ライセンスを発行してあげようと";
	mes "いうわけさ。";
	next;
	mes "[買取担当組合員]";
	mes "まず、初回登録費用として";
	mes "^FF000010,000zeny^000000が必要！";
	mes "あとは、買取露店開設のたびに";
	mes "^0000FF買取露店ライセンス^000000が必要！";
	next;
	mes "[買取担当組合員]";
	mes "どうする、登録するかい？";
	mes "登録してくれれば、買取露店開設の";
	mes "方法から伝授するよ。";
	next;
	if(Upper == 0) {
		mes "[買取担当組合員]";
		mes "あ、ちなみに……";
		mes "転生してしまうと登録は";
		mes "解除されるからね。";
		mes "転生したら、また登録してもらうよ。";
		next;
	}
	if(select("登録して買取露店開設を学ぶ","やめておく")==2) {
		mes "[買取担当組合員]";
		mes "おや、そうかい？";
		mes "結構便利だと思うんだけど……";
		mes "まあ、また気が変わったら";
		mes "来てくれよ！";
		close;
	}
	if(Zeny < 10000) {
		mes "[買取担当組合員]";
		mes "10,000zeny……";
		mes "持っていないみたいだね。";
		mes "是非、準備してから頼むよ！";
		close;
	}
	mes "[買取担当組合員]";
	mes "そうこなくちゃ！";
	mes "えーと……名前は……";
	mes strcharinfo(0)+ "。";
	mes "買取露店開設、認可完了だよ。";
	set Zeny,Zeny-10000;
	getitem 6377,5;
	skill 2535,2;		//Lv2を習得する
	next;
	mes "[買取担当組合員]";
	mes "さて、では注意事項を説明するよ。";
	mes "買取可能なアイテムは";
	mes "装備品や一部のポーション類、";
	mes "個人が作成した物を除いた";
	mes "消耗品や収集品に限定されている。";
	next;
	mes "[買取担当組合員]";
	mes "他にも、商人組合が許諾していない";
	mes "アイテムは買取不可能だ。";
	mes "買取可能なアイテムリストに";
	mes "表示されなければ、そのアイテムは";
	mes "買取できない。";
	next;
	mes "[買取担当組合員]";
	mes "物によっては組合の判断で";
	mes "今後買取可能になるかもしれないけど";
	mes "とりあえず^FF0000消耗品や";
	mes "収集品でも物によっては";
	mes "買い取れない^000000ことを";
	mes "了承してほしい。";
	next;
	mes "[買取担当組合員]";
	mes "あと、これも重要だけど";
	mes "買取しようとしているアイテムは";
	mes "最低でも自分で1つは所持している";
	mes "必要があるんだ。";
	mes "自分のアイテムをサンプルとして";
	mes "提示しておくわけさ。";
	next;
	mes "[買取担当組合員]";
	mes "まあ、そんなところかな。";
	mes "初回登録時のおまけとして";
	mes "買取露店開設ライセンスを";
	mes "5枚プレゼントだ。";
	mes "うまく活用してくれよ。";
	close;
}
prt_in.gat,126,65,4	duplicate(買取担当組合員#buy)	買取担当組合員#Prt	59
alberta_in.gat,58,52,4	duplicate(買取担当組合員#buy)	買取担当組合員#Alb	59

que_job01.gat,68,84,0	script	闇商人	881,{
	if(getskilllv(2535)>0) {
		mes "[闇商人]";
		mes "……ん……、";
		mes "お前、商人組合のヤツに";
		mes "関わってやがるな？";
		mes "……なら、用は無いな。";
		close;
	}
	mes "[闇商人]";
	mes "……こんなところまで";
	mes "よく来たな。";
	mes "何が必要なんだ？";
	next;
	switch(select("偽造買取露店ライセンス","あなたは何者？","何も必要ない")) {
	case 1:
		mes "[闇商人]";
		mes "ふふ……";
		mes "お前がそれを求めるなら、";
		mes "精巧なライセンスを作ってやるぜ。";
		mes "いくつ欲しいんだ？";
		next;
		mes "[闇商人]";
		mes "一度にそんなには作れないからな、";
		mes "最大10枚までだ。";
		mes "手数料は1枚あたり^0000FF500zeny^000000貰うぜ。";
		mes "あとな、目を付けられないように";
		mes "買取露店自体は正規のものより";
		mes "小さい規模でやるのがルールだ。";
		while(1){
			next;
			input .@num;
			if(.@num > 0 && .@num < 10)
				break;
			if(.@num == 0) {
				mes "[闇商人]";
				mes "ん？";
				mes "いらないのか……";
				close;
			}
			mes "[闇商人]";
			mes "一度に作れるのは10枚までだと";
			mes "言っただろう……";
		}
		set .@price,500 * .@num;
		if(Zeny < .@price) {
			mes "[闇商人]";
			mes "手数料は合計"+ .@price +"zenyだ。";
			mes "金が足りないな。";
			close;
		}
		mes "[闇商人]";
		mes "手数料は合計"+ .@price +"zenyだ。";
		mes "うん、確かに……";
		mes "くくく、お前も同じ穴のムジナ……";
		mes "せいぜいうまくやるんだな……";
		set Zeny,Zeny-.@price;
		getitem 12548,.@num;
		close;
	case 2:
		mes "[闇商人]";
		mes "俺はもう故郷のアルベルタを";
		mes "離れて久しい……";
		mes "そんな質問は俺には無意味だ。";
		mes "俺に残ったのは、ただ憎悪だけ……";
		next;
		mes "[闇商人]";
		mes "……ただしい道とは何か……";
		mes "もう堕落した俺には何が残ったのか……";
		mes "ただ、商人組合のヤツに";
		mes "一泡吹かせて";
		mes "やることが出来れば……";
		next;
		mes "[闇商人]";
		mes "……喋りすぎたようだな。";
		mes "忘れてくれ。";
		close;
	case 3:
		mes "[闇商人]";
		mes "……そうか。";
		close;
	}
}
morocc.gat,43,108,5	script	鋭い印象の少年	82,{
	if(countitem(7416)) {
		mes "[ジャック]";
		mes "推薦状？";
		mes "ずいぶん古い遺物を持ってきたな。";
		mes "まあ、とりあえず中にいるマスターに";
		mes "会ってみな。";
		close;
	}
	if(BaseJob == Job_Assassin) {
		mes "[ジャック]";
		mes "街の半分が破壊されたと言うのに";
		mes "未だにここを訪れる人がいるんだよな。";
		mes "あの騒ぎの中でも無事だったアジトが";
		mes "そんなに珍しいのか？";
		close;
	}
	mes "[ジャック]";
	mes "何をしてるんだ？";
	mes "こんな所でウロチョロしているより、";
	mes "早く避難地域に向かった方がいい。";
	close;
}

morocc.gat,45,110,0	script	#mocbar1	45,2,2,{
	if(MOC_1QUE || BaseJob == Job_Assassin) {
		warp "que_job01.gat",9,94;
		end;
	}
	mes "[ジャック]";
	mes "……そこは誰でも通れる場所ではない。";
	next;
	mes "[ジャック]";
	mes "でも、状況が昔とは違うからな。";
	mes "好きにしな！";
	close2;
	warp "que_job01.gat",9,94;
	end;
}

que_job01.gat,6,94,0	warp	#mocbar2	2,2,morocc.gat,45,103

que_job01.gat,17,48,0	warp	#mocbar3	2,2,que_job01.gat,68,92

que_job01.gat,68,96,0	warp	#mocbar4	2,2,que_job01.gat,17,53

que_job01.gat,70,84,1	script	少女#Kimmie	882,{
	mes "[少女]";
	mes "世の中が……どうしてこんな風に";
	mes "変わってしまったのでしょう。";
	mes "シクシク……";
	mes "何事もうまくいきませんし……";
	emotion 28;
	next;
	mes "[" +strcharinfo(0)+ "]";
	mes "可哀想だな……";
	mes "これが現実と言うものか。";
	close;
}
